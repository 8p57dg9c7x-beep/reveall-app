{"dependencies":[{"name":"../config","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":78},"end":{"line":6,"column":41,"index":119}}],"key":"pHqFJJBAh3HI9ZCkK8fFRwPv3x0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"trackEvent\", {\n    enumerable: true,\n    get: function () {\n      return trackEvent;\n    }\n  });\n  Object.defineProperty(exports, \"trackProductClick\", {\n    enumerable: true,\n    get: function () {\n      return trackProductClick;\n    }\n  });\n  Object.defineProperty(exports, \"trackOutfitView\", {\n    enumerable: true,\n    get: function () {\n      return trackOutfitView;\n    }\n  });\n  Object.defineProperty(exports, \"trackBeautyView\", {\n    enumerable: true,\n    get: function () {\n      return trackBeautyView;\n    }\n  });\n  Object.defineProperty(exports, \"trackCategoryView\", {\n    enumerable: true,\n    get: function () {\n      return trackCategoryView;\n    }\n  });\n  Object.defineProperty(exports, \"getAnalyticsDashboard\", {\n    enumerable: true,\n    get: function () {\n      return getAnalyticsDashboard;\n    }\n  });\n  var _config = require(_dependencyMap[0], \"../config\");\n  /**\n   * Analytics Service\n   * Tracks user events for monetization insights\n   */\n\n  // Generate a simple session ID (persists during app session)\n  let sessionId = `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n\n  /**\n   * Track analytics event\n   * @param {string} eventType - product_click, outfit_view, beauty_view, category_view\n   * @param {object} data - Event data\n   */\n  const trackEvent = async (eventType, data = {}) => {\n    try {\n      const event = {\n        event_type: eventType,\n        session_id: sessionId,\n        referral_source: data.referral_source || 'app',\n        ...data\n      };\n      const response = await fetch(`${_config.API_BASE_URL}/api/analytics/track`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(event)\n      });\n      const result = await response.json();\n      if (result.success) {\n        console.log(`âœ… Analytics tracked: ${eventType}`);\n      }\n    } catch (error) {\n      // Silently fail - don't disrupt user experience\n      console.log('Analytics tracking error:', error);\n    }\n  };\n\n  /**\n   * Track product click\n   */\n  const trackProductClick = (product, itemContext = {}) => {\n    trackEvent('product_click', {\n      product_name: product.name,\n      product_price: product.price,\n      product_affiliate_url: product.affiliate_url || '',\n      item_id: itemContext.item_id,\n      item_title: itemContext.item_title,\n      category: itemContext.category\n    });\n  };\n\n  /**\n   * Track outfit view\n   */\n  const trackOutfitView = outfit => {\n    trackEvent('outfit_view', {\n      item_id: outfit.id?.toString(),\n      item_title: outfit.title,\n      category: outfit.category\n    });\n  };\n\n  /**\n   * Track beauty look view\n   */\n  const trackBeautyView = beautyLook => {\n    trackEvent('beauty_view', {\n      item_id: beautyLook.id?.toString(),\n      item_title: beautyLook.title,\n      category: beautyLook.category\n    });\n  };\n\n  /**\n   * Track category view\n   */\n  const trackCategoryView = (category, type = 'outfit') => {\n    trackEvent('category_view', {\n      category: category,\n      item_title: `${type}_category_${category}`\n    });\n  };\n\n  /**\n   * Get analytics dashboard data\n   */\n  const getAnalyticsDashboard = async () => {\n    try {\n      const response = await fetch(`${_config.API_BASE_URL}/api/analytics/dashboard`);\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('Error fetching analytics:', error);\n      return null;\n    }\n  };\n});","lineCount":141,"map":[[7,2,16,0,"Object"],[7,8,16,0],[7,9,16,0,"defineProperty"],[7,23,16,0],[7,24,16,0,"exports"],[7,31,16,0],[8,4,16,0,"enumerable"],[8,14,16,0],[9,4,16,0,"get"],[9,7,16,0],[9,18,16,0,"get"],[9,19,16,0],[10,6,16,0],[10,13,16,0,"trackEvent"],[10,23,16,0],[11,4,16,0],[12,2,16,0],[13,2,47,0,"Object"],[13,8,47,0],[13,9,47,0,"defineProperty"],[13,23,47,0],[13,24,47,0,"exports"],[13,31,47,0],[14,4,47,0,"enumerable"],[14,14,47,0],[15,4,47,0,"get"],[15,7,47,0],[15,18,47,0,"get"],[15,19,47,0],[16,6,47,0],[16,13,47,0,"trackProductClick"],[16,30,47,0],[17,4,47,0],[18,2,47,0],[19,2,61,0,"Object"],[19,8,61,0],[19,9,61,0,"defineProperty"],[19,23,61,0],[19,24,61,0,"exports"],[19,31,61,0],[20,4,61,0,"enumerable"],[20,14,61,0],[21,4,61,0,"get"],[21,7,61,0],[21,18,61,0,"get"],[21,19,61,0],[22,6,61,0],[22,13,61,0,"trackOutfitView"],[22,28,61,0],[23,4,61,0],[24,2,61,0],[25,2,72,0,"Object"],[25,8,72,0],[25,9,72,0,"defineProperty"],[25,23,72,0],[25,24,72,0,"exports"],[25,31,72,0],[26,4,72,0,"enumerable"],[26,14,72,0],[27,4,72,0,"get"],[27,7,72,0],[27,18,72,0,"get"],[27,19,72,0],[28,6,72,0],[28,13,72,0,"trackBeautyView"],[28,28,72,0],[29,4,72,0],[30,2,72,0],[31,2,83,0,"Object"],[31,8,83,0],[31,9,83,0,"defineProperty"],[31,23,83,0],[31,24,83,0,"exports"],[31,31,83,0],[32,4,83,0,"enumerable"],[32,14,83,0],[33,4,83,0,"get"],[33,7,83,0],[33,18,83,0,"get"],[33,19,83,0],[34,6,83,0],[34,13,83,0,"trackCategoryView"],[34,30,83,0],[35,4,83,0],[36,2,83,0],[37,2,93,0,"Object"],[37,8,93,0],[37,9,93,0,"defineProperty"],[37,23,93,0],[37,24,93,0,"exports"],[37,31,93,0],[38,4,93,0,"enumerable"],[38,14,93,0],[39,4,93,0,"get"],[39,7,93,0],[39,18,93,0,"get"],[39,19,93,0],[40,6,93,0],[40,13,93,0,"getAnalyticsDashboard"],[40,34,93,0],[41,4,93,0],[42,2,93,0],[43,2,6,0],[43,6,6,0,"_config"],[43,13,6,0],[43,16,6,0,"require"],[43,23,6,0],[43,24,6,0,"_dependencyMap"],[43,38,6,0],[44,2,1,0],[45,0,2,0],[46,0,3,0],[47,0,4,0],[49,2,8,0],[50,2,9,0],[50,6,9,4,"sessionId"],[50,15,9,13],[50,18,9,16],[50,29,9,27,"Date"],[50,33,9,31],[50,34,9,32,"now"],[50,37,9,35],[50,38,9,36],[50,39,9,37],[50,43,9,41,"Math"],[50,47,9,45],[50,48,9,46,"random"],[50,54,9,52],[50,55,9,53],[50,56,9,54],[50,57,9,55,"toString"],[50,65,9,63],[50,66,9,64],[50,68,9,66],[50,69,9,67],[50,70,9,68,"substr"],[50,76,9,74],[50,77,9,75],[50,78,9,76],[50,80,9,78],[50,81,9,79],[50,82,9,80],[50,84,9,82],[52,2,11,0],[53,0,12,0],[54,0,13,0],[55,0,14,0],[56,0,15,0],[57,2,16,7],[57,8,16,13,"trackEvent"],[57,18,16,23],[57,21,16,26],[57,27,16,26,"trackEvent"],[57,28,16,33,"eventType"],[57,37,16,42],[57,39,16,44,"data"],[57,43,16,48],[57,46,16,51],[57,47,16,52],[57,48,16,53],[57,53,16,58],[58,4,17,2],[58,8,17,6],[59,6,18,4],[59,12,18,10,"event"],[59,17,18,15],[59,20,18,18],[60,8,19,6,"event_type"],[60,18,19,16],[60,20,19,18,"eventType"],[60,29,19,27],[61,8,20,6,"session_id"],[61,18,20,16],[61,20,20,18,"sessionId"],[61,29,20,27],[62,8,21,6,"referral_source"],[62,23,21,21],[62,25,21,23,"data"],[62,29,21,27],[62,30,21,28,"referral_source"],[62,45,21,43],[62,49,21,47],[62,54,21,52],[63,8,22,6],[63,11,22,9,"data"],[64,6,23,4],[64,7,23,5],[65,6,25,4],[65,12,25,10,"response"],[65,20,25,18],[65,23,25,21],[65,29,25,27,"fetch"],[65,34,25,32],[65,35,25,33],[65,38,25,36,"API_BASE_URL"],[65,45,25,48],[65,46,25,48,"API_BASE_URL"],[65,58,25,48],[65,80,25,70],[65,82,25,72],[66,8,26,6,"method"],[66,14,26,12],[66,16,26,14],[66,22,26,20],[67,8,27,6,"headers"],[67,15,27,13],[67,17,27,15],[68,10,28,8],[68,24,28,22],[68,26,28,24],[69,8,29,6],[69,9,29,7],[70,8,30,6,"body"],[70,12,30,10],[70,14,30,12,"JSON"],[70,18,30,16],[70,19,30,17,"stringify"],[70,28,30,26],[70,29,30,27,"event"],[70,34,30,32],[71,6,31,4],[71,7,31,5],[71,8,31,6],[72,6,33,4],[72,12,33,10,"result"],[72,18,33,16],[72,21,33,19],[72,27,33,25,"response"],[72,35,33,33],[72,36,33,34,"json"],[72,40,33,38],[72,41,33,39],[72,42,33,40],[73,6,35,4],[73,10,35,8,"result"],[73,16,35,14],[73,17,35,15,"success"],[73,24,35,22],[73,26,35,24],[74,8,36,6,"console"],[74,15,36,13],[74,16,36,14,"log"],[74,19,36,17],[74,20,36,18],[74,44,36,42,"eventType"],[74,53,36,51],[74,55,36,53],[74,56,36,54],[75,6,37,4],[76,4,38,2],[76,5,38,3],[76,6,38,4],[76,13,38,11,"error"],[76,18,38,16],[76,20,38,18],[77,6,39,4],[78,6,40,4,"console"],[78,13,40,11],[78,14,40,12,"log"],[78,17,40,15],[78,18,40,16],[78,45,40,43],[78,47,40,45,"error"],[78,52,40,50],[78,53,40,51],[79,4,41,2],[80,2,42,0],[80,3,42,1],[82,2,44,0],[83,0,45,0],[84,0,46,0],[85,2,47,7],[85,8,47,13,"trackProductClick"],[85,25,47,30],[85,28,47,33,"trackProductClick"],[85,29,47,34,"product"],[85,36,47,41],[85,38,47,43,"itemContext"],[85,49,47,54],[85,52,47,57],[85,53,47,58],[85,54,47,59],[85,59,47,64],[86,4,48,2,"trackEvent"],[86,14,48,12],[86,15,48,13],[86,30,48,28],[86,32,48,30],[87,6,49,4,"product_name"],[87,18,49,16],[87,20,49,18,"product"],[87,27,49,25],[87,28,49,26,"name"],[87,32,49,30],[88,6,50,4,"product_price"],[88,19,50,17],[88,21,50,19,"product"],[88,28,50,26],[88,29,50,27,"price"],[88,34,50,32],[89,6,51,4,"product_affiliate_url"],[89,27,51,25],[89,29,51,27,"product"],[89,36,51,34],[89,37,51,35,"affiliate_url"],[89,50,51,48],[89,54,51,52],[89,56,51,54],[90,6,52,4,"item_id"],[90,13,52,11],[90,15,52,13,"itemContext"],[90,26,52,24],[90,27,52,25,"item_id"],[90,34,52,32],[91,6,53,4,"item_title"],[91,16,53,14],[91,18,53,16,"itemContext"],[91,29,53,27],[91,30,53,28,"item_title"],[91,40,53,38],[92,6,54,4,"category"],[92,14,54,12],[92,16,54,14,"itemContext"],[92,27,54,25],[92,28,54,26,"category"],[93,4,55,2],[93,5,55,3],[93,6,55,4],[94,2,56,0],[94,3,56,1],[96,2,58,0],[97,0,59,0],[98,0,60,0],[99,2,61,7],[99,8,61,13,"trackOutfitView"],[99,23,61,28],[99,26,61,32,"outfit"],[99,32,61,38],[99,36,61,43],[100,4,62,2,"trackEvent"],[100,14,62,12],[100,15,62,13],[100,28,62,26],[100,30,62,28],[101,6,63,4,"item_id"],[101,13,63,11],[101,15,63,13,"outfit"],[101,21,63,19],[101,22,63,20,"id"],[101,24,63,22],[101,26,63,24,"toString"],[101,34,63,32],[101,35,63,33],[101,36,63,34],[102,6,64,4,"item_title"],[102,16,64,14],[102,18,64,16,"outfit"],[102,24,64,22],[102,25,64,23,"title"],[102,30,64,28],[103,6,65,4,"category"],[103,14,65,12],[103,16,65,14,"outfit"],[103,22,65,20],[103,23,65,21,"category"],[104,4,66,2],[104,5,66,3],[104,6,66,4],[105,2,67,0],[105,3,67,1],[107,2,69,0],[108,0,70,0],[109,0,71,0],[110,2,72,7],[110,8,72,13,"trackBeautyView"],[110,23,72,28],[110,26,72,32,"beautyLook"],[110,36,72,42],[110,40,72,47],[111,4,73,2,"trackEvent"],[111,14,73,12],[111,15,73,13],[111,28,73,26],[111,30,73,28],[112,6,74,4,"item_id"],[112,13,74,11],[112,15,74,13,"beautyLook"],[112,25,74,23],[112,26,74,24,"id"],[112,28,74,26],[112,30,74,28,"toString"],[112,38,74,36],[112,39,74,37],[112,40,74,38],[113,6,75,4,"item_title"],[113,16,75,14],[113,18,75,16,"beautyLook"],[113,28,75,26],[113,29,75,27,"title"],[113,34,75,32],[114,6,76,4,"category"],[114,14,76,12],[114,16,76,14,"beautyLook"],[114,26,76,24],[114,27,76,25,"category"],[115,4,77,2],[115,5,77,3],[115,6,77,4],[116,2,78,0],[116,3,78,1],[118,2,80,0],[119,0,81,0],[120,0,82,0],[121,2,83,7],[121,8,83,13,"trackCategoryView"],[121,25,83,30],[121,28,83,33,"trackCategoryView"],[121,29,83,34,"category"],[121,37,83,42],[121,39,83,44,"type"],[121,43,83,48],[121,46,83,51],[121,54,83,59],[121,59,83,64],[122,4,84,2,"trackEvent"],[122,14,84,12],[122,15,84,13],[122,30,84,28],[122,32,84,30],[123,6,85,4,"category"],[123,14,85,12],[123,16,85,14,"category"],[123,24,85,22],[124,6,86,4,"item_title"],[124,16,86,14],[124,18,86,16],[124,21,86,19,"type"],[124,25,86,23],[124,38,86,36,"category"],[124,46,86,44],[125,4,87,2],[125,5,87,3],[125,6,87,4],[126,2,88,0],[126,3,88,1],[128,2,90,0],[129,0,91,0],[130,0,92,0],[131,2,93,7],[131,8,93,13,"getAnalyticsDashboard"],[131,29,93,34],[131,32,93,37],[131,38,93,37,"getAnalyticsDashboard"],[131,39,93,37],[131,44,93,49],[132,4,94,2],[132,8,94,6],[133,6,95,4],[133,12,95,10,"response"],[133,20,95,18],[133,23,95,21],[133,29,95,27,"fetch"],[133,34,95,32],[133,35,95,33],[133,38,95,36,"API_BASE_URL"],[133,45,95,48],[133,46,95,48,"API_BASE_URL"],[133,58,95,48],[133,84,95,74],[133,85,95,75],[134,6,96,4],[134,12,96,10,"data"],[134,16,96,14],[134,19,96,17],[134,25,96,23,"response"],[134,33,96,31],[134,34,96,32,"json"],[134,38,96,36],[134,39,96,37],[134,40,96,38],[135,6,97,4],[135,13,97,11,"data"],[135,17,97,15],[136,4,98,2],[136,5,98,3],[136,6,98,4],[136,13,98,11,"error"],[136,18,98,16],[136,20,98,18],[137,6,99,4,"console"],[137,13,99,11],[137,14,99,12,"error"],[137,19,99,17],[137,20,99,18],[137,47,99,45],[137,49,99,47,"error"],[137,54,99,52],[137,55,99,53],[138,6,100,4],[138,13,100,11],[138,17,100,15],[139,4,101,2],[140,2,102,0],[140,3,102,1],[141,0,102,2],[141,3]],"functionMap":{"names":["<global>","trackEvent","trackProductClick","trackOutfitView","trackBeautyView","trackCategoryView","getAnalyticsDashboard"],"mappings":"AAA;0BCe;CD0B;iCEK;CFS;+BGK;CHM;+BIK;CJM;iCKK;CLK;qCMK;CNS"},"hasCjsExports":false},"type":"js/module"}]}