{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-file-system","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":47,"index":74}}],"key":"6GyvFG3BsQPSqqu9QRKJ8hfZxPw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"recognizeImage\", {\n    enumerable: true,\n    get: function () {\n      return recognizeImage;\n    }\n  });\n  Object.defineProperty(exports, \"recognizeAudio\", {\n    enumerable: true,\n    get: function () {\n      return recognizeAudio;\n    }\n  });\n  Object.defineProperty(exports, \"recognizeVideo\", {\n    enumerable: true,\n    get: function () {\n      return recognizeVideo;\n    }\n  });\n  Object.defineProperty(exports, \"searchMovie\", {\n    enumerable: true,\n    get: function () {\n      return searchMovie;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  require(_dependencyMap[2], \"expo-file-system\");\n  // Use Render backend (accessible from mobile devices)\n  const API_BASE_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'https://cinescan-backend-1.onrender.com';\n  console.log('API_BASE_URL:', API_BASE_URL);\n  const api = axios.default.create({\n    baseURL: API_BASE_URL,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  const recognizeImage = async imageUri => {\n    try {\n      console.log('Recognizing image from URI:', imageUri);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-image`);\n\n      // Use fetch instead of axios for better FormData support\n      const formData = new FormData();\n\n      // Create a file object with proper structure for React Native\n      const uriParts = imageUri.split('.');\n      const fileType = uriParts[uriParts.length - 1];\n      formData.append('file', {\n        uri: imageUri,\n        name: `photo.${fileType}`,\n        type: `image/${fileType}`\n      });\n      const response = await fetch(`${API_BASE_URL}/api/recognize-image`, {\n        method: 'POST',\n        body: formData,\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      const data = await response.json();\n      console.log('Image recognition response:', data);\n      return data;\n    } catch (error) {\n      console.error('Image recognition error:', error);\n      return {\n        success: false,\n        error: error.message || 'Failed to process image'\n      };\n    }\n  };\n  const recognizeAudio = async audioUri => {\n    try {\n      console.log('Recognizing audio from URI:', audioUri);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-audio`);\n\n      // Use fetch with FormData for audio files\n      const formData = new FormData();\n      const uriParts = audioUri.split('.');\n      const fileType = uriParts[uriParts.length - 1];\n      formData.append('file', {\n        uri: audioUri,\n        name: `audio.${fileType}`,\n        type: `audio/${fileType}`\n      });\n      const response = await fetch(`${API_BASE_URL}/api/recognize-audio`, {\n        method: 'POST',\n        body: formData,\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      const data = await response.json();\n      console.log('Audio recognition response:', data);\n      return data;\n    } catch (error) {\n      console.error('Audio recognition error:', error);\n      return {\n        success: false,\n        error: error.message || 'Failed to process audio'\n      };\n    }\n  };\n  const recognizeVideo = async videoUri => {\n    try {\n      console.log('Recognizing video from URI:', videoUri);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-video`);\n\n      // Use fetch with FormData for video files\n      const formData = new FormData();\n      const uriParts = videoUri.split('.');\n      const fileType = uriParts[uriParts.length - 1];\n      formData.append('file', {\n        uri: videoUri,\n        name: `video.${fileType}`,\n        type: `video/${fileType}`\n      });\n      const response = await fetch(`${API_BASE_URL}/api/recognize-video`, {\n        method: 'POST',\n        body: formData,\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      const data = await response.json();\n      console.log('Video recognition response:', data);\n      return data;\n    } catch (error) {\n      console.error('Video recognition error:', error);\n      return {\n        success: false,\n        error: error.message || 'Failed to process video'\n      };\n    }\n  };\n  const searchMovie = async query => {\n    try {\n      const response = await api.post('/api/search', {\n        query\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Search error:', error);\n      throw error;\n    }\n  };\n});","lineCount":159,"map":[[12,2,17,0,"Object"],[12,8,17,0],[12,9,17,0,"defineProperty"],[12,23,17,0],[12,24,17,0,"exports"],[12,31,17,0],[13,4,17,0,"enumerable"],[13,14,17,0],[14,4,17,0,"get"],[14,7,17,0],[14,18,17,0,"get"],[14,19,17,0],[15,6,17,0],[15,13,17,0,"recognizeImage"],[15,27,17,0],[16,4,17,0],[17,2,17,0],[18,2,55,0,"Object"],[18,8,55,0],[18,9,55,0,"defineProperty"],[18,23,55,0],[18,24,55,0,"exports"],[18,31,55,0],[19,4,55,0,"enumerable"],[19,14,55,0],[20,4,55,0,"get"],[20,7,55,0],[20,18,55,0,"get"],[20,19,55,0],[21,6,55,0],[21,13,55,0,"recognizeAudio"],[21,27,55,0],[22,4,55,0],[23,2,55,0],[24,2,92,0,"Object"],[24,8,92,0],[24,9,92,0,"defineProperty"],[24,23,92,0],[24,24,92,0,"exports"],[24,31,92,0],[25,4,92,0,"enumerable"],[25,14,92,0],[26,4,92,0,"get"],[26,7,92,0],[26,18,92,0,"get"],[26,19,92,0],[27,6,92,0],[27,13,92,0,"recognizeVideo"],[27,27,92,0],[28,4,92,0],[29,2,92,0],[30,2,129,0,"Object"],[30,8,129,0],[30,9,129,0,"defineProperty"],[30,23,129,0],[30,24,129,0,"exports"],[30,31,129,0],[31,4,129,0,"enumerable"],[31,14,129,0],[32,4,129,0,"get"],[32,7,129,0],[32,18,129,0,"get"],[32,19,129,0],[33,6,129,0],[33,13,129,0,"searchMovie"],[33,24,129,0],[34,4,129,0],[35,2,129,0],[36,2,137,2],[36,6,137,2,"_expoVirtualEnv"],[36,21,137,2],[36,24,137,2,"require"],[36,31,137,2],[36,32,137,2,"_dependencyMap"],[36,46,137,2],[37,2,1,0],[37,6,1,0,"_axios"],[37,12,1,0],[37,15,1,0,"require"],[37,22,1,0],[37,23,1,0,"_dependencyMap"],[37,37,1,0],[38,2,1,0],[38,6,1,0,"axios"],[38,11,1,0],[38,14,1,0,"_interopDefault"],[38,29,1,0],[38,30,1,0,"_axios"],[38,36,1,0],[39,2,2,0,"require"],[39,9,2,0],[39,10,2,0,"_dependencyMap"],[39,24,2,0],[40,2,4,0],[41,2,5,0],[41,8,5,6,"API_BASE_URL"],[41,20,5,18],[41,23,5,21,"_expoVirtualEnv"],[41,38,5,21],[41,39,5,21,"env"],[41,42,5,21],[41,43,5,21,"EXPO_PUBLIC_BACKEND_URL"],[41,66,5,21],[41,70,5,60],[41,111,5,101],[42,2,7,0,"console"],[42,9,7,7],[42,10,7,8,"log"],[42,13,7,11],[42,14,7,12],[42,29,7,27],[42,31,7,29,"API_BASE_URL"],[42,43,7,41],[42,44,7,42],[43,2,9,0],[43,8,9,6,"api"],[43,11,9,9],[43,14,9,12,"axios"],[43,19,9,17],[43,20,9,17,"default"],[43,27,9,17],[43,28,9,18,"create"],[43,34,9,24],[43,35,9,25],[44,4,10,2,"baseURL"],[44,11,10,9],[44,13,10,11,"API_BASE_URL"],[44,25,10,23],[45,4,11,2,"timeout"],[45,11,11,9],[45,13,11,11],[45,18,11,16],[46,4,12,2,"headers"],[46,11,12,9],[46,13,12,11],[47,6,13,4],[47,20,13,18],[47,22,13,20],[48,4,14,2],[49,2,15,0],[49,3,15,1],[49,4,15,2],[50,2,17,7],[50,8,17,13,"recognizeImage"],[50,22,17,27],[50,25,17,30],[50,31,17,37,"imageUri"],[50,39,17,45],[50,43,17,50],[51,4,18,2],[51,8,18,6],[52,6,19,4,"console"],[52,13,19,11],[52,14,19,12,"log"],[52,17,19,15],[52,18,19,16],[52,47,19,45],[52,49,19,47,"imageUri"],[52,57,19,55],[52,58,19,56],[53,6,20,4,"console"],[53,13,20,11],[53,14,20,12,"log"],[53,17,20,15],[53,18,20,16],[53,28,20,26],[53,30,20,28],[53,33,20,31,"API_BASE_URL"],[53,45,20,43],[53,67,20,65],[53,68,20,66],[55,6,22,4],[56,6,23,4],[56,12,23,10,"formData"],[56,20,23,18],[56,23,23,21],[56,27,23,25,"FormData"],[56,35,23,33],[56,36,23,34],[56,37,23,35],[58,6,25,4],[59,6,26,4],[59,12,26,10,"uriParts"],[59,20,26,18],[59,23,26,21,"imageUri"],[59,31,26,29],[59,32,26,30,"split"],[59,37,26,35],[59,38,26,36],[59,41,26,39],[59,42,26,40],[60,6,27,4],[60,12,27,10,"fileType"],[60,20,27,18],[60,23,27,21,"uriParts"],[60,31,27,29],[60,32,27,30,"uriParts"],[60,40,27,38],[60,41,27,39,"length"],[60,47,27,45],[60,50,27,48],[60,51,27,49],[60,52,27,50],[61,6,29,4,"formData"],[61,14,29,12],[61,15,29,13,"append"],[61,21,29,19],[61,22,29,20],[61,28,29,26],[61,30,29,28],[62,8,30,6,"uri"],[62,11,30,9],[62,13,30,11,"imageUri"],[62,21,30,19],[63,8,31,6,"name"],[63,12,31,10],[63,14,31,12],[63,23,31,21,"fileType"],[63,31,31,29],[63,33,31,31],[64,8,32,6,"type"],[64,12,32,10],[64,14,32,12],[64,23,32,21,"fileType"],[64,31,32,29],[65,6,33,4],[65,7,33,5],[65,8,33,6],[66,6,35,4],[66,12,35,10,"response"],[66,20,35,18],[66,23,35,21],[66,29,35,27,"fetch"],[66,34,35,32],[66,35,35,33],[66,38,35,36,"API_BASE_URL"],[66,50,35,48],[66,72,35,70],[66,74,35,72],[67,8,36,6,"method"],[67,14,36,12],[67,16,36,14],[67,22,36,20],[68,8,37,6,"body"],[68,12,37,10],[68,14,37,12,"formData"],[68,22,37,20],[69,8,38,6,"headers"],[69,15,38,13],[69,17,38,15],[70,10,39,8],[70,24,39,22],[70,26,39,24],[71,8,40,6],[72,6,41,4],[72,7,41,5],[72,8,41,6],[73,6,43,4],[73,12,43,10,"data"],[73,16,43,14],[73,19,43,17],[73,25,43,23,"response"],[73,33,43,31],[73,34,43,32,"json"],[73,38,43,36],[73,39,43,37],[73,40,43,38],[74,6,44,4,"console"],[74,13,44,11],[74,14,44,12,"log"],[74,17,44,15],[74,18,44,16],[74,47,44,45],[74,49,44,47,"data"],[74,53,44,51],[74,54,44,52],[75,6,45,4],[75,13,45,11,"data"],[75,17,45,15],[76,4,46,2],[76,5,46,3],[76,6,46,4],[76,13,46,11,"error"],[76,18,46,16],[76,20,46,18],[77,6,47,4,"console"],[77,13,47,11],[77,14,47,12,"error"],[77,19,47,17],[77,20,47,18],[77,46,47,44],[77,48,47,46,"error"],[77,53,47,51],[77,54,47,52],[78,6,48,4],[78,13,48,11],[79,8,49,6,"success"],[79,15,49,13],[79,17,49,15],[79,22,49,20],[80,8,50,6,"error"],[80,13,50,11],[80,15,50,13,"error"],[80,20,50,18],[80,21,50,19,"message"],[80,28,50,26],[80,32,50,30],[81,6,51,4],[81,7,51,5],[82,4,52,2],[83,2,53,0],[83,3,53,1],[84,2,55,7],[84,8,55,13,"recognizeAudio"],[84,22,55,27],[84,25,55,30],[84,31,55,37,"audioUri"],[84,39,55,45],[84,43,55,50],[85,4,56,2],[85,8,56,6],[86,6,57,4,"console"],[86,13,57,11],[86,14,57,12,"log"],[86,17,57,15],[86,18,57,16],[86,47,57,45],[86,49,57,47,"audioUri"],[86,57,57,55],[86,58,57,56],[87,6,58,4,"console"],[87,13,58,11],[87,14,58,12,"log"],[87,17,58,15],[87,18,58,16],[87,28,58,26],[87,30,58,28],[87,33,58,31,"API_BASE_URL"],[87,45,58,43],[87,67,58,65],[87,68,58,66],[89,6,60,4],[90,6,61,4],[90,12,61,10,"formData"],[90,20,61,18],[90,23,61,21],[90,27,61,25,"FormData"],[90,35,61,33],[90,36,61,34],[90,37,61,35],[91,6,63,4],[91,12,63,10,"uriParts"],[91,20,63,18],[91,23,63,21,"audioUri"],[91,31,63,29],[91,32,63,30,"split"],[91,37,63,35],[91,38,63,36],[91,41,63,39],[91,42,63,40],[92,6,64,4],[92,12,64,10,"fileType"],[92,20,64,18],[92,23,64,21,"uriParts"],[92,31,64,29],[92,32,64,30,"uriParts"],[92,40,64,38],[92,41,64,39,"length"],[92,47,64,45],[92,50,64,48],[92,51,64,49],[92,52,64,50],[93,6,66,4,"formData"],[93,14,66,12],[93,15,66,13,"append"],[93,21,66,19],[93,22,66,20],[93,28,66,26],[93,30,66,28],[94,8,67,6,"uri"],[94,11,67,9],[94,13,67,11,"audioUri"],[94,21,67,19],[95,8,68,6,"name"],[95,12,68,10],[95,14,68,12],[95,23,68,21,"fileType"],[95,31,68,29],[95,33,68,31],[96,8,69,6,"type"],[96,12,69,10],[96,14,69,12],[96,23,69,21,"fileType"],[96,31,69,29],[97,6,70,4],[97,7,70,5],[97,8,70,6],[98,6,72,4],[98,12,72,10,"response"],[98,20,72,18],[98,23,72,21],[98,29,72,27,"fetch"],[98,34,72,32],[98,35,72,33],[98,38,72,36,"API_BASE_URL"],[98,50,72,48],[98,72,72,70],[98,74,72,72],[99,8,73,6,"method"],[99,14,73,12],[99,16,73,14],[99,22,73,20],[100,8,74,6,"body"],[100,12,74,10],[100,14,74,12,"formData"],[100,22,74,20],[101,8,75,6,"headers"],[101,15,75,13],[101,17,75,15],[102,10,76,8],[102,24,76,22],[102,26,76,24],[103,8,77,6],[104,6,78,4],[104,7,78,5],[104,8,78,6],[105,6,80,4],[105,12,80,10,"data"],[105,16,80,14],[105,19,80,17],[105,25,80,23,"response"],[105,33,80,31],[105,34,80,32,"json"],[105,38,80,36],[105,39,80,37],[105,40,80,38],[106,6,81,4,"console"],[106,13,81,11],[106,14,81,12,"log"],[106,17,81,15],[106,18,81,16],[106,47,81,45],[106,49,81,47,"data"],[106,53,81,51],[106,54,81,52],[107,6,82,4],[107,13,82,11,"data"],[107,17,82,15],[108,4,83,2],[108,5,83,3],[108,6,83,4],[108,13,83,11,"error"],[108,18,83,16],[108,20,83,18],[109,6,84,4,"console"],[109,13,84,11],[109,14,84,12,"error"],[109,19,84,17],[109,20,84,18],[109,46,84,44],[109,48,84,46,"error"],[109,53,84,51],[109,54,84,52],[110,6,85,4],[110,13,85,11],[111,8,86,6,"success"],[111,15,86,13],[111,17,86,15],[111,22,86,20],[112,8,87,6,"error"],[112,13,87,11],[112,15,87,13,"error"],[112,20,87,18],[112,21,87,19,"message"],[112,28,87,26],[112,32,87,30],[113,6,88,4],[113,7,88,5],[114,4,89,2],[115,2,90,0],[115,3,90,1],[116,2,92,7],[116,8,92,13,"recognizeVideo"],[116,22,92,27],[116,25,92,30],[116,31,92,37,"videoUri"],[116,39,92,45],[116,43,92,50],[117,4,93,2],[117,8,93,6],[118,6,94,4,"console"],[118,13,94,11],[118,14,94,12,"log"],[118,17,94,15],[118,18,94,16],[118,47,94,45],[118,49,94,47,"videoUri"],[118,57,94,55],[118,58,94,56],[119,6,95,4,"console"],[119,13,95,11],[119,14,95,12,"log"],[119,17,95,15],[119,18,95,16],[119,28,95,26],[119,30,95,28],[119,33,95,31,"API_BASE_URL"],[119,45,95,43],[119,67,95,65],[119,68,95,66],[121,6,97,4],[122,6,98,4],[122,12,98,10,"formData"],[122,20,98,18],[122,23,98,21],[122,27,98,25,"FormData"],[122,35,98,33],[122,36,98,34],[122,37,98,35],[123,6,100,4],[123,12,100,10,"uriParts"],[123,20,100,18],[123,23,100,21,"videoUri"],[123,31,100,29],[123,32,100,30,"split"],[123,37,100,35],[123,38,100,36],[123,41,100,39],[123,42,100,40],[124,6,101,4],[124,12,101,10,"fileType"],[124,20,101,18],[124,23,101,21,"uriParts"],[124,31,101,29],[124,32,101,30,"uriParts"],[124,40,101,38],[124,41,101,39,"length"],[124,47,101,45],[124,50,101,48],[124,51,101,49],[124,52,101,50],[125,6,103,4,"formData"],[125,14,103,12],[125,15,103,13,"append"],[125,21,103,19],[125,22,103,20],[125,28,103,26],[125,30,103,28],[126,8,104,6,"uri"],[126,11,104,9],[126,13,104,11,"videoUri"],[126,21,104,19],[127,8,105,6,"name"],[127,12,105,10],[127,14,105,12],[127,23,105,21,"fileType"],[127,31,105,29],[127,33,105,31],[128,8,106,6,"type"],[128,12,106,10],[128,14,106,12],[128,23,106,21,"fileType"],[128,31,106,29],[129,6,107,4],[129,7,107,5],[129,8,107,6],[130,6,109,4],[130,12,109,10,"response"],[130,20,109,18],[130,23,109,21],[130,29,109,27,"fetch"],[130,34,109,32],[130,35,109,33],[130,38,109,36,"API_BASE_URL"],[130,50,109,48],[130,72,109,70],[130,74,109,72],[131,8,110,6,"method"],[131,14,110,12],[131,16,110,14],[131,22,110,20],[132,8,111,6,"body"],[132,12,111,10],[132,14,111,12,"formData"],[132,22,111,20],[133,8,112,6,"headers"],[133,15,112,13],[133,17,112,15],[134,10,113,8],[134,24,113,22],[134,26,113,24],[135,8,114,6],[136,6,115,4],[136,7,115,5],[136,8,115,6],[137,6,117,4],[137,12,117,10,"data"],[137,16,117,14],[137,19,117,17],[137,25,117,23,"response"],[137,33,117,31],[137,34,117,32,"json"],[137,38,117,36],[137,39,117,37],[137,40,117,38],[138,6,118,4,"console"],[138,13,118,11],[138,14,118,12,"log"],[138,17,118,15],[138,18,118,16],[138,47,118,45],[138,49,118,47,"data"],[138,53,118,51],[138,54,118,52],[139,6,119,4],[139,13,119,11,"data"],[139,17,119,15],[140,4,120,2],[140,5,120,3],[140,6,120,4],[140,13,120,11,"error"],[140,18,120,16],[140,20,120,18],[141,6,121,4,"console"],[141,13,121,11],[141,14,121,12,"error"],[141,19,121,17],[141,20,121,18],[141,46,121,44],[141,48,121,46,"error"],[141,53,121,51],[141,54,121,52],[142,6,122,4],[142,13,122,11],[143,8,123,6,"success"],[143,15,123,13],[143,17,123,15],[143,22,123,20],[144,8,124,6,"error"],[144,13,124,11],[144,15,124,13,"error"],[144,20,124,18],[144,21,124,19,"message"],[144,28,124,26],[144,32,124,30],[145,6,125,4],[145,7,125,5],[146,4,126,2],[147,2,127,0],[147,3,127,1],[148,2,129,7],[148,8,129,13,"searchMovie"],[148,19,129,24],[148,22,129,27],[148,28,129,34,"query"],[148,33,129,39],[148,37,129,44],[149,4,130,2],[149,8,130,6],[150,6,131,4],[150,12,131,10,"response"],[150,20,131,18],[150,23,131,21],[150,29,131,27,"api"],[150,32,131,30],[150,33,131,31,"post"],[150,37,131,35],[150,38,131,36],[150,51,131,49],[150,53,131,51],[151,8,131,53,"query"],[152,6,131,59],[152,7,131,60],[152,8,131,61],[153,6,132,4],[153,13,132,11,"response"],[153,21,132,19],[153,22,132,20,"data"],[153,26,132,24],[154,4,133,2],[154,5,133,3],[154,6,133,4],[154,13,133,11,"error"],[154,18,133,16],[154,20,133,18],[155,6,134,4,"console"],[155,13,134,11],[155,14,134,12,"error"],[155,19,134,17],[155,20,134,18],[155,35,134,33],[155,37,134,35,"error"],[155,42,134,40],[155,43,134,41],[156,6,135,4],[156,12,135,10,"error"],[156,17,135,15],[157,4,136,2],[158,2,137,0],[158,3,137,1],[159,0,137,2],[159,3]],"functionMap":{"names":["<global>","recognizeImage","recognizeAudio","recognizeVideo","searchMovie"],"mappings":"AAA;8BCgB;CDoC;8BEE;CFmC;8BGE;CHmC;2BIE;CJQ"},"hasCjsExports":false},"type":"js/module"}]}