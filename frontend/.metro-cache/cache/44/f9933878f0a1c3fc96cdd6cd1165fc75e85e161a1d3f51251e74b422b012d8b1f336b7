{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-file-system","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":47,"index":74}}],"key":"6GyvFG3BsQPSqqu9QRKJ8hfZxPw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"recognizeImage\", {\n    enumerable: true,\n    get: function () {\n      return recognizeImage;\n    }\n  });\n  Object.defineProperty(exports, \"recognizeAudio\", {\n    enumerable: true,\n    get: function () {\n      return recognizeAudio;\n    }\n  });\n  Object.defineProperty(exports, \"recognizeVideo\", {\n    enumerable: true,\n    get: function () {\n      return recognizeVideo;\n    }\n  });\n  Object.defineProperty(exports, \"searchMovie\", {\n    enumerable: true,\n    get: function () {\n      return searchMovie;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoFileSystem = require(_dependencyMap[1], \"expo-file-system\");\n  var FileSystem = _interopNamespace(_expoFileSystem);\n  const API_BASE_URL = process.env.EXPO_PUBLIC_BACKEND_URL || 'https://moviedetect.preview.emergentagent.com';\n  const api = axios.default.create({\n    baseURL: API_BASE_URL,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  const recognizeImage = async imageUri => {\n    try {\n      const formData = new FormData();\n      formData.append('file', {\n        uri: imageUri,\n        type: 'image/jpeg',\n        name: 'photo.jpg'\n      });\n      const response = await axios.default.post(`${API_BASE_URL}/api/recognize-image`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        timeout: 30000\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Image recognition error:', error);\n      throw error;\n    }\n  };\n  const recognizeAudio = async audioUri => {\n    try {\n      // Read audio file as base64\n      const base64 = await FileSystem.readAsStringAsync(audioUri, {\n        encoding: FileSystem.EncodingType.Base64\n      });\n      const response = await api.post('/api/recognize-audio', {\n        audio_base64: `data:audio/m4a;base64,${base64}`\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Audio recognition error:', error);\n      throw error;\n    }\n  };\n  const recognizeVideo = async videoUri => {\n    try {\n      const formData = new FormData();\n      formData.append('file', {\n        uri: videoUri,\n        type: 'video/mp4',\n        name: 'video.mp4'\n      });\n      const response = await axios.default.post(`${API_BASE_URL}/api/recognize-video`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        timeout: 30000\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Video recognition error:', error);\n      throw error;\n    }\n  };\n  const searchMovie = async query => {\n    try {\n      const response = await api.post('/api/search', {\n        query\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Search error:', error);\n      throw error;\n    }\n  };\n});","lineCount":129,"map":[[27,2,14,0,"Object"],[27,8,14,0],[27,9,14,0,"defineProperty"],[27,23,14,0],[27,24,14,0,"exports"],[27,31,14,0],[28,4,14,0,"enumerable"],[28,14,14,0],[29,4,14,0,"get"],[29,7,14,0],[29,18,14,0,"get"],[29,19,14,0],[30,6,14,0],[30,13,14,0,"recognizeImage"],[30,27,14,0],[31,4,14,0],[32,2,14,0],[33,2,41,0,"Object"],[33,8,41,0],[33,9,41,0,"defineProperty"],[33,23,41,0],[33,24,41,0,"exports"],[33,31,41,0],[34,4,41,0,"enumerable"],[34,14,41,0],[35,4,41,0,"get"],[35,7,41,0],[35,18,41,0,"get"],[35,19,41,0],[36,6,41,0],[36,13,41,0,"recognizeAudio"],[36,27,41,0],[37,4,41,0],[38,2,41,0],[39,2,59,0,"Object"],[39,8,59,0],[39,9,59,0,"defineProperty"],[39,23,59,0],[39,24,59,0,"exports"],[39,31,59,0],[40,4,59,0,"enumerable"],[40,14,59,0],[41,4,59,0,"get"],[41,7,59,0],[41,18,59,0,"get"],[41,19,59,0],[42,6,59,0],[42,13,59,0,"recognizeVideo"],[42,27,59,0],[43,4,59,0],[44,2,59,0],[45,2,86,0,"Object"],[45,8,86,0],[45,9,86,0,"defineProperty"],[45,23,86,0],[45,24,86,0,"exports"],[45,31,86,0],[46,4,86,0,"enumerable"],[46,14,86,0],[47,4,86,0,"get"],[47,7,86,0],[47,18,86,0,"get"],[47,19,86,0],[48,6,86,0],[48,13,86,0,"searchMovie"],[48,24,86,0],[49,4,86,0],[50,2,86,0],[51,2,1,0],[51,6,1,0,"_axios"],[51,12,1,0],[51,15,1,0,"require"],[51,22,1,0],[51,23,1,0,"_dependencyMap"],[51,37,1,0],[52,2,1,0],[52,6,1,0,"axios"],[52,11,1,0],[52,14,1,0,"_interopDefault"],[52,29,1,0],[52,30,1,0,"_axios"],[52,36,1,0],[53,2,2,0],[53,6,2,0,"_expoFileSystem"],[53,21,2,0],[53,24,2,0,"require"],[53,31,2,0],[53,32,2,0,"_dependencyMap"],[53,46,2,0],[54,2,2,0],[54,6,2,0,"FileSystem"],[54,16,2,0],[54,19,2,0,"_interopNamespace"],[54,36,2,0],[54,37,2,0,"_expoFileSystem"],[54,52,2,0],[55,2,4,0],[55,8,4,6,"API_BASE_URL"],[55,20,4,18],[55,23,4,21,"process"],[55,30,4,28],[55,31,4,29,"env"],[55,34,4,32],[55,35,4,33,"EXPO_PUBLIC_BACKEND_URL"],[55,58,4,56],[55,62,4,60],[55,112,4,110],[56,2,6,0],[56,8,6,6,"api"],[56,11,6,9],[56,14,6,12,"axios"],[56,19,6,17],[56,20,6,17,"default"],[56,27,6,17],[56,28,6,18,"create"],[56,34,6,24],[56,35,6,25],[57,4,7,2,"baseURL"],[57,11,7,9],[57,13,7,11,"API_BASE_URL"],[57,25,7,23],[58,4,8,2,"timeout"],[58,11,8,9],[58,13,8,11],[58,18,8,16],[59,4,9,2,"headers"],[59,11,9,9],[59,13,9,11],[60,6,10,4],[60,20,10,18],[60,22,10,20],[61,4,11,2],[62,2,12,0],[62,3,12,1],[62,4,12,2],[63,2,14,7],[63,8,14,13,"recognizeImage"],[63,22,14,27],[63,25,14,30],[63,31,14,37,"imageUri"],[63,39,14,45],[63,43,14,50],[64,4,15,2],[64,8,15,6],[65,6,16,4],[65,12,16,10,"formData"],[65,20,16,18],[65,23,16,21],[65,27,16,25,"FormData"],[65,35,16,33],[65,36,16,34],[65,37,16,35],[66,6,17,4,"formData"],[66,14,17,12],[66,15,17,13,"append"],[66,21,17,19],[66,22,17,20],[66,28,17,26],[66,30,17,28],[67,8,18,6,"uri"],[67,11,18,9],[67,13,18,11,"imageUri"],[67,21,18,19],[68,8,19,6,"type"],[68,12,19,10],[68,14,19,12],[68,26,19,24],[69,8,20,6,"name"],[69,12,20,10],[69,14,20,12],[70,6,21,4],[70,7,21,5],[70,8,21,6],[71,6,23,4],[71,12,23,10,"response"],[71,20,23,18],[71,23,23,21],[71,29,23,27,"axios"],[71,34,23,32],[71,35,23,32,"default"],[71,42,23,32],[71,43,23,33,"post"],[71,47,23,37],[71,48,24,6],[71,51,24,9,"API_BASE_URL"],[71,63,24,21],[71,85,24,43],[71,87,25,6,"formData"],[71,95,25,14],[71,97,26,6],[72,8,27,8,"headers"],[72,15,27,15],[72,17,27,17],[73,10,28,10],[73,24,28,24],[73,26,28,26],[74,8,29,8],[74,9,29,9],[75,8,30,8,"timeout"],[75,15,30,15],[75,17,30,17],[76,6,31,6],[76,7,32,4],[76,8,32,5],[77,6,34,4],[77,13,34,11,"response"],[77,21,34,19],[77,22,34,20,"data"],[77,26,34,24],[78,4,35,2],[78,5,35,3],[78,6,35,4],[78,13,35,11,"error"],[78,18,35,16],[78,20,35,18],[79,6,36,4,"console"],[79,13,36,11],[79,14,36,12,"error"],[79,19,36,17],[79,20,36,18],[79,46,36,44],[79,48,36,46,"error"],[79,53,36,51],[79,54,36,52],[80,6,37,4],[80,12,37,10,"error"],[80,17,37,15],[81,4,38,2],[82,2,39,0],[82,3,39,1],[83,2,41,7],[83,8,41,13,"recognizeAudio"],[83,22,41,27],[83,25,41,30],[83,31,41,37,"audioUri"],[83,39,41,45],[83,43,41,50],[84,4,42,2],[84,8,42,6],[85,6,43,4],[86,6,44,4],[86,12,44,10,"base64"],[86,18,44,16],[86,21,44,19],[86,27,44,25,"FileSystem"],[86,37,44,35],[86,38,44,36,"readAsStringAsync"],[86,55,44,53],[86,56,44,54,"audioUri"],[86,64,44,62],[86,66,44,64],[87,8,45,6,"encoding"],[87,16,45,14],[87,18,45,16,"FileSystem"],[87,28,45,26],[87,29,45,27,"EncodingType"],[87,41,45,39],[87,42,45,40,"Base64"],[88,6,46,4],[88,7,46,5],[88,8,46,6],[89,6,48,4],[89,12,48,10,"response"],[89,20,48,18],[89,23,48,21],[89,29,48,27,"api"],[89,32,48,30],[89,33,48,31,"post"],[89,37,48,35],[89,38,48,36],[89,60,48,58],[89,62,48,60],[90,8,49,6,"audio_base64"],[90,20,49,18],[90,22,49,20],[90,47,49,45,"base64"],[90,53,49,51],[91,6,50,4],[91,7,50,5],[91,8,50,6],[92,6,52,4],[92,13,52,11,"response"],[92,21,52,19],[92,22,52,20,"data"],[92,26,52,24],[93,4,53,2],[93,5,53,3],[93,6,53,4],[93,13,53,11,"error"],[93,18,53,16],[93,20,53,18],[94,6,54,4,"console"],[94,13,54,11],[94,14,54,12,"error"],[94,19,54,17],[94,20,54,18],[94,46,54,44],[94,48,54,46,"error"],[94,53,54,51],[94,54,54,52],[95,6,55,4],[95,12,55,10,"error"],[95,17,55,15],[96,4,56,2],[97,2,57,0],[97,3,57,1],[98,2,59,7],[98,8,59,13,"recognizeVideo"],[98,22,59,27],[98,25,59,30],[98,31,59,37,"videoUri"],[98,39,59,45],[98,43,59,50],[99,4,60,2],[99,8,60,6],[100,6,61,4],[100,12,61,10,"formData"],[100,20,61,18],[100,23,61,21],[100,27,61,25,"FormData"],[100,35,61,33],[100,36,61,34],[100,37,61,35],[101,6,62,4,"formData"],[101,14,62,12],[101,15,62,13,"append"],[101,21,62,19],[101,22,62,20],[101,28,62,26],[101,30,62,28],[102,8,63,6,"uri"],[102,11,63,9],[102,13,63,11,"videoUri"],[102,21,63,19],[103,8,64,6,"type"],[103,12,64,10],[103,14,64,12],[103,25,64,23],[104,8,65,6,"name"],[104,12,65,10],[104,14,65,12],[105,6,66,4],[105,7,66,5],[105,8,66,6],[106,6,68,4],[106,12,68,10,"response"],[106,20,68,18],[106,23,68,21],[106,29,68,27,"axios"],[106,34,68,32],[106,35,68,32,"default"],[106,42,68,32],[106,43,68,33,"post"],[106,47,68,37],[106,48,69,6],[106,51,69,9,"API_BASE_URL"],[106,63,69,21],[106,85,69,43],[106,87,70,6,"formData"],[106,95,70,14],[106,97,71,6],[107,8,72,8,"headers"],[107,15,72,15],[107,17,72,17],[108,10,73,10],[108,24,73,24],[108,26,73,26],[109,8,74,8],[109,9,74,9],[110,8,75,8,"timeout"],[110,15,75,15],[110,17,75,17],[111,6,76,6],[111,7,77,4],[111,8,77,5],[112,6,79,4],[112,13,79,11,"response"],[112,21,79,19],[112,22,79,20,"data"],[112,26,79,24],[113,4,80,2],[113,5,80,3],[113,6,80,4],[113,13,80,11,"error"],[113,18,80,16],[113,20,80,18],[114,6,81,4,"console"],[114,13,81,11],[114,14,81,12,"error"],[114,19,81,17],[114,20,81,18],[114,46,81,44],[114,48,81,46,"error"],[114,53,81,51],[114,54,81,52],[115,6,82,4],[115,12,82,10,"error"],[115,17,82,15],[116,4,83,2],[117,2,84,0],[117,3,84,1],[118,2,86,7],[118,8,86,13,"searchMovie"],[118,19,86,24],[118,22,86,27],[118,28,86,34,"query"],[118,33,86,39],[118,37,86,44],[119,4,87,2],[119,8,87,6],[120,6,88,4],[120,12,88,10,"response"],[120,20,88,18],[120,23,88,21],[120,29,88,27,"api"],[120,32,88,30],[120,33,88,31,"post"],[120,37,88,35],[120,38,88,36],[120,51,88,49],[120,53,88,51],[121,8,88,53,"query"],[122,6,88,59],[122,7,88,60],[122,8,88,61],[123,6,89,4],[123,13,89,11,"response"],[123,21,89,19],[123,22,89,20,"data"],[123,26,89,24],[124,4,90,2],[124,5,90,3],[124,6,90,4],[124,13,90,11,"error"],[124,18,90,16],[124,20,90,18],[125,6,91,4,"console"],[125,13,91,11],[125,14,91,12,"error"],[125,19,91,17],[125,20,91,18],[125,35,91,33],[125,37,91,35,"error"],[125,42,91,40],[125,43,91,41],[126,6,92,4],[126,12,92,10,"error"],[126,17,92,15],[127,4,93,2],[128,2,94,0],[128,3,94,1],[129,0,94,2],[129,3]],"functionMap":{"names":["<global>","recognizeImage","recognizeAudio","recognizeVideo","searchMovie"],"mappings":"AAA;8BCa;CDyB;8BEE;CFgB;8BGE;CHyB;2BIE;CJQ"},"hasCjsExports":false},"type":"js/module"}]}