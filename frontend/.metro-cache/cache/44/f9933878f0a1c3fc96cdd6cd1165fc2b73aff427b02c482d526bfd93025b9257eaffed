{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-file-system","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":47,"index":74}}],"key":"6GyvFG3BsQPSqqu9QRKJ8hfZxPw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"recognizeImage\", {\n    enumerable: true,\n    get: function () {\n      return recognizeImage;\n    }\n  });\n  Object.defineProperty(exports, \"recognizeAudio\", {\n    enumerable: true,\n    get: function () {\n      return recognizeAudio;\n    }\n  });\n  Object.defineProperty(exports, \"recognizeVideo\", {\n    enumerable: true,\n    get: function () {\n      return recognizeVideo;\n    }\n  });\n  Object.defineProperty(exports, \"searchMovie\", {\n    enumerable: true,\n    get: function () {\n      return searchMovie;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoFileSystem = require(_dependencyMap[1], \"expo-file-system\");\n  var FileSystem = _interopNamespace(_expoFileSystem);\n  // Use local backend for testing (it has the new movie recognition code)\n  const API_BASE_URL = 'http://localhost:8001';\n  console.log('API_BASE_URL:', API_BASE_URL);\n  const api = axios.default.create({\n    baseURL: API_BASE_URL,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  const recognizeImage = async imageUri => {\n    try {\n      console.log('Recognizing image from URI:', imageUri);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-image`);\n      const formData = new FormData();\n      formData.append('file', {\n        uri: imageUri,\n        type: 'image/jpeg',\n        name: 'photo.jpg'\n      });\n      const response = await axios.default.post(`${API_BASE_URL}/api/recognize-image`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        timeout: 30000\n      });\n      console.log('Image recognition response:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Image recognition error:', error);\n      console.error('Error response:', error.response?.data);\n      return {\n        success: false,\n        error: error.response?.data?.error || error.message || 'Failed to process image'\n      };\n    }\n  };\n  const recognizeAudio = async audioUri => {\n    try {\n      console.log('Recognizing audio from URI:', audioUri);\n\n      // Read audio file as base64\n      const base64 = await FileSystem.readAsStringAsync(audioUri, {\n        encoding: FileSystem.EncodingType.Base64\n      });\n      console.log('Audio base64 length:', base64.length);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-audio`);\n      const response = await api.post('/api/recognize-audio', {\n        audio_base64: `data:audio/m4a;base64,${base64}`\n      });\n      console.log('Audio recognition response:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Audio recognition error:', error);\n      console.error('Error response:', error.response?.data);\n      return {\n        success: false,\n        error: error.response?.data?.error || error.message || 'Failed to process audio'\n      };\n    }\n  };\n  const recognizeVideo = async videoUri => {\n    try {\n      console.log('Recognizing video from URI:', videoUri);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-video`);\n      const formData = new FormData();\n      formData.append('file', {\n        uri: videoUri,\n        type: 'video/mp4',\n        name: 'video.mp4'\n      });\n      const response = await axios.default.post(`${API_BASE_URL}/api/recognize-video`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        timeout: 30000\n      });\n      console.log('Video recognition response:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Video recognition error:', error);\n      console.error('Error response:', error.response?.data);\n      return {\n        success: false,\n        error: error.response?.data?.error || error.message || 'Failed to process video'\n      };\n    }\n  };\n  const searchMovie = async query => {\n    try {\n      const response = await api.post('/api/search', {\n        query\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Search error:', error);\n      throw error;\n    }\n  };\n});","lineCount":154,"map":[[27,2,17,0,"Object"],[27,8,17,0],[27,9,17,0,"defineProperty"],[27,23,17,0],[27,24,17,0,"exports"],[27,31,17,0],[28,4,17,0,"enumerable"],[28,14,17,0],[29,4,17,0,"get"],[29,7,17,0],[29,18,17,0,"get"],[29,19,17,0],[30,6,17,0],[30,13,17,0,"recognizeImage"],[30,27,17,0],[31,4,17,0],[32,2,17,0],[33,2,52,0,"Object"],[33,8,52,0],[33,9,52,0,"defineProperty"],[33,23,52,0],[33,24,52,0,"exports"],[33,31,52,0],[34,4,52,0,"enumerable"],[34,14,52,0],[35,4,52,0,"get"],[35,7,52,0],[35,18,52,0,"get"],[35,19,52,0],[36,6,52,0],[36,13,52,0,"recognizeAudio"],[36,27,52,0],[37,4,52,0],[38,2,52,0],[39,2,80,0,"Object"],[39,8,80,0],[39,9,80,0,"defineProperty"],[39,23,80,0],[39,24,80,0,"exports"],[39,31,80,0],[40,4,80,0,"enumerable"],[40,14,80,0],[41,4,80,0,"get"],[41,7,80,0],[41,18,80,0,"get"],[41,19,80,0],[42,6,80,0],[42,13,80,0,"recognizeVideo"],[42,27,80,0],[43,4,80,0],[44,2,80,0],[45,2,115,0,"Object"],[45,8,115,0],[45,9,115,0,"defineProperty"],[45,23,115,0],[45,24,115,0,"exports"],[45,31,115,0],[46,4,115,0,"enumerable"],[46,14,115,0],[47,4,115,0,"get"],[47,7,115,0],[47,18,115,0,"get"],[47,19,115,0],[48,6,115,0],[48,13,115,0,"searchMovie"],[48,24,115,0],[49,4,115,0],[50,2,115,0],[51,2,1,0],[51,6,1,0,"_axios"],[51,12,1,0],[51,15,1,0,"require"],[51,22,1,0],[51,23,1,0,"_dependencyMap"],[51,37,1,0],[52,2,1,0],[52,6,1,0,"axios"],[52,11,1,0],[52,14,1,0,"_interopDefault"],[52,29,1,0],[52,30,1,0,"_axios"],[52,36,1,0],[53,2,2,0],[53,6,2,0,"_expoFileSystem"],[53,21,2,0],[53,24,2,0,"require"],[53,31,2,0],[53,32,2,0,"_dependencyMap"],[53,46,2,0],[54,2,2,0],[54,6,2,0,"FileSystem"],[54,16,2,0],[54,19,2,0,"_interopNamespace"],[54,36,2,0],[54,37,2,0,"_expoFileSystem"],[54,52,2,0],[55,2,4,0],[56,2,5,0],[56,8,5,6,"API_BASE_URL"],[56,20,5,18],[56,23,5,21],[56,46,5,44],[57,2,7,0,"console"],[57,9,7,7],[57,10,7,8,"log"],[57,13,7,11],[57,14,7,12],[57,29,7,27],[57,31,7,29,"API_BASE_URL"],[57,43,7,41],[57,44,7,42],[58,2,9,0],[58,8,9,6,"api"],[58,11,9,9],[58,14,9,12,"axios"],[58,19,9,17],[58,20,9,17,"default"],[58,27,9,17],[58,28,9,18,"create"],[58,34,9,24],[58,35,9,25],[59,4,10,2,"baseURL"],[59,11,10,9],[59,13,10,11,"API_BASE_URL"],[59,25,10,23],[60,4,11,2,"timeout"],[60,11,11,9],[60,13,11,11],[60,18,11,16],[61,4,12,2,"headers"],[61,11,12,9],[61,13,12,11],[62,6,13,4],[62,20,13,18],[62,22,13,20],[63,4,14,2],[64,2,15,0],[64,3,15,1],[64,4,15,2],[65,2,17,7],[65,8,17,13,"recognizeImage"],[65,22,17,27],[65,25,17,30],[65,31,17,37,"imageUri"],[65,39,17,45],[65,43,17,50],[66,4,18,2],[66,8,18,6],[67,6,19,4,"console"],[67,13,19,11],[67,14,19,12,"log"],[67,17,19,15],[67,18,19,16],[67,47,19,45],[67,49,19,47,"imageUri"],[67,57,19,55],[67,58,19,56],[68,6,20,4,"console"],[68,13,20,11],[68,14,20,12,"log"],[68,17,20,15],[68,18,20,16],[68,28,20,26],[68,30,20,28],[68,33,20,31,"API_BASE_URL"],[68,45,20,43],[68,67,20,65],[68,68,20,66],[69,6,22,4],[69,12,22,10,"formData"],[69,20,22,18],[69,23,22,21],[69,27,22,25,"FormData"],[69,35,22,33],[69,36,22,34],[69,37,22,35],[70,6,23,4,"formData"],[70,14,23,12],[70,15,23,13,"append"],[70,21,23,19],[70,22,23,20],[70,28,23,26],[70,30,23,28],[71,8,24,6,"uri"],[71,11,24,9],[71,13,24,11,"imageUri"],[71,21,24,19],[72,8,25,6,"type"],[72,12,25,10],[72,14,25,12],[72,26,25,24],[73,8,26,6,"name"],[73,12,26,10],[73,14,26,12],[74,6,27,4],[74,7,27,5],[74,8,27,6],[75,6,29,4],[75,12,29,10,"response"],[75,20,29,18],[75,23,29,21],[75,29,29,27,"axios"],[75,34,29,32],[75,35,29,32,"default"],[75,42,29,32],[75,43,29,33,"post"],[75,47,29,37],[75,48,30,6],[75,51,30,9,"API_BASE_URL"],[75,63,30,21],[75,85,30,43],[75,87,31,6,"formData"],[75,95,31,14],[75,97,32,6],[76,8,33,8,"headers"],[76,15,33,15],[76,17,33,17],[77,10,34,10],[77,24,34,24],[77,26,34,26],[78,8,35,8],[78,9,35,9],[79,8,36,8,"timeout"],[79,15,36,15],[79,17,36,17],[80,6,37,6],[80,7,38,4],[80,8,38,5],[81,6,40,4,"console"],[81,13,40,11],[81,14,40,12,"log"],[81,17,40,15],[81,18,40,16],[81,47,40,45],[81,49,40,47,"response"],[81,57,40,55],[81,58,40,56,"data"],[81,62,40,60],[81,63,40,61],[82,6,41,4],[82,13,41,11,"response"],[82,21,41,19],[82,22,41,20,"data"],[82,26,41,24],[83,4,42,2],[83,5,42,3],[83,6,42,4],[83,13,42,11,"error"],[83,18,42,16],[83,20,42,18],[84,6,43,4,"console"],[84,13,43,11],[84,14,43,12,"error"],[84,19,43,17],[84,20,43,18],[84,46,43,44],[84,48,43,46,"error"],[84,53,43,51],[84,54,43,52],[85,6,44,4,"console"],[85,13,44,11],[85,14,44,12,"error"],[85,19,44,17],[85,20,44,18],[85,37,44,35],[85,39,44,37,"error"],[85,44,44,42],[85,45,44,43,"response"],[85,53,44,51],[85,55,44,53,"data"],[85,59,44,57],[85,60,44,58],[86,6,45,4],[86,13,45,11],[87,8,46,6,"success"],[87,15,46,13],[87,17,46,15],[87,22,46,20],[88,8,47,6,"error"],[88,13,47,11],[88,15,47,13,"error"],[88,20,47,18],[88,21,47,19,"response"],[88,29,47,27],[88,31,47,29,"data"],[88,35,47,33],[88,37,47,35,"error"],[88,42,47,40],[88,46,47,44,"error"],[88,51,47,49],[88,52,47,50,"message"],[88,59,47,57],[88,63,47,61],[89,6,48,4],[89,7,48,5],[90,4,49,2],[91,2,50,0],[91,3,50,1],[92,2,52,7],[92,8,52,13,"recognizeAudio"],[92,22,52,27],[92,25,52,30],[92,31,52,37,"audioUri"],[92,39,52,45],[92,43,52,50],[93,4,53,2],[93,8,53,6],[94,6,54,4,"console"],[94,13,54,11],[94,14,54,12,"log"],[94,17,54,15],[94,18,54,16],[94,47,54,45],[94,49,54,47,"audioUri"],[94,57,54,55],[94,58,54,56],[96,6,56,4],[97,6,57,4],[97,12,57,10,"base64"],[97,18,57,16],[97,21,57,19],[97,27,57,25,"FileSystem"],[97,37,57,35],[97,38,57,36,"readAsStringAsync"],[97,55,57,53],[97,56,57,54,"audioUri"],[97,64,57,62],[97,66,57,64],[98,8,58,6,"encoding"],[98,16,58,14],[98,18,58,16,"FileSystem"],[98,28,58,26],[98,29,58,27,"EncodingType"],[98,41,58,39],[98,42,58,40,"Base64"],[99,6,59,4],[99,7,59,5],[99,8,59,6],[100,6,61,4,"console"],[100,13,61,11],[100,14,61,12,"log"],[100,17,61,15],[100,18,61,16],[100,40,61,38],[100,42,61,40,"base64"],[100,48,61,46],[100,49,61,47,"length"],[100,55,61,53],[100,56,61,54],[101,6,62,4,"console"],[101,13,62,11],[101,14,62,12,"log"],[101,17,62,15],[101,18,62,16],[101,28,62,26],[101,30,62,28],[101,33,62,31,"API_BASE_URL"],[101,45,62,43],[101,67,62,65],[101,68,62,66],[102,6,64,4],[102,12,64,10,"response"],[102,20,64,18],[102,23,64,21],[102,29,64,27,"api"],[102,32,64,30],[102,33,64,31,"post"],[102,37,64,35],[102,38,64,36],[102,60,64,58],[102,62,64,60],[103,8,65,6,"audio_base64"],[103,20,65,18],[103,22,65,20],[103,47,65,45,"base64"],[103,53,65,51],[104,6,66,4],[104,7,66,5],[104,8,66,6],[105,6,68,4,"console"],[105,13,68,11],[105,14,68,12,"log"],[105,17,68,15],[105,18,68,16],[105,47,68,45],[105,49,68,47,"response"],[105,57,68,55],[105,58,68,56,"data"],[105,62,68,60],[105,63,68,61],[106,6,69,4],[106,13,69,11,"response"],[106,21,69,19],[106,22,69,20,"data"],[106,26,69,24],[107,4,70,2],[107,5,70,3],[107,6,70,4],[107,13,70,11,"error"],[107,18,70,16],[107,20,70,18],[108,6,71,4,"console"],[108,13,71,11],[108,14,71,12,"error"],[108,19,71,17],[108,20,71,18],[108,46,71,44],[108,48,71,46,"error"],[108,53,71,51],[108,54,71,52],[109,6,72,4,"console"],[109,13,72,11],[109,14,72,12,"error"],[109,19,72,17],[109,20,72,18],[109,37,72,35],[109,39,72,37,"error"],[109,44,72,42],[109,45,72,43,"response"],[109,53,72,51],[109,55,72,53,"data"],[109,59,72,57],[109,60,72,58],[110,6,73,4],[110,13,73,11],[111,8,74,6,"success"],[111,15,74,13],[111,17,74,15],[111,22,74,20],[112,8,75,6,"error"],[112,13,75,11],[112,15,75,13,"error"],[112,20,75,18],[112,21,75,19,"response"],[112,29,75,27],[112,31,75,29,"data"],[112,35,75,33],[112,37,75,35,"error"],[112,42,75,40],[112,46,75,44,"error"],[112,51,75,49],[112,52,75,50,"message"],[112,59,75,57],[112,63,75,61],[113,6,76,4],[113,7,76,5],[114,4,77,2],[115,2,78,0],[115,3,78,1],[116,2,80,7],[116,8,80,13,"recognizeVideo"],[116,22,80,27],[116,25,80,30],[116,31,80,37,"videoUri"],[116,39,80,45],[116,43,80,50],[117,4,81,2],[117,8,81,6],[118,6,82,4,"console"],[118,13,82,11],[118,14,82,12,"log"],[118,17,82,15],[118,18,82,16],[118,47,82,45],[118,49,82,47,"videoUri"],[118,57,82,55],[118,58,82,56],[119,6,83,4,"console"],[119,13,83,11],[119,14,83,12,"log"],[119,17,83,15],[119,18,83,16],[119,28,83,26],[119,30,83,28],[119,33,83,31,"API_BASE_URL"],[119,45,83,43],[119,67,83,65],[119,68,83,66],[120,6,85,4],[120,12,85,10,"formData"],[120,20,85,18],[120,23,85,21],[120,27,85,25,"FormData"],[120,35,85,33],[120,36,85,34],[120,37,85,35],[121,6,86,4,"formData"],[121,14,86,12],[121,15,86,13,"append"],[121,21,86,19],[121,22,86,20],[121,28,86,26],[121,30,86,28],[122,8,87,6,"uri"],[122,11,87,9],[122,13,87,11,"videoUri"],[122,21,87,19],[123,8,88,6,"type"],[123,12,88,10],[123,14,88,12],[123,25,88,23],[124,8,89,6,"name"],[124,12,89,10],[124,14,89,12],[125,6,90,4],[125,7,90,5],[125,8,90,6],[126,6,92,4],[126,12,92,10,"response"],[126,20,92,18],[126,23,92,21],[126,29,92,27,"axios"],[126,34,92,32],[126,35,92,32,"default"],[126,42,92,32],[126,43,92,33,"post"],[126,47,92,37],[126,48,93,6],[126,51,93,9,"API_BASE_URL"],[126,63,93,21],[126,85,93,43],[126,87,94,6,"formData"],[126,95,94,14],[126,97,95,6],[127,8,96,8,"headers"],[127,15,96,15],[127,17,96,17],[128,10,97,10],[128,24,97,24],[128,26,97,26],[129,8,98,8],[129,9,98,9],[130,8,99,8,"timeout"],[130,15,99,15],[130,17,99,17],[131,6,100,6],[131,7,101,4],[131,8,101,5],[132,6,103,4,"console"],[132,13,103,11],[132,14,103,12,"log"],[132,17,103,15],[132,18,103,16],[132,47,103,45],[132,49,103,47,"response"],[132,57,103,55],[132,58,103,56,"data"],[132,62,103,60],[132,63,103,61],[133,6,104,4],[133,13,104,11,"response"],[133,21,104,19],[133,22,104,20,"data"],[133,26,104,24],[134,4,105,2],[134,5,105,3],[134,6,105,4],[134,13,105,11,"error"],[134,18,105,16],[134,20,105,18],[135,6,106,4,"console"],[135,13,106,11],[135,14,106,12,"error"],[135,19,106,17],[135,20,106,18],[135,46,106,44],[135,48,106,46,"error"],[135,53,106,51],[135,54,106,52],[136,6,107,4,"console"],[136,13,107,11],[136,14,107,12,"error"],[136,19,107,17],[136,20,107,18],[136,37,107,35],[136,39,107,37,"error"],[136,44,107,42],[136,45,107,43,"response"],[136,53,107,51],[136,55,107,53,"data"],[136,59,107,57],[136,60,107,58],[137,6,108,4],[137,13,108,11],[138,8,109,6,"success"],[138,15,109,13],[138,17,109,15],[138,22,109,20],[139,8,110,6,"error"],[139,13,110,11],[139,15,110,13,"error"],[139,20,110,18],[139,21,110,19,"response"],[139,29,110,27],[139,31,110,29,"data"],[139,35,110,33],[139,37,110,35,"error"],[139,42,110,40],[139,46,110,44,"error"],[139,51,110,49],[139,52,110,50,"message"],[139,59,110,57],[139,63,110,61],[140,6,111,4],[140,7,111,5],[141,4,112,2],[142,2,113,0],[142,3,113,1],[143,2,115,7],[143,8,115,13,"searchMovie"],[143,19,115,24],[143,22,115,27],[143,28,115,34,"query"],[143,33,115,39],[143,37,115,44],[144,4,116,2],[144,8,116,6],[145,6,117,4],[145,12,117,10,"response"],[145,20,117,18],[145,23,117,21],[145,29,117,27,"api"],[145,32,117,30],[145,33,117,31,"post"],[145,37,117,35],[145,38,117,36],[145,51,117,49],[145,53,117,51],[146,8,117,53,"query"],[147,6,117,59],[147,7,117,60],[147,8,117,61],[148,6,118,4],[148,13,118,11,"response"],[148,21,118,19],[148,22,118,20,"data"],[148,26,118,24],[149,4,119,2],[149,5,119,3],[149,6,119,4],[149,13,119,11,"error"],[149,18,119,16],[149,20,119,18],[150,6,120,4,"console"],[150,13,120,11],[150,14,120,12,"error"],[150,19,120,17],[150,20,120,18],[150,35,120,33],[150,37,120,35,"error"],[150,42,120,40],[150,43,120,41],[151,6,121,4],[151,12,121,10,"error"],[151,17,121,15],[152,4,122,2],[153,2,123,0],[153,3,123,1],[154,0,123,2],[154,3]],"functionMap":{"names":["<global>","recognizeImage","recognizeAudio","recognizeVideo","searchMovie"],"mappings":"AAA;8BCgB;CDiC;8BEE;CF0B;8BGE;CHiC;2BIE;CJQ"},"hasCjsExports":false},"type":"js/module"}]}