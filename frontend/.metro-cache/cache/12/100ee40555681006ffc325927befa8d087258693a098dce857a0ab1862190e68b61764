{"dependencies":[{"name":"../config","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":78},"end":{"line":6,"column":41,"index":119}}],"key":"pHqFJJBAh3HI9ZCkK8fFRwPv3x0=","exportNames":["*"],"imports":1}},{"name":"expo-device","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":120},"end":{"line":7,"column":38,"index":158}}],"key":"bBpmAhO1g++sdeUzQmFVGoQIVwg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"trackEvent\", {\n    enumerable: true,\n    get: function () {\n      return trackEvent;\n    }\n  });\n  Object.defineProperty(exports, \"trackProductClick\", {\n    enumerable: true,\n    get: function () {\n      return trackProductClick;\n    }\n  });\n  Object.defineProperty(exports, \"trackOutfitView\", {\n    enumerable: true,\n    get: function () {\n      return trackOutfitView;\n    }\n  });\n  Object.defineProperty(exports, \"trackBeautyView\", {\n    enumerable: true,\n    get: function () {\n      return trackBeautyView;\n    }\n  });\n  Object.defineProperty(exports, \"trackCategoryView\", {\n    enumerable: true,\n    get: function () {\n      return trackCategoryView;\n    }\n  });\n  Object.defineProperty(exports, \"getAnalyticsDashboard\", {\n    enumerable: true,\n    get: function () {\n      return getAnalyticsDashboard;\n    }\n  });\n  var _config = require(_dependencyMap[0], \"../config\");\n  require(_dependencyMap[1], \"expo-device\");\n  /**\n   * Analytics Service\n   * Tracks user events for monetization insights\n   */\n\n  // Generate a simple session ID (persists during app session)\n  let sessionId = `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n\n  /**\n   * Track analytics event\n   * @param {string} eventType - product_click, outfit_view, beauty_view, category_view\n   * @param {object} data - Event data\n   */\n  const trackEvent = async (eventType, data = {}) => {\n    try {\n      const event = {\n        event_type: eventType,\n        session_id: sessionId,\n        referral_source: data.referral_source || 'app',\n        ...data\n      };\n      const response = await fetch(`${_config.API_BASE_URL}/api/analytics/track`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(event)\n      });\n      const result = await response.json();\n      if (result.success) {\n        console.log(`âœ… Analytics tracked: ${eventType}`);\n      }\n    } catch (error) {\n      // Silently fail - don't disrupt user experience\n      console.log('Analytics tracking error:', error);\n    }\n  };\n\n  /**\n   * Track product click\n   */\n  const trackProductClick = (product, itemContext = {}) => {\n    trackEvent('product_click', {\n      product_name: product.name,\n      product_price: product.price,\n      product_affiliate_url: product.affiliate_url || '',\n      item_id: itemContext.item_id,\n      item_title: itemContext.item_title,\n      category: itemContext.category\n    });\n  };\n\n  /**\n   * Track outfit view\n   */\n  const trackOutfitView = outfit => {\n    trackEvent('outfit_view', {\n      item_id: outfit.id?.toString(),\n      item_title: outfit.title,\n      category: outfit.category\n    });\n  };\n\n  /**\n   * Track beauty look view\n   */\n  const trackBeautyView = beautyLook => {\n    trackEvent('beauty_view', {\n      item_id: beautyLook.id?.toString(),\n      item_title: beautyLook.title,\n      category: beautyLook.category\n    });\n  };\n\n  /**\n   * Track category view\n   */\n  const trackCategoryView = (category, type = 'outfit') => {\n    trackEvent('category_view', {\n      category: category,\n      item_title: `${type}_category_${category}`\n    });\n  };\n\n  /**\n   * Get analytics dashboard data\n   */\n  const getAnalyticsDashboard = async () => {\n    try {\n      const response = await fetch(`${_config.API_BASE_URL}/api/analytics/dashboard`);\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('Error fetching analytics:', error);\n      return null;\n    }\n  };\n});","lineCount":142,"map":[[7,2,17,0,"Object"],[7,8,17,0],[7,9,17,0,"defineProperty"],[7,23,17,0],[7,24,17,0,"exports"],[7,31,17,0],[8,4,17,0,"enumerable"],[8,14,17,0],[9,4,17,0,"get"],[9,7,17,0],[9,18,17,0,"get"],[9,19,17,0],[10,6,17,0],[10,13,17,0,"trackEvent"],[10,23,17,0],[11,4,17,0],[12,2,17,0],[13,2,48,0,"Object"],[13,8,48,0],[13,9,48,0,"defineProperty"],[13,23,48,0],[13,24,48,0,"exports"],[13,31,48,0],[14,4,48,0,"enumerable"],[14,14,48,0],[15,4,48,0,"get"],[15,7,48,0],[15,18,48,0,"get"],[15,19,48,0],[16,6,48,0],[16,13,48,0,"trackProductClick"],[16,30,48,0],[17,4,48,0],[18,2,48,0],[19,2,62,0,"Object"],[19,8,62,0],[19,9,62,0,"defineProperty"],[19,23,62,0],[19,24,62,0,"exports"],[19,31,62,0],[20,4,62,0,"enumerable"],[20,14,62,0],[21,4,62,0,"get"],[21,7,62,0],[21,18,62,0,"get"],[21,19,62,0],[22,6,62,0],[22,13,62,0,"trackOutfitView"],[22,28,62,0],[23,4,62,0],[24,2,62,0],[25,2,73,0,"Object"],[25,8,73,0],[25,9,73,0,"defineProperty"],[25,23,73,0],[25,24,73,0,"exports"],[25,31,73,0],[26,4,73,0,"enumerable"],[26,14,73,0],[27,4,73,0,"get"],[27,7,73,0],[27,18,73,0,"get"],[27,19,73,0],[28,6,73,0],[28,13,73,0,"trackBeautyView"],[28,28,73,0],[29,4,73,0],[30,2,73,0],[31,2,84,0,"Object"],[31,8,84,0],[31,9,84,0,"defineProperty"],[31,23,84,0],[31,24,84,0,"exports"],[31,31,84,0],[32,4,84,0,"enumerable"],[32,14,84,0],[33,4,84,0,"get"],[33,7,84,0],[33,18,84,0,"get"],[33,19,84,0],[34,6,84,0],[34,13,84,0,"trackCategoryView"],[34,30,84,0],[35,4,84,0],[36,2,84,0],[37,2,94,0,"Object"],[37,8,94,0],[37,9,94,0,"defineProperty"],[37,23,94,0],[37,24,94,0,"exports"],[37,31,94,0],[38,4,94,0,"enumerable"],[38,14,94,0],[39,4,94,0,"get"],[39,7,94,0],[39,18,94,0,"get"],[39,19,94,0],[40,6,94,0],[40,13,94,0,"getAnalyticsDashboard"],[40,34,94,0],[41,4,94,0],[42,2,94,0],[43,2,6,0],[43,6,6,0,"_config"],[43,13,6,0],[43,16,6,0,"require"],[43,23,6,0],[43,24,6,0,"_dependencyMap"],[43,38,6,0],[44,2,7,0,"require"],[44,9,7,0],[44,10,7,0,"_dependencyMap"],[44,24,7,0],[45,2,1,0],[46,0,2,0],[47,0,3,0],[48,0,4,0],[50,2,9,0],[51,2,10,0],[51,6,10,4,"sessionId"],[51,15,10,13],[51,18,10,16],[51,29,10,27,"Date"],[51,33,10,31],[51,34,10,32,"now"],[51,37,10,35],[51,38,10,36],[51,39,10,37],[51,43,10,41,"Math"],[51,47,10,45],[51,48,10,46,"random"],[51,54,10,52],[51,55,10,53],[51,56,10,54],[51,57,10,55,"toString"],[51,65,10,63],[51,66,10,64],[51,68,10,66],[51,69,10,67],[51,70,10,68,"substr"],[51,76,10,74],[51,77,10,75],[51,78,10,76],[51,80,10,78],[51,81,10,79],[51,82,10,80],[51,84,10,82],[53,2,12,0],[54,0,13,0],[55,0,14,0],[56,0,15,0],[57,0,16,0],[58,2,17,7],[58,8,17,13,"trackEvent"],[58,18,17,23],[58,21,17,26],[58,27,17,26,"trackEvent"],[58,28,17,33,"eventType"],[58,37,17,42],[58,39,17,44,"data"],[58,43,17,48],[58,46,17,51],[58,47,17,52],[58,48,17,53],[58,53,17,58],[59,4,18,2],[59,8,18,6],[60,6,19,4],[60,12,19,10,"event"],[60,17,19,15],[60,20,19,18],[61,8,20,6,"event_type"],[61,18,20,16],[61,20,20,18,"eventType"],[61,29,20,27],[62,8,21,6,"session_id"],[62,18,21,16],[62,20,21,18,"sessionId"],[62,29,21,27],[63,8,22,6,"referral_source"],[63,23,22,21],[63,25,22,23,"data"],[63,29,22,27],[63,30,22,28,"referral_source"],[63,45,22,43],[63,49,22,47],[63,54,22,52],[64,8,23,6],[64,11,23,9,"data"],[65,6,24,4],[65,7,24,5],[66,6,26,4],[66,12,26,10,"response"],[66,20,26,18],[66,23,26,21],[66,29,26,27,"fetch"],[66,34,26,32],[66,35,26,33],[66,38,26,36,"API_BASE_URL"],[66,45,26,48],[66,46,26,48,"API_BASE_URL"],[66,58,26,48],[66,80,26,70],[66,82,26,72],[67,8,27,6,"method"],[67,14,27,12],[67,16,27,14],[67,22,27,20],[68,8,28,6,"headers"],[68,15,28,13],[68,17,28,15],[69,10,29,8],[69,24,29,22],[69,26,29,24],[70,8,30,6],[70,9,30,7],[71,8,31,6,"body"],[71,12,31,10],[71,14,31,12,"JSON"],[71,18,31,16],[71,19,31,17,"stringify"],[71,28,31,26],[71,29,31,27,"event"],[71,34,31,32],[72,6,32,4],[72,7,32,5],[72,8,32,6],[73,6,34,4],[73,12,34,10,"result"],[73,18,34,16],[73,21,34,19],[73,27,34,25,"response"],[73,35,34,33],[73,36,34,34,"json"],[73,40,34,38],[73,41,34,39],[73,42,34,40],[74,6,36,4],[74,10,36,8,"result"],[74,16,36,14],[74,17,36,15,"success"],[74,24,36,22],[74,26,36,24],[75,8,37,6,"console"],[75,15,37,13],[75,16,37,14,"log"],[75,19,37,17],[75,20,37,18],[75,44,37,42,"eventType"],[75,53,37,51],[75,55,37,53],[75,56,37,54],[76,6,38,4],[77,4,39,2],[77,5,39,3],[77,6,39,4],[77,13,39,11,"error"],[77,18,39,16],[77,20,39,18],[78,6,40,4],[79,6,41,4,"console"],[79,13,41,11],[79,14,41,12,"log"],[79,17,41,15],[79,18,41,16],[79,45,41,43],[79,47,41,45,"error"],[79,52,41,50],[79,53,41,51],[80,4,42,2],[81,2,43,0],[81,3,43,1],[83,2,45,0],[84,0,46,0],[85,0,47,0],[86,2,48,7],[86,8,48,13,"trackProductClick"],[86,25,48,30],[86,28,48,33,"trackProductClick"],[86,29,48,34,"product"],[86,36,48,41],[86,38,48,43,"itemContext"],[86,49,48,54],[86,52,48,57],[86,53,48,58],[86,54,48,59],[86,59,48,64],[87,4,49,2,"trackEvent"],[87,14,49,12],[87,15,49,13],[87,30,49,28],[87,32,49,30],[88,6,50,4,"product_name"],[88,18,50,16],[88,20,50,18,"product"],[88,27,50,25],[88,28,50,26,"name"],[88,32,50,30],[89,6,51,4,"product_price"],[89,19,51,17],[89,21,51,19,"product"],[89,28,51,26],[89,29,51,27,"price"],[89,34,51,32],[90,6,52,4,"product_affiliate_url"],[90,27,52,25],[90,29,52,27,"product"],[90,36,52,34],[90,37,52,35,"affiliate_url"],[90,50,52,48],[90,54,52,52],[90,56,52,54],[91,6,53,4,"item_id"],[91,13,53,11],[91,15,53,13,"itemContext"],[91,26,53,24],[91,27,53,25,"item_id"],[91,34,53,32],[92,6,54,4,"item_title"],[92,16,54,14],[92,18,54,16,"itemContext"],[92,29,54,27],[92,30,54,28,"item_title"],[92,40,54,38],[93,6,55,4,"category"],[93,14,55,12],[93,16,55,14,"itemContext"],[93,27,55,25],[93,28,55,26,"category"],[94,4,56,2],[94,5,56,3],[94,6,56,4],[95,2,57,0],[95,3,57,1],[97,2,59,0],[98,0,60,0],[99,0,61,0],[100,2,62,7],[100,8,62,13,"trackOutfitView"],[100,23,62,28],[100,26,62,32,"outfit"],[100,32,62,38],[100,36,62,43],[101,4,63,2,"trackEvent"],[101,14,63,12],[101,15,63,13],[101,28,63,26],[101,30,63,28],[102,6,64,4,"item_id"],[102,13,64,11],[102,15,64,13,"outfit"],[102,21,64,19],[102,22,64,20,"id"],[102,24,64,22],[102,26,64,24,"toString"],[102,34,64,32],[102,35,64,33],[102,36,64,34],[103,6,65,4,"item_title"],[103,16,65,14],[103,18,65,16,"outfit"],[103,24,65,22],[103,25,65,23,"title"],[103,30,65,28],[104,6,66,4,"category"],[104,14,66,12],[104,16,66,14,"outfit"],[104,22,66,20],[104,23,66,21,"category"],[105,4,67,2],[105,5,67,3],[105,6,67,4],[106,2,68,0],[106,3,68,1],[108,2,70,0],[109,0,71,0],[110,0,72,0],[111,2,73,7],[111,8,73,13,"trackBeautyView"],[111,23,73,28],[111,26,73,32,"beautyLook"],[111,36,73,42],[111,40,73,47],[112,4,74,2,"trackEvent"],[112,14,74,12],[112,15,74,13],[112,28,74,26],[112,30,74,28],[113,6,75,4,"item_id"],[113,13,75,11],[113,15,75,13,"beautyLook"],[113,25,75,23],[113,26,75,24,"id"],[113,28,75,26],[113,30,75,28,"toString"],[113,38,75,36],[113,39,75,37],[113,40,75,38],[114,6,76,4,"item_title"],[114,16,76,14],[114,18,76,16,"beautyLook"],[114,28,76,26],[114,29,76,27,"title"],[114,34,76,32],[115,6,77,4,"category"],[115,14,77,12],[115,16,77,14,"beautyLook"],[115,26,77,24],[115,27,77,25,"category"],[116,4,78,2],[116,5,78,3],[116,6,78,4],[117,2,79,0],[117,3,79,1],[119,2,81,0],[120,0,82,0],[121,0,83,0],[122,2,84,7],[122,8,84,13,"trackCategoryView"],[122,25,84,30],[122,28,84,33,"trackCategoryView"],[122,29,84,34,"category"],[122,37,84,42],[122,39,84,44,"type"],[122,43,84,48],[122,46,84,51],[122,54,84,59],[122,59,84,64],[123,4,85,2,"trackEvent"],[123,14,85,12],[123,15,85,13],[123,30,85,28],[123,32,85,30],[124,6,86,4,"category"],[124,14,86,12],[124,16,86,14,"category"],[124,24,86,22],[125,6,87,4,"item_title"],[125,16,87,14],[125,18,87,16],[125,21,87,19,"type"],[125,25,87,23],[125,38,87,36,"category"],[125,46,87,44],[126,4,88,2],[126,5,88,3],[126,6,88,4],[127,2,89,0],[127,3,89,1],[129,2,91,0],[130,0,92,0],[131,0,93,0],[132,2,94,7],[132,8,94,13,"getAnalyticsDashboard"],[132,29,94,34],[132,32,94,37],[132,38,94,37,"getAnalyticsDashboard"],[132,39,94,37],[132,44,94,49],[133,4,95,2],[133,8,95,6],[134,6,96,4],[134,12,96,10,"response"],[134,20,96,18],[134,23,96,21],[134,29,96,27,"fetch"],[134,34,96,32],[134,35,96,33],[134,38,96,36,"API_BASE_URL"],[134,45,96,48],[134,46,96,48,"API_BASE_URL"],[134,58,96,48],[134,84,96,74],[134,85,96,75],[135,6,97,4],[135,12,97,10,"data"],[135,16,97,14],[135,19,97,17],[135,25,97,23,"response"],[135,33,97,31],[135,34,97,32,"json"],[135,38,97,36],[135,39,97,37],[135,40,97,38],[136,6,98,4],[136,13,98,11,"data"],[136,17,98,15],[137,4,99,2],[137,5,99,3],[137,6,99,4],[137,13,99,11,"error"],[137,18,99,16],[137,20,99,18],[138,6,100,4,"console"],[138,13,100,11],[138,14,100,12,"error"],[138,19,100,17],[138,20,100,18],[138,47,100,45],[138,49,100,47,"error"],[138,54,100,52],[138,55,100,53],[139,6,101,4],[139,13,101,11],[139,17,101,15],[140,4,102,2],[141,2,103,0],[141,3,103,1],[142,0,103,2],[142,3]],"functionMap":{"names":["<global>","trackEvent","trackProductClick","trackOutfitView","trackBeautyView","trackCategoryView","getAnalyticsDashboard"],"mappings":"AAA;0BCgB;CD0B;iCEK;CFS;+BGK;CHM;+BIK;CJM;iCKK;CLK;qCMK;CNS"},"hasCjsExports":false},"type":"js/module"}]}