{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-file-system","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":47,"index":74}}],"key":"6GyvFG3BsQPSqqu9QRKJ8hfZxPw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"recognizeImage\", {\n    enumerable: true,\n    get: function () {\n      return recognizeImage;\n    }\n  });\n  Object.defineProperty(exports, \"recognizeAudio\", {\n    enumerable: true,\n    get: function () {\n      return recognizeAudio;\n    }\n  });\n  Object.defineProperty(exports, \"recognizeVideo\", {\n    enumerable: true,\n    get: function () {\n      return recognizeVideo;\n    }\n  });\n  Object.defineProperty(exports, \"searchMovie\", {\n    enumerable: true,\n    get: function () {\n      return searchMovie;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoFileSystem = require(_dependencyMap[1], \"expo-file-system\");\n  var FileSystem = _interopNamespace(_expoFileSystem);\n  const API_BASE_URL = process.env.EXPO_PUBLIC_BACKEND_URL || 'https://cinescan-backend-1.onrender.com';\n  console.log('API_BASE_URL:', API_BASE_URL);\n  const api = axios.default.create({\n    baseURL: API_BASE_URL,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  const recognizeImage = async imageUri => {\n    try {\n      console.log('Recognizing image from URI:', imageUri);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-image`);\n      const formData = new FormData();\n      formData.append('file', {\n        uri: imageUri,\n        type: 'image/jpeg',\n        name: 'photo.jpg'\n      });\n      const response = await axios.default.post(`${API_BASE_URL}/api/recognize-image`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        timeout: 30000\n      });\n      console.log('Image recognition response:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Image recognition error:', error);\n      console.error('Error response:', error.response?.data);\n      return {\n        success: false,\n        error: error.response?.data?.error || error.message || 'Failed to process image'\n      };\n    }\n  };\n  const recognizeAudio = async audioUri => {\n    try {\n      console.log('Recognizing audio from URI:', audioUri);\n\n      // Read audio file as base64\n      const base64 = await FileSystem.readAsStringAsync(audioUri, {\n        encoding: FileSystem.EncodingType.Base64\n      });\n      console.log('Audio base64 length:', base64.length);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-audio`);\n      const response = await api.post('/api/recognize-audio', {\n        audio_base64: `data:audio/m4a;base64,${base64}`\n      });\n      console.log('Audio recognition response:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Audio recognition error:', error);\n      console.error('Error response:', error.response?.data);\n      return {\n        success: false,\n        error: error.response?.data?.error || error.message || 'Failed to process audio'\n      };\n    }\n  };\n  const recognizeVideo = async videoUri => {\n    try {\n      console.log('Recognizing video from URI:', videoUri);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-video`);\n      const formData = new FormData();\n      formData.append('file', {\n        uri: videoUri,\n        type: 'video/mp4',\n        name: 'video.mp4'\n      });\n      const response = await axios.default.post(`${API_BASE_URL}/api/recognize-video`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        timeout: 30000\n      });\n      console.log('Video recognition response:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Video recognition error:', error);\n      console.error('Error response:', error.response?.data);\n      return {\n        success: false,\n        error: error.response?.data?.error || error.message || 'Failed to process video'\n      };\n    }\n  };\n  const searchMovie = async query => {\n    try {\n      const response = await api.post('/api/search', {\n        query\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Search error:', error);\n      throw error;\n    }\n  };\n});","lineCount":153,"map":[[27,2,16,0,"Object"],[27,8,16,0],[27,9,16,0,"defineProperty"],[27,23,16,0],[27,24,16,0,"exports"],[27,31,16,0],[28,4,16,0,"enumerable"],[28,14,16,0],[29,4,16,0,"get"],[29,7,16,0],[29,18,16,0,"get"],[29,19,16,0],[30,6,16,0],[30,13,16,0,"recognizeImage"],[30,27,16,0],[31,4,16,0],[32,2,16,0],[33,2,51,0,"Object"],[33,8,51,0],[33,9,51,0,"defineProperty"],[33,23,51,0],[33,24,51,0,"exports"],[33,31,51,0],[34,4,51,0,"enumerable"],[34,14,51,0],[35,4,51,0,"get"],[35,7,51,0],[35,18,51,0,"get"],[35,19,51,0],[36,6,51,0],[36,13,51,0,"recognizeAudio"],[36,27,51,0],[37,4,51,0],[38,2,51,0],[39,2,79,0,"Object"],[39,8,79,0],[39,9,79,0,"defineProperty"],[39,23,79,0],[39,24,79,0,"exports"],[39,31,79,0],[40,4,79,0,"enumerable"],[40,14,79,0],[41,4,79,0,"get"],[41,7,79,0],[41,18,79,0,"get"],[41,19,79,0],[42,6,79,0],[42,13,79,0,"recognizeVideo"],[42,27,79,0],[43,4,79,0],[44,2,79,0],[45,2,114,0,"Object"],[45,8,114,0],[45,9,114,0,"defineProperty"],[45,23,114,0],[45,24,114,0,"exports"],[45,31,114,0],[46,4,114,0,"enumerable"],[46,14,114,0],[47,4,114,0,"get"],[47,7,114,0],[47,18,114,0,"get"],[47,19,114,0],[48,6,114,0],[48,13,114,0,"searchMovie"],[48,24,114,0],[49,4,114,0],[50,2,114,0],[51,2,1,0],[51,6,1,0,"_axios"],[51,12,1,0],[51,15,1,0,"require"],[51,22,1,0],[51,23,1,0,"_dependencyMap"],[51,37,1,0],[52,2,1,0],[52,6,1,0,"axios"],[52,11,1,0],[52,14,1,0,"_interopDefault"],[52,29,1,0],[52,30,1,0,"_axios"],[52,36,1,0],[53,2,2,0],[53,6,2,0,"_expoFileSystem"],[53,21,2,0],[53,24,2,0,"require"],[53,31,2,0],[53,32,2,0,"_dependencyMap"],[53,46,2,0],[54,2,2,0],[54,6,2,0,"FileSystem"],[54,16,2,0],[54,19,2,0,"_interopNamespace"],[54,36,2,0],[54,37,2,0,"_expoFileSystem"],[54,52,2,0],[55,2,4,0],[55,8,4,6,"API_BASE_URL"],[55,20,4,18],[55,23,4,21,"process"],[55,30,4,28],[55,31,4,29,"env"],[55,34,4,32],[55,35,4,33,"EXPO_PUBLIC_BACKEND_URL"],[55,58,4,56],[55,62,4,60],[55,103,4,101],[56,2,6,0,"console"],[56,9,6,7],[56,10,6,8,"log"],[56,13,6,11],[56,14,6,12],[56,29,6,27],[56,31,6,29,"API_BASE_URL"],[56,43,6,41],[56,44,6,42],[57,2,8,0],[57,8,8,6,"api"],[57,11,8,9],[57,14,8,12,"axios"],[57,19,8,17],[57,20,8,17,"default"],[57,27,8,17],[57,28,8,18,"create"],[57,34,8,24],[57,35,8,25],[58,4,9,2,"baseURL"],[58,11,9,9],[58,13,9,11,"API_BASE_URL"],[58,25,9,23],[59,4,10,2,"timeout"],[59,11,10,9],[59,13,10,11],[59,18,10,16],[60,4,11,2,"headers"],[60,11,11,9],[60,13,11,11],[61,6,12,4],[61,20,12,18],[61,22,12,20],[62,4,13,2],[63,2,14,0],[63,3,14,1],[63,4,14,2],[64,2,16,7],[64,8,16,13,"recognizeImage"],[64,22,16,27],[64,25,16,30],[64,31,16,37,"imageUri"],[64,39,16,45],[64,43,16,50],[65,4,17,2],[65,8,17,6],[66,6,18,4,"console"],[66,13,18,11],[66,14,18,12,"log"],[66,17,18,15],[66,18,18,16],[66,47,18,45],[66,49,18,47,"imageUri"],[66,57,18,55],[66,58,18,56],[67,6,19,4,"console"],[67,13,19,11],[67,14,19,12,"log"],[67,17,19,15],[67,18,19,16],[67,28,19,26],[67,30,19,28],[67,33,19,31,"API_BASE_URL"],[67,45,19,43],[67,67,19,65],[67,68,19,66],[68,6,21,4],[68,12,21,10,"formData"],[68,20,21,18],[68,23,21,21],[68,27,21,25,"FormData"],[68,35,21,33],[68,36,21,34],[68,37,21,35],[69,6,22,4,"formData"],[69,14,22,12],[69,15,22,13,"append"],[69,21,22,19],[69,22,22,20],[69,28,22,26],[69,30,22,28],[70,8,23,6,"uri"],[70,11,23,9],[70,13,23,11,"imageUri"],[70,21,23,19],[71,8,24,6,"type"],[71,12,24,10],[71,14,24,12],[71,26,24,24],[72,8,25,6,"name"],[72,12,25,10],[72,14,25,12],[73,6,26,4],[73,7,26,5],[73,8,26,6],[74,6,28,4],[74,12,28,10,"response"],[74,20,28,18],[74,23,28,21],[74,29,28,27,"axios"],[74,34,28,32],[74,35,28,32,"default"],[74,42,28,32],[74,43,28,33,"post"],[74,47,28,37],[74,48,29,6],[74,51,29,9,"API_BASE_URL"],[74,63,29,21],[74,85,29,43],[74,87,30,6,"formData"],[74,95,30,14],[74,97,31,6],[75,8,32,8,"headers"],[75,15,32,15],[75,17,32,17],[76,10,33,10],[76,24,33,24],[76,26,33,26],[77,8,34,8],[77,9,34,9],[78,8,35,8,"timeout"],[78,15,35,15],[78,17,35,17],[79,6,36,6],[79,7,37,4],[79,8,37,5],[80,6,39,4,"console"],[80,13,39,11],[80,14,39,12,"log"],[80,17,39,15],[80,18,39,16],[80,47,39,45],[80,49,39,47,"response"],[80,57,39,55],[80,58,39,56,"data"],[80,62,39,60],[80,63,39,61],[81,6,40,4],[81,13,40,11,"response"],[81,21,40,19],[81,22,40,20,"data"],[81,26,40,24],[82,4,41,2],[82,5,41,3],[82,6,41,4],[82,13,41,11,"error"],[82,18,41,16],[82,20,41,18],[83,6,42,4,"console"],[83,13,42,11],[83,14,42,12,"error"],[83,19,42,17],[83,20,42,18],[83,46,42,44],[83,48,42,46,"error"],[83,53,42,51],[83,54,42,52],[84,6,43,4,"console"],[84,13,43,11],[84,14,43,12,"error"],[84,19,43,17],[84,20,43,18],[84,37,43,35],[84,39,43,37,"error"],[84,44,43,42],[84,45,43,43,"response"],[84,53,43,51],[84,55,43,53,"data"],[84,59,43,57],[84,60,43,58],[85,6,44,4],[85,13,44,11],[86,8,45,6,"success"],[86,15,45,13],[86,17,45,15],[86,22,45,20],[87,8,46,6,"error"],[87,13,46,11],[87,15,46,13,"error"],[87,20,46,18],[87,21,46,19,"response"],[87,29,46,27],[87,31,46,29,"data"],[87,35,46,33],[87,37,46,35,"error"],[87,42,46,40],[87,46,46,44,"error"],[87,51,46,49],[87,52,46,50,"message"],[87,59,46,57],[87,63,46,61],[88,6,47,4],[88,7,47,5],[89,4,48,2],[90,2,49,0],[90,3,49,1],[91,2,51,7],[91,8,51,13,"recognizeAudio"],[91,22,51,27],[91,25,51,30],[91,31,51,37,"audioUri"],[91,39,51,45],[91,43,51,50],[92,4,52,2],[92,8,52,6],[93,6,53,4,"console"],[93,13,53,11],[93,14,53,12,"log"],[93,17,53,15],[93,18,53,16],[93,47,53,45],[93,49,53,47,"audioUri"],[93,57,53,55],[93,58,53,56],[95,6,55,4],[96,6,56,4],[96,12,56,10,"base64"],[96,18,56,16],[96,21,56,19],[96,27,56,25,"FileSystem"],[96,37,56,35],[96,38,56,36,"readAsStringAsync"],[96,55,56,53],[96,56,56,54,"audioUri"],[96,64,56,62],[96,66,56,64],[97,8,57,6,"encoding"],[97,16,57,14],[97,18,57,16,"FileSystem"],[97,28,57,26],[97,29,57,27,"EncodingType"],[97,41,57,39],[97,42,57,40,"Base64"],[98,6,58,4],[98,7,58,5],[98,8,58,6],[99,6,60,4,"console"],[99,13,60,11],[99,14,60,12,"log"],[99,17,60,15],[99,18,60,16],[99,40,60,38],[99,42,60,40,"base64"],[99,48,60,46],[99,49,60,47,"length"],[99,55,60,53],[99,56,60,54],[100,6,61,4,"console"],[100,13,61,11],[100,14,61,12,"log"],[100,17,61,15],[100,18,61,16],[100,28,61,26],[100,30,61,28],[100,33,61,31,"API_BASE_URL"],[100,45,61,43],[100,67,61,65],[100,68,61,66],[101,6,63,4],[101,12,63,10,"response"],[101,20,63,18],[101,23,63,21],[101,29,63,27,"api"],[101,32,63,30],[101,33,63,31,"post"],[101,37,63,35],[101,38,63,36],[101,60,63,58],[101,62,63,60],[102,8,64,6,"audio_base64"],[102,20,64,18],[102,22,64,20],[102,47,64,45,"base64"],[102,53,64,51],[103,6,65,4],[103,7,65,5],[103,8,65,6],[104,6,67,4,"console"],[104,13,67,11],[104,14,67,12,"log"],[104,17,67,15],[104,18,67,16],[104,47,67,45],[104,49,67,47,"response"],[104,57,67,55],[104,58,67,56,"data"],[104,62,67,60],[104,63,67,61],[105,6,68,4],[105,13,68,11,"response"],[105,21,68,19],[105,22,68,20,"data"],[105,26,68,24],[106,4,69,2],[106,5,69,3],[106,6,69,4],[106,13,69,11,"error"],[106,18,69,16],[106,20,69,18],[107,6,70,4,"console"],[107,13,70,11],[107,14,70,12,"error"],[107,19,70,17],[107,20,70,18],[107,46,70,44],[107,48,70,46,"error"],[107,53,70,51],[107,54,70,52],[108,6,71,4,"console"],[108,13,71,11],[108,14,71,12,"error"],[108,19,71,17],[108,20,71,18],[108,37,71,35],[108,39,71,37,"error"],[108,44,71,42],[108,45,71,43,"response"],[108,53,71,51],[108,55,71,53,"data"],[108,59,71,57],[108,60,71,58],[109,6,72,4],[109,13,72,11],[110,8,73,6,"success"],[110,15,73,13],[110,17,73,15],[110,22,73,20],[111,8,74,6,"error"],[111,13,74,11],[111,15,74,13,"error"],[111,20,74,18],[111,21,74,19,"response"],[111,29,74,27],[111,31,74,29,"data"],[111,35,74,33],[111,37,74,35,"error"],[111,42,74,40],[111,46,74,44,"error"],[111,51,74,49],[111,52,74,50,"message"],[111,59,74,57],[111,63,74,61],[112,6,75,4],[112,7,75,5],[113,4,76,2],[114,2,77,0],[114,3,77,1],[115,2,79,7],[115,8,79,13,"recognizeVideo"],[115,22,79,27],[115,25,79,30],[115,31,79,37,"videoUri"],[115,39,79,45],[115,43,79,50],[116,4,80,2],[116,8,80,6],[117,6,81,4,"console"],[117,13,81,11],[117,14,81,12,"log"],[117,17,81,15],[117,18,81,16],[117,47,81,45],[117,49,81,47,"videoUri"],[117,57,81,55],[117,58,81,56],[118,6,82,4,"console"],[118,13,82,11],[118,14,82,12,"log"],[118,17,82,15],[118,18,82,16],[118,28,82,26],[118,30,82,28],[118,33,82,31,"API_BASE_URL"],[118,45,82,43],[118,67,82,65],[118,68,82,66],[119,6,84,4],[119,12,84,10,"formData"],[119,20,84,18],[119,23,84,21],[119,27,84,25,"FormData"],[119,35,84,33],[119,36,84,34],[119,37,84,35],[120,6,85,4,"formData"],[120,14,85,12],[120,15,85,13,"append"],[120,21,85,19],[120,22,85,20],[120,28,85,26],[120,30,85,28],[121,8,86,6,"uri"],[121,11,86,9],[121,13,86,11,"videoUri"],[121,21,86,19],[122,8,87,6,"type"],[122,12,87,10],[122,14,87,12],[122,25,87,23],[123,8,88,6,"name"],[123,12,88,10],[123,14,88,12],[124,6,89,4],[124,7,89,5],[124,8,89,6],[125,6,91,4],[125,12,91,10,"response"],[125,20,91,18],[125,23,91,21],[125,29,91,27,"axios"],[125,34,91,32],[125,35,91,32,"default"],[125,42,91,32],[125,43,91,33,"post"],[125,47,91,37],[125,48,92,6],[125,51,92,9,"API_BASE_URL"],[125,63,92,21],[125,85,92,43],[125,87,93,6,"formData"],[125,95,93,14],[125,97,94,6],[126,8,95,8,"headers"],[126,15,95,15],[126,17,95,17],[127,10,96,10],[127,24,96,24],[127,26,96,26],[128,8,97,8],[128,9,97,9],[129,8,98,8,"timeout"],[129,15,98,15],[129,17,98,17],[130,6,99,6],[130,7,100,4],[130,8,100,5],[131,6,102,4,"console"],[131,13,102,11],[131,14,102,12,"log"],[131,17,102,15],[131,18,102,16],[131,47,102,45],[131,49,102,47,"response"],[131,57,102,55],[131,58,102,56,"data"],[131,62,102,60],[131,63,102,61],[132,6,103,4],[132,13,103,11,"response"],[132,21,103,19],[132,22,103,20,"data"],[132,26,103,24],[133,4,104,2],[133,5,104,3],[133,6,104,4],[133,13,104,11,"error"],[133,18,104,16],[133,20,104,18],[134,6,105,4,"console"],[134,13,105,11],[134,14,105,12,"error"],[134,19,105,17],[134,20,105,18],[134,46,105,44],[134,48,105,46,"error"],[134,53,105,51],[134,54,105,52],[135,6,106,4,"console"],[135,13,106,11],[135,14,106,12,"error"],[135,19,106,17],[135,20,106,18],[135,37,106,35],[135,39,106,37,"error"],[135,44,106,42],[135,45,106,43,"response"],[135,53,106,51],[135,55,106,53,"data"],[135,59,106,57],[135,60,106,58],[136,6,107,4],[136,13,107,11],[137,8,108,6,"success"],[137,15,108,13],[137,17,108,15],[137,22,108,20],[138,8,109,6,"error"],[138,13,109,11],[138,15,109,13,"error"],[138,20,109,18],[138,21,109,19,"response"],[138,29,109,27],[138,31,109,29,"data"],[138,35,109,33],[138,37,109,35,"error"],[138,42,109,40],[138,46,109,44,"error"],[138,51,109,49],[138,52,109,50,"message"],[138,59,109,57],[138,63,109,61],[139,6,110,4],[139,7,110,5],[140,4,111,2],[141,2,112,0],[141,3,112,1],[142,2,114,7],[142,8,114,13,"searchMovie"],[142,19,114,24],[142,22,114,27],[142,28,114,34,"query"],[142,33,114,39],[142,37,114,44],[143,4,115,2],[143,8,115,6],[144,6,116,4],[144,12,116,10,"response"],[144,20,116,18],[144,23,116,21],[144,29,116,27,"api"],[144,32,116,30],[144,33,116,31,"post"],[144,37,116,35],[144,38,116,36],[144,51,116,49],[144,53,116,51],[145,8,116,53,"query"],[146,6,116,59],[146,7,116,60],[146,8,116,61],[147,6,117,4],[147,13,117,11,"response"],[147,21,117,19],[147,22,117,20,"data"],[147,26,117,24],[148,4,118,2],[148,5,118,3],[148,6,118,4],[148,13,118,11,"error"],[148,18,118,16],[148,20,118,18],[149,6,119,4,"console"],[149,13,119,11],[149,14,119,12,"error"],[149,19,119,17],[149,20,119,18],[149,35,119,33],[149,37,119,35,"error"],[149,42,119,40],[149,43,119,41],[150,6,120,4],[150,12,120,10,"error"],[150,17,120,15],[151,4,121,2],[152,2,122,0],[152,3,122,1],[153,0,122,2],[153,3]],"functionMap":{"names":["<global>","recognizeImage","recognizeAudio","recognizeVideo","searchMovie"],"mappings":"AAA;8BCe;CDiC;8BEE;CF0B;8BGE;CHiC;2BIE;CJQ"},"hasCjsExports":false},"type":"js/module"}]}