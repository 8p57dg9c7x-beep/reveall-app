{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-file-system","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":47,"index":74}}],"key":"6GyvFG3BsQPSqqu9QRKJ8hfZxPw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"recognizeImage\", {\n    enumerable: true,\n    get: function () {\n      return recognizeImage;\n    }\n  });\n  Object.defineProperty(exports, \"recognizeAudio\", {\n    enumerable: true,\n    get: function () {\n      return recognizeAudio;\n    }\n  });\n  Object.defineProperty(exports, \"recognizeVideo\", {\n    enumerable: true,\n    get: function () {\n      return recognizeVideo;\n    }\n  });\n  Object.defineProperty(exports, \"searchMovie\", {\n    enumerable: true,\n    get: function () {\n      return searchMovie;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  require(_dependencyMap[2], \"expo-file-system\");\n  // Use Render backend (accessible from mobile devices)\n  const API_BASE_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'https://cinescan-backend-1.onrender.com';\n  console.log('API_BASE_URL:', API_BASE_URL);\n  const api = axios.default.create({\n    baseURL: API_BASE_URL,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  const recognizeImage = async imageUri => {\n    try {\n      console.log('Recognizing image from URI:', imageUri);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-image`);\n\n      // Use fetch with FormData for file uploads\n      const formData = new FormData();\n\n      // Create a file object with proper structure for React Native\n      const uriParts = imageUri.split('.');\n      const fileType = uriParts[uriParts.length - 1];\n      formData.append('file', {\n        uri: imageUri,\n        name: `photo.${fileType}`,\n        type: `image/${fileType}`\n      });\n\n      // Don't set Content-Type header - let fetch set it with proper boundary\n      const response = await fetch(`${API_BASE_URL}/api/recognize-image`, {\n        method: 'POST',\n        body: formData\n      });\n      const data = await response.json();\n      console.log('Image recognition response:', data);\n      return data;\n    } catch (error) {\n      console.error('Image recognition error:', error);\n      return {\n        success: false,\n        error: error.message || 'Failed to process image'\n      };\n    }\n  };\n  const recognizeAudio = async audioUri => {\n    try {\n      console.log('Recognizing audio from URI:', audioUri);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-audio`);\n\n      // Use fetch with FormData for audio files\n      const formData = new FormData();\n      const uriParts = audioUri.split('.');\n      const fileType = uriParts[uriParts.length - 1];\n      formData.append('file', {\n        uri: audioUri,\n        name: `audio.${fileType}`,\n        type: `audio/${fileType}`\n      });\n\n      // Don't set Content-Type header - let fetch set it with proper boundary\n      const response = await fetch(`${API_BASE_URL}/api/recognize-audio`, {\n        method: 'POST',\n        body: formData\n      });\n      const data = await response.json();\n      console.log('Audio recognition response:', data);\n      return data;\n    } catch (error) {\n      console.error('Audio recognition error:', error);\n      return {\n        success: false,\n        error: error.message || 'Failed to process audio'\n      };\n    }\n  };\n  const recognizeVideo = async videoUri => {\n    try {\n      console.log('Recognizing video from URI:', videoUri);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-video`);\n\n      // Use fetch with FormData for video files\n      const formData = new FormData();\n      const uriParts = videoUri.split('.');\n      const fileType = uriParts[uriParts.length - 1];\n      formData.append('file', {\n        uri: videoUri,\n        name: `video.${fileType}`,\n        type: `video/${fileType}`\n      });\n\n      // Don't set Content-Type header - let fetch set it with proper boundary\n      const response = await fetch(`${API_BASE_URL}/api/recognize-video`, {\n        method: 'POST',\n        body: formData\n      });\n      const data = await response.json();\n      console.log('Video recognition response:', data);\n      return data;\n    } catch (error) {\n      console.error('Video recognition error:', error);\n      return {\n        success: false,\n        error: error.message || 'Failed to process video'\n      };\n    }\n  };\n  const searchMovie = async query => {\n    try {\n      const response = await api.post('/api/search', {\n        query\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Search error:', error);\n      throw error;\n    }\n  };\n});","lineCount":156,"map":[[12,2,17,0,"Object"],[12,8,17,0],[12,9,17,0,"defineProperty"],[12,23,17,0],[12,24,17,0,"exports"],[12,31,17,0],[13,4,17,0,"enumerable"],[13,14,17,0],[14,4,17,0,"get"],[14,7,17,0],[14,18,17,0,"get"],[14,19,17,0],[15,6,17,0],[15,13,17,0,"recognizeImage"],[15,27,17,0],[16,4,17,0],[17,2,17,0],[18,2,53,0,"Object"],[18,8,53,0],[18,9,53,0,"defineProperty"],[18,23,53,0],[18,24,53,0,"exports"],[18,31,53,0],[19,4,53,0,"enumerable"],[19,14,53,0],[20,4,53,0,"get"],[20,7,53,0],[20,18,53,0,"get"],[20,19,53,0],[21,6,53,0],[21,13,53,0,"recognizeAudio"],[21,27,53,0],[22,4,53,0],[23,2,53,0],[24,2,88,0,"Object"],[24,8,88,0],[24,9,88,0,"defineProperty"],[24,23,88,0],[24,24,88,0,"exports"],[24,31,88,0],[25,4,88,0,"enumerable"],[25,14,88,0],[26,4,88,0,"get"],[26,7,88,0],[26,18,88,0,"get"],[26,19,88,0],[27,6,88,0],[27,13,88,0,"recognizeVideo"],[27,27,88,0],[28,4,88,0],[29,2,88,0],[30,2,123,0,"Object"],[30,8,123,0],[30,9,123,0,"defineProperty"],[30,23,123,0],[30,24,123,0,"exports"],[30,31,123,0],[31,4,123,0,"enumerable"],[31,14,123,0],[32,4,123,0,"get"],[32,7,123,0],[32,18,123,0,"get"],[32,19,123,0],[33,6,123,0],[33,13,123,0,"searchMovie"],[33,24,123,0],[34,4,123,0],[35,2,123,0],[36,2,131,2],[36,6,131,2,"_expoVirtualEnv"],[36,21,131,2],[36,24,131,2,"require"],[36,31,131,2],[36,32,131,2,"_dependencyMap"],[36,46,131,2],[37,2,1,0],[37,6,1,0,"_axios"],[37,12,1,0],[37,15,1,0,"require"],[37,22,1,0],[37,23,1,0,"_dependencyMap"],[37,37,1,0],[38,2,1,0],[38,6,1,0,"axios"],[38,11,1,0],[38,14,1,0,"_interopDefault"],[38,29,1,0],[38,30,1,0,"_axios"],[38,36,1,0],[39,2,2,0,"require"],[39,9,2,0],[39,10,2,0,"_dependencyMap"],[39,24,2,0],[40,2,4,0],[41,2,5,0],[41,8,5,6,"API_BASE_URL"],[41,20,5,18],[41,23,5,21,"_expoVirtualEnv"],[41,38,5,21],[41,39,5,21,"env"],[41,42,5,21],[41,43,5,21,"EXPO_PUBLIC_BACKEND_URL"],[41,66,5,21],[41,70,5,60],[41,111,5,101],[42,2,7,0,"console"],[42,9,7,7],[42,10,7,8,"log"],[42,13,7,11],[42,14,7,12],[42,29,7,27],[42,31,7,29,"API_BASE_URL"],[42,43,7,41],[42,44,7,42],[43,2,9,0],[43,8,9,6,"api"],[43,11,9,9],[43,14,9,12,"axios"],[43,19,9,17],[43,20,9,17,"default"],[43,27,9,17],[43,28,9,18,"create"],[43,34,9,24],[43,35,9,25],[44,4,10,2,"baseURL"],[44,11,10,9],[44,13,10,11,"API_BASE_URL"],[44,25,10,23],[45,4,11,2,"timeout"],[45,11,11,9],[45,13,11,11],[45,18,11,16],[46,4,12,2,"headers"],[46,11,12,9],[46,13,12,11],[47,6,13,4],[47,20,13,18],[47,22,13,20],[48,4,14,2],[49,2,15,0],[49,3,15,1],[49,4,15,2],[50,2,17,7],[50,8,17,13,"recognizeImage"],[50,22,17,27],[50,25,17,30],[50,31,17,37,"imageUri"],[50,39,17,45],[50,43,17,50],[51,4,18,2],[51,8,18,6],[52,6,19,4,"console"],[52,13,19,11],[52,14,19,12,"log"],[52,17,19,15],[52,18,19,16],[52,47,19,45],[52,49,19,47,"imageUri"],[52,57,19,55],[52,58,19,56],[53,6,20,4,"console"],[53,13,20,11],[53,14,20,12,"log"],[53,17,20,15],[53,18,20,16],[53,28,20,26],[53,30,20,28],[53,33,20,31,"API_BASE_URL"],[53,45,20,43],[53,67,20,65],[53,68,20,66],[55,6,22,4],[56,6,23,4],[56,12,23,10,"formData"],[56,20,23,18],[56,23,23,21],[56,27,23,25,"FormData"],[56,35,23,33],[56,36,23,34],[56,37,23,35],[58,6,25,4],[59,6,26,4],[59,12,26,10,"uriParts"],[59,20,26,18],[59,23,26,21,"imageUri"],[59,31,26,29],[59,32,26,30,"split"],[59,37,26,35],[59,38,26,36],[59,41,26,39],[59,42,26,40],[60,6,27,4],[60,12,27,10,"fileType"],[60,20,27,18],[60,23,27,21,"uriParts"],[60,31,27,29],[60,32,27,30,"uriParts"],[60,40,27,38],[60,41,27,39,"length"],[60,47,27,45],[60,50,27,48],[60,51,27,49],[60,52,27,50],[61,6,29,4,"formData"],[61,14,29,12],[61,15,29,13,"append"],[61,21,29,19],[61,22,29,20],[61,28,29,26],[61,30,29,28],[62,8,30,6,"uri"],[62,11,30,9],[62,13,30,11,"imageUri"],[62,21,30,19],[63,8,31,6,"name"],[63,12,31,10],[63,14,31,12],[63,23,31,21,"fileType"],[63,31,31,29],[63,33,31,31],[64,8,32,6,"type"],[64,12,32,10],[64,14,32,12],[64,23,32,21,"fileType"],[64,31,32,29],[65,6,33,4],[65,7,33,5],[65,8,33,6],[67,6,35,4],[68,6,36,4],[68,12,36,10,"response"],[68,20,36,18],[68,23,36,21],[68,29,36,27,"fetch"],[68,34,36,32],[68,35,36,33],[68,38,36,36,"API_BASE_URL"],[68,50,36,48],[68,72,36,70],[68,74,36,72],[69,8,37,6,"method"],[69,14,37,12],[69,16,37,14],[69,22,37,20],[70,8,38,6,"body"],[70,12,38,10],[70,14,38,12,"formData"],[71,6,39,4],[71,7,39,5],[71,8,39,6],[72,6,41,4],[72,12,41,10,"data"],[72,16,41,14],[72,19,41,17],[72,25,41,23,"response"],[72,33,41,31],[72,34,41,32,"json"],[72,38,41,36],[72,39,41,37],[72,40,41,38],[73,6,42,4,"console"],[73,13,42,11],[73,14,42,12,"log"],[73,17,42,15],[73,18,42,16],[73,47,42,45],[73,49,42,47,"data"],[73,53,42,51],[73,54,42,52],[74,6,43,4],[74,13,43,11,"data"],[74,17,43,15],[75,4,44,2],[75,5,44,3],[75,6,44,4],[75,13,44,11,"error"],[75,18,44,16],[75,20,44,18],[76,6,45,4,"console"],[76,13,45,11],[76,14,45,12,"error"],[76,19,45,17],[76,20,45,18],[76,46,45,44],[76,48,45,46,"error"],[76,53,45,51],[76,54,45,52],[77,6,46,4],[77,13,46,11],[78,8,47,6,"success"],[78,15,47,13],[78,17,47,15],[78,22,47,20],[79,8,48,6,"error"],[79,13,48,11],[79,15,48,13,"error"],[79,20,48,18],[79,21,48,19,"message"],[79,28,48,26],[79,32,48,30],[80,6,49,4],[80,7,49,5],[81,4,50,2],[82,2,51,0],[82,3,51,1],[83,2,53,7],[83,8,53,13,"recognizeAudio"],[83,22,53,27],[83,25,53,30],[83,31,53,37,"audioUri"],[83,39,53,45],[83,43,53,50],[84,4,54,2],[84,8,54,6],[85,6,55,4,"console"],[85,13,55,11],[85,14,55,12,"log"],[85,17,55,15],[85,18,55,16],[85,47,55,45],[85,49,55,47,"audioUri"],[85,57,55,55],[85,58,55,56],[86,6,56,4,"console"],[86,13,56,11],[86,14,56,12,"log"],[86,17,56,15],[86,18,56,16],[86,28,56,26],[86,30,56,28],[86,33,56,31,"API_BASE_URL"],[86,45,56,43],[86,67,56,65],[86,68,56,66],[88,6,58,4],[89,6,59,4],[89,12,59,10,"formData"],[89,20,59,18],[89,23,59,21],[89,27,59,25,"FormData"],[89,35,59,33],[89,36,59,34],[89,37,59,35],[90,6,61,4],[90,12,61,10,"uriParts"],[90,20,61,18],[90,23,61,21,"audioUri"],[90,31,61,29],[90,32,61,30,"split"],[90,37,61,35],[90,38,61,36],[90,41,61,39],[90,42,61,40],[91,6,62,4],[91,12,62,10,"fileType"],[91,20,62,18],[91,23,62,21,"uriParts"],[91,31,62,29],[91,32,62,30,"uriParts"],[91,40,62,38],[91,41,62,39,"length"],[91,47,62,45],[91,50,62,48],[91,51,62,49],[91,52,62,50],[92,6,64,4,"formData"],[92,14,64,12],[92,15,64,13,"append"],[92,21,64,19],[92,22,64,20],[92,28,64,26],[92,30,64,28],[93,8,65,6,"uri"],[93,11,65,9],[93,13,65,11,"audioUri"],[93,21,65,19],[94,8,66,6,"name"],[94,12,66,10],[94,14,66,12],[94,23,66,21,"fileType"],[94,31,66,29],[94,33,66,31],[95,8,67,6,"type"],[95,12,67,10],[95,14,67,12],[95,23,67,21,"fileType"],[95,31,67,29],[96,6,68,4],[96,7,68,5],[96,8,68,6],[98,6,70,4],[99,6,71,4],[99,12,71,10,"response"],[99,20,71,18],[99,23,71,21],[99,29,71,27,"fetch"],[99,34,71,32],[99,35,71,33],[99,38,71,36,"API_BASE_URL"],[99,50,71,48],[99,72,71,70],[99,74,71,72],[100,8,72,6,"method"],[100,14,72,12],[100,16,72,14],[100,22,72,20],[101,8,73,6,"body"],[101,12,73,10],[101,14,73,12,"formData"],[102,6,74,4],[102,7,74,5],[102,8,74,6],[103,6,76,4],[103,12,76,10,"data"],[103,16,76,14],[103,19,76,17],[103,25,76,23,"response"],[103,33,76,31],[103,34,76,32,"json"],[103,38,76,36],[103,39,76,37],[103,40,76,38],[104,6,77,4,"console"],[104,13,77,11],[104,14,77,12,"log"],[104,17,77,15],[104,18,77,16],[104,47,77,45],[104,49,77,47,"data"],[104,53,77,51],[104,54,77,52],[105,6,78,4],[105,13,78,11,"data"],[105,17,78,15],[106,4,79,2],[106,5,79,3],[106,6,79,4],[106,13,79,11,"error"],[106,18,79,16],[106,20,79,18],[107,6,80,4,"console"],[107,13,80,11],[107,14,80,12,"error"],[107,19,80,17],[107,20,80,18],[107,46,80,44],[107,48,80,46,"error"],[107,53,80,51],[107,54,80,52],[108,6,81,4],[108,13,81,11],[109,8,82,6,"success"],[109,15,82,13],[109,17,82,15],[109,22,82,20],[110,8,83,6,"error"],[110,13,83,11],[110,15,83,13,"error"],[110,20,83,18],[110,21,83,19,"message"],[110,28,83,26],[110,32,83,30],[111,6,84,4],[111,7,84,5],[112,4,85,2],[113,2,86,0],[113,3,86,1],[114,2,88,7],[114,8,88,13,"recognizeVideo"],[114,22,88,27],[114,25,88,30],[114,31,88,37,"videoUri"],[114,39,88,45],[114,43,88,50],[115,4,89,2],[115,8,89,6],[116,6,90,4,"console"],[116,13,90,11],[116,14,90,12,"log"],[116,17,90,15],[116,18,90,16],[116,47,90,45],[116,49,90,47,"videoUri"],[116,57,90,55],[116,58,90,56],[117,6,91,4,"console"],[117,13,91,11],[117,14,91,12,"log"],[117,17,91,15],[117,18,91,16],[117,28,91,26],[117,30,91,28],[117,33,91,31,"API_BASE_URL"],[117,45,91,43],[117,67,91,65],[117,68,91,66],[119,6,93,4],[120,6,94,4],[120,12,94,10,"formData"],[120,20,94,18],[120,23,94,21],[120,27,94,25,"FormData"],[120,35,94,33],[120,36,94,34],[120,37,94,35],[121,6,96,4],[121,12,96,10,"uriParts"],[121,20,96,18],[121,23,96,21,"videoUri"],[121,31,96,29],[121,32,96,30,"split"],[121,37,96,35],[121,38,96,36],[121,41,96,39],[121,42,96,40],[122,6,97,4],[122,12,97,10,"fileType"],[122,20,97,18],[122,23,97,21,"uriParts"],[122,31,97,29],[122,32,97,30,"uriParts"],[122,40,97,38],[122,41,97,39,"length"],[122,47,97,45],[122,50,97,48],[122,51,97,49],[122,52,97,50],[123,6,99,4,"formData"],[123,14,99,12],[123,15,99,13,"append"],[123,21,99,19],[123,22,99,20],[123,28,99,26],[123,30,99,28],[124,8,100,6,"uri"],[124,11,100,9],[124,13,100,11,"videoUri"],[124,21,100,19],[125,8,101,6,"name"],[125,12,101,10],[125,14,101,12],[125,23,101,21,"fileType"],[125,31,101,29],[125,33,101,31],[126,8,102,6,"type"],[126,12,102,10],[126,14,102,12],[126,23,102,21,"fileType"],[126,31,102,29],[127,6,103,4],[127,7,103,5],[127,8,103,6],[129,6,105,4],[130,6,106,4],[130,12,106,10,"response"],[130,20,106,18],[130,23,106,21],[130,29,106,27,"fetch"],[130,34,106,32],[130,35,106,33],[130,38,106,36,"API_BASE_URL"],[130,50,106,48],[130,72,106,70],[130,74,106,72],[131,8,107,6,"method"],[131,14,107,12],[131,16,107,14],[131,22,107,20],[132,8,108,6,"body"],[132,12,108,10],[132,14,108,12,"formData"],[133,6,109,4],[133,7,109,5],[133,8,109,6],[134,6,111,4],[134,12,111,10,"data"],[134,16,111,14],[134,19,111,17],[134,25,111,23,"response"],[134,33,111,31],[134,34,111,32,"json"],[134,38,111,36],[134,39,111,37],[134,40,111,38],[135,6,112,4,"console"],[135,13,112,11],[135,14,112,12,"log"],[135,17,112,15],[135,18,112,16],[135,47,112,45],[135,49,112,47,"data"],[135,53,112,51],[135,54,112,52],[136,6,113,4],[136,13,113,11,"data"],[136,17,113,15],[137,4,114,2],[137,5,114,3],[137,6,114,4],[137,13,114,11,"error"],[137,18,114,16],[137,20,114,18],[138,6,115,4,"console"],[138,13,115,11],[138,14,115,12,"error"],[138,19,115,17],[138,20,115,18],[138,46,115,44],[138,48,115,46,"error"],[138,53,115,51],[138,54,115,52],[139,6,116,4],[139,13,116,11],[140,8,117,6,"success"],[140,15,117,13],[140,17,117,15],[140,22,117,20],[141,8,118,6,"error"],[141,13,118,11],[141,15,118,13,"error"],[141,20,118,18],[141,21,118,19,"message"],[141,28,118,26],[141,32,118,30],[142,6,119,4],[142,7,119,5],[143,4,120,2],[144,2,121,0],[144,3,121,1],[145,2,123,7],[145,8,123,13,"searchMovie"],[145,19,123,24],[145,22,123,27],[145,28,123,34,"query"],[145,33,123,39],[145,37,123,44],[146,4,124,2],[146,8,124,6],[147,6,125,4],[147,12,125,10,"response"],[147,20,125,18],[147,23,125,21],[147,29,125,27,"api"],[147,32,125,30],[147,33,125,31,"post"],[147,37,125,35],[147,38,125,36],[147,51,125,49],[147,53,125,51],[148,8,125,53,"query"],[149,6,125,59],[149,7,125,60],[149,8,125,61],[150,6,126,4],[150,13,126,11,"response"],[150,21,126,19],[150,22,126,20,"data"],[150,26,126,24],[151,4,127,2],[151,5,127,3],[151,6,127,4],[151,13,127,11,"error"],[151,18,127,16],[151,20,127,18],[152,6,128,4,"console"],[152,13,128,11],[152,14,128,12,"error"],[152,19,128,17],[152,20,128,18],[152,35,128,33],[152,37,128,35,"error"],[152,42,128,40],[152,43,128,41],[153,6,129,4],[153,12,129,10,"error"],[153,17,129,15],[154,4,130,2],[155,2,131,0],[155,3,131,1],[156,0,131,2],[156,3]],"functionMap":{"names":["<global>","recognizeImage","recognizeAudio","recognizeVideo","searchMovie"],"mappings":"AAA;8BCgB;CDkC;8BEE;CFiC;8BGE;CHiC;2BIE;CJQ"},"hasCjsExports":false},"type":"js/module"}]}