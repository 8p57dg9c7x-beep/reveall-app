{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-file-system","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":47,"index":74}}],"key":"6GyvFG3BsQPSqqu9QRKJ8hfZxPw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"recognizeImage\", {\n    enumerable: true,\n    get: function () {\n      return recognizeImage;\n    }\n  });\n  Object.defineProperty(exports, \"recognizeAudio\", {\n    enumerable: true,\n    get: function () {\n      return recognizeAudio;\n    }\n  });\n  Object.defineProperty(exports, \"recognizeVideo\", {\n    enumerable: true,\n    get: function () {\n      return recognizeVideo;\n    }\n  });\n  Object.defineProperty(exports, \"searchMovie\", {\n    enumerable: true,\n    get: function () {\n      return searchMovie;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  require(_dependencyMap[1], \"expo-file-system\");\n  // Use Render backend (accessible from mobile devices)\n  const API_BASE_URL = process.env.EXPO_PUBLIC_BACKEND_URL || 'https://cinescan-backend-1.onrender.com';\n  console.log('API_BASE_URL:', API_BASE_URL);\n  const api = axios.default.create({\n    baseURL: API_BASE_URL,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  const recognizeImage = async imageUri => {\n    try {\n      console.log('Recognizing image from URI:', imageUri);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-image`);\n\n      // Use fetch instead of axios for better FormData support\n      const formData = new FormData();\n\n      // Create a file object with proper structure for React Native\n      const uriParts = imageUri.split('.');\n      const fileType = uriParts[uriParts.length - 1];\n      formData.append('file', {\n        uri: imageUri,\n        name: `photo.${fileType}`,\n        type: `image/${fileType}`\n      });\n      const response = await fetch(`${API_BASE_URL}/api/recognize-image`, {\n        method: 'POST',\n        body: formData,\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      const data = await response.json();\n      console.log('Image recognition response:', data);\n      return data;\n    } catch (error) {\n      console.error('Image recognition error:', error);\n      return {\n        success: false,\n        error: error.message || 'Failed to process image'\n      };\n    }\n  };\n  const recognizeAudio = async audioUri => {\n    try {\n      console.log('Recognizing audio from URI:', audioUri);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-audio`);\n\n      // Use fetch with FormData for audio files\n      const formData = new FormData();\n      const uriParts = audioUri.split('.');\n      const fileType = uriParts[uriParts.length - 1];\n      formData.append('file', {\n        uri: audioUri,\n        name: `audio.${fileType}`,\n        type: `audio/${fileType}`\n      });\n      const response = await fetch(`${API_BASE_URL}/api/recognize-audio`, {\n        method: 'POST',\n        body: formData,\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      const data = await response.json();\n      console.log('Audio recognition response:', data);\n      return data;\n    } catch (error) {\n      console.error('Audio recognition error:', error);\n      return {\n        success: false,\n        error: error.message || 'Failed to process audio'\n      };\n    }\n  };\n  const recognizeVideo = async videoUri => {\n    try {\n      console.log('Recognizing video from URI:', videoUri);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-video`);\n\n      // Use fetch with FormData for video files\n      const formData = new FormData();\n      const uriParts = videoUri.split('.');\n      const fileType = uriParts[uriParts.length - 1];\n      formData.append('file', {\n        uri: videoUri,\n        name: `video.${fileType}`,\n        type: `video/${fileType}`\n      });\n      const response = await fetch(`${API_BASE_URL}/api/recognize-video`, {\n        method: 'POST',\n        body: formData,\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      const data = await response.json();\n      console.log('Video recognition response:', data);\n      return data;\n    } catch (error) {\n      console.error('Video recognition error:', error);\n      return {\n        success: false,\n        error: error.message || 'Failed to process video'\n      };\n    }\n  };\n  const searchMovie = async query => {\n    try {\n      const response = await api.post('/api/search', {\n        query\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Search error:', error);\n      throw error;\n    }\n  };\n});","lineCount":158,"map":[[12,2,17,0,"Object"],[12,8,17,0],[12,9,17,0,"defineProperty"],[12,23,17,0],[12,24,17,0,"exports"],[12,31,17,0],[13,4,17,0,"enumerable"],[13,14,17,0],[14,4,17,0,"get"],[14,7,17,0],[14,18,17,0,"get"],[14,19,17,0],[15,6,17,0],[15,13,17,0,"recognizeImage"],[15,27,17,0],[16,4,17,0],[17,2,17,0],[18,2,55,0,"Object"],[18,8,55,0],[18,9,55,0,"defineProperty"],[18,23,55,0],[18,24,55,0,"exports"],[18,31,55,0],[19,4,55,0,"enumerable"],[19,14,55,0],[20,4,55,0,"get"],[20,7,55,0],[20,18,55,0,"get"],[20,19,55,0],[21,6,55,0],[21,13,55,0,"recognizeAudio"],[21,27,55,0],[22,4,55,0],[23,2,55,0],[24,2,92,0,"Object"],[24,8,92,0],[24,9,92,0,"defineProperty"],[24,23,92,0],[24,24,92,0,"exports"],[24,31,92,0],[25,4,92,0,"enumerable"],[25,14,92,0],[26,4,92,0,"get"],[26,7,92,0],[26,18,92,0,"get"],[26,19,92,0],[27,6,92,0],[27,13,92,0,"recognizeVideo"],[27,27,92,0],[28,4,92,0],[29,2,92,0],[30,2,129,0,"Object"],[30,8,129,0],[30,9,129,0,"defineProperty"],[30,23,129,0],[30,24,129,0,"exports"],[30,31,129,0],[31,4,129,0,"enumerable"],[31,14,129,0],[32,4,129,0,"get"],[32,7,129,0],[32,18,129,0,"get"],[32,19,129,0],[33,6,129,0],[33,13,129,0,"searchMovie"],[33,24,129,0],[34,4,129,0],[35,2,129,0],[36,2,1,0],[36,6,1,0,"_axios"],[36,12,1,0],[36,15,1,0,"require"],[36,22,1,0],[36,23,1,0,"_dependencyMap"],[36,37,1,0],[37,2,1,0],[37,6,1,0,"axios"],[37,11,1,0],[37,14,1,0,"_interopDefault"],[37,29,1,0],[37,30,1,0,"_axios"],[37,36,1,0],[38,2,2,0,"require"],[38,9,2,0],[38,10,2,0,"_dependencyMap"],[38,24,2,0],[39,2,4,0],[40,2,5,0],[40,8,5,6,"API_BASE_URL"],[40,20,5,18],[40,23,5,21,"process"],[40,30,5,28],[40,31,5,29,"env"],[40,34,5,32],[40,35,5,33,"EXPO_PUBLIC_BACKEND_URL"],[40,58,5,56],[40,62,5,60],[40,103,5,101],[41,2,7,0,"console"],[41,9,7,7],[41,10,7,8,"log"],[41,13,7,11],[41,14,7,12],[41,29,7,27],[41,31,7,29,"API_BASE_URL"],[41,43,7,41],[41,44,7,42],[42,2,9,0],[42,8,9,6,"api"],[42,11,9,9],[42,14,9,12,"axios"],[42,19,9,17],[42,20,9,17,"default"],[42,27,9,17],[42,28,9,18,"create"],[42,34,9,24],[42,35,9,25],[43,4,10,2,"baseURL"],[43,11,10,9],[43,13,10,11,"API_BASE_URL"],[43,25,10,23],[44,4,11,2,"timeout"],[44,11,11,9],[44,13,11,11],[44,18,11,16],[45,4,12,2,"headers"],[45,11,12,9],[45,13,12,11],[46,6,13,4],[46,20,13,18],[46,22,13,20],[47,4,14,2],[48,2,15,0],[48,3,15,1],[48,4,15,2],[49,2,17,7],[49,8,17,13,"recognizeImage"],[49,22,17,27],[49,25,17,30],[49,31,17,37,"imageUri"],[49,39,17,45],[49,43,17,50],[50,4,18,2],[50,8,18,6],[51,6,19,4,"console"],[51,13,19,11],[51,14,19,12,"log"],[51,17,19,15],[51,18,19,16],[51,47,19,45],[51,49,19,47,"imageUri"],[51,57,19,55],[51,58,19,56],[52,6,20,4,"console"],[52,13,20,11],[52,14,20,12,"log"],[52,17,20,15],[52,18,20,16],[52,28,20,26],[52,30,20,28],[52,33,20,31,"API_BASE_URL"],[52,45,20,43],[52,67,20,65],[52,68,20,66],[54,6,22,4],[55,6,23,4],[55,12,23,10,"formData"],[55,20,23,18],[55,23,23,21],[55,27,23,25,"FormData"],[55,35,23,33],[55,36,23,34],[55,37,23,35],[57,6,25,4],[58,6,26,4],[58,12,26,10,"uriParts"],[58,20,26,18],[58,23,26,21,"imageUri"],[58,31,26,29],[58,32,26,30,"split"],[58,37,26,35],[58,38,26,36],[58,41,26,39],[58,42,26,40],[59,6,27,4],[59,12,27,10,"fileType"],[59,20,27,18],[59,23,27,21,"uriParts"],[59,31,27,29],[59,32,27,30,"uriParts"],[59,40,27,38],[59,41,27,39,"length"],[59,47,27,45],[59,50,27,48],[59,51,27,49],[59,52,27,50],[60,6,29,4,"formData"],[60,14,29,12],[60,15,29,13,"append"],[60,21,29,19],[60,22,29,20],[60,28,29,26],[60,30,29,28],[61,8,30,6,"uri"],[61,11,30,9],[61,13,30,11,"imageUri"],[61,21,30,19],[62,8,31,6,"name"],[62,12,31,10],[62,14,31,12],[62,23,31,21,"fileType"],[62,31,31,29],[62,33,31,31],[63,8,32,6,"type"],[63,12,32,10],[63,14,32,12],[63,23,32,21,"fileType"],[63,31,32,29],[64,6,33,4],[64,7,33,5],[64,8,33,6],[65,6,35,4],[65,12,35,10,"response"],[65,20,35,18],[65,23,35,21],[65,29,35,27,"fetch"],[65,34,35,32],[65,35,35,33],[65,38,35,36,"API_BASE_URL"],[65,50,35,48],[65,72,35,70],[65,74,35,72],[66,8,36,6,"method"],[66,14,36,12],[66,16,36,14],[66,22,36,20],[67,8,37,6,"body"],[67,12,37,10],[67,14,37,12,"formData"],[67,22,37,20],[68,8,38,6,"headers"],[68,15,38,13],[68,17,38,15],[69,10,39,8],[69,24,39,22],[69,26,39,24],[70,8,40,6],[71,6,41,4],[71,7,41,5],[71,8,41,6],[72,6,43,4],[72,12,43,10,"data"],[72,16,43,14],[72,19,43,17],[72,25,43,23,"response"],[72,33,43,31],[72,34,43,32,"json"],[72,38,43,36],[72,39,43,37],[72,40,43,38],[73,6,44,4,"console"],[73,13,44,11],[73,14,44,12,"log"],[73,17,44,15],[73,18,44,16],[73,47,44,45],[73,49,44,47,"data"],[73,53,44,51],[73,54,44,52],[74,6,45,4],[74,13,45,11,"data"],[74,17,45,15],[75,4,46,2],[75,5,46,3],[75,6,46,4],[75,13,46,11,"error"],[75,18,46,16],[75,20,46,18],[76,6,47,4,"console"],[76,13,47,11],[76,14,47,12,"error"],[76,19,47,17],[76,20,47,18],[76,46,47,44],[76,48,47,46,"error"],[76,53,47,51],[76,54,47,52],[77,6,48,4],[77,13,48,11],[78,8,49,6,"success"],[78,15,49,13],[78,17,49,15],[78,22,49,20],[79,8,50,6,"error"],[79,13,50,11],[79,15,50,13,"error"],[79,20,50,18],[79,21,50,19,"message"],[79,28,50,26],[79,32,50,30],[80,6,51,4],[80,7,51,5],[81,4,52,2],[82,2,53,0],[82,3,53,1],[83,2,55,7],[83,8,55,13,"recognizeAudio"],[83,22,55,27],[83,25,55,30],[83,31,55,37,"audioUri"],[83,39,55,45],[83,43,55,50],[84,4,56,2],[84,8,56,6],[85,6,57,4,"console"],[85,13,57,11],[85,14,57,12,"log"],[85,17,57,15],[85,18,57,16],[85,47,57,45],[85,49,57,47,"audioUri"],[85,57,57,55],[85,58,57,56],[86,6,58,4,"console"],[86,13,58,11],[86,14,58,12,"log"],[86,17,58,15],[86,18,58,16],[86,28,58,26],[86,30,58,28],[86,33,58,31,"API_BASE_URL"],[86,45,58,43],[86,67,58,65],[86,68,58,66],[88,6,60,4],[89,6,61,4],[89,12,61,10,"formData"],[89,20,61,18],[89,23,61,21],[89,27,61,25,"FormData"],[89,35,61,33],[89,36,61,34],[89,37,61,35],[90,6,63,4],[90,12,63,10,"uriParts"],[90,20,63,18],[90,23,63,21,"audioUri"],[90,31,63,29],[90,32,63,30,"split"],[90,37,63,35],[90,38,63,36],[90,41,63,39],[90,42,63,40],[91,6,64,4],[91,12,64,10,"fileType"],[91,20,64,18],[91,23,64,21,"uriParts"],[91,31,64,29],[91,32,64,30,"uriParts"],[91,40,64,38],[91,41,64,39,"length"],[91,47,64,45],[91,50,64,48],[91,51,64,49],[91,52,64,50],[92,6,66,4,"formData"],[92,14,66,12],[92,15,66,13,"append"],[92,21,66,19],[92,22,66,20],[92,28,66,26],[92,30,66,28],[93,8,67,6,"uri"],[93,11,67,9],[93,13,67,11,"audioUri"],[93,21,67,19],[94,8,68,6,"name"],[94,12,68,10],[94,14,68,12],[94,23,68,21,"fileType"],[94,31,68,29],[94,33,68,31],[95,8,69,6,"type"],[95,12,69,10],[95,14,69,12],[95,23,69,21,"fileType"],[95,31,69,29],[96,6,70,4],[96,7,70,5],[96,8,70,6],[97,6,72,4],[97,12,72,10,"response"],[97,20,72,18],[97,23,72,21],[97,29,72,27,"fetch"],[97,34,72,32],[97,35,72,33],[97,38,72,36,"API_BASE_URL"],[97,50,72,48],[97,72,72,70],[97,74,72,72],[98,8,73,6,"method"],[98,14,73,12],[98,16,73,14],[98,22,73,20],[99,8,74,6,"body"],[99,12,74,10],[99,14,74,12,"formData"],[99,22,74,20],[100,8,75,6,"headers"],[100,15,75,13],[100,17,75,15],[101,10,76,8],[101,24,76,22],[101,26,76,24],[102,8,77,6],[103,6,78,4],[103,7,78,5],[103,8,78,6],[104,6,80,4],[104,12,80,10,"data"],[104,16,80,14],[104,19,80,17],[104,25,80,23,"response"],[104,33,80,31],[104,34,80,32,"json"],[104,38,80,36],[104,39,80,37],[104,40,80,38],[105,6,81,4,"console"],[105,13,81,11],[105,14,81,12,"log"],[105,17,81,15],[105,18,81,16],[105,47,81,45],[105,49,81,47,"data"],[105,53,81,51],[105,54,81,52],[106,6,82,4],[106,13,82,11,"data"],[106,17,82,15],[107,4,83,2],[107,5,83,3],[107,6,83,4],[107,13,83,11,"error"],[107,18,83,16],[107,20,83,18],[108,6,84,4,"console"],[108,13,84,11],[108,14,84,12,"error"],[108,19,84,17],[108,20,84,18],[108,46,84,44],[108,48,84,46,"error"],[108,53,84,51],[108,54,84,52],[109,6,85,4],[109,13,85,11],[110,8,86,6,"success"],[110,15,86,13],[110,17,86,15],[110,22,86,20],[111,8,87,6,"error"],[111,13,87,11],[111,15,87,13,"error"],[111,20,87,18],[111,21,87,19,"message"],[111,28,87,26],[111,32,87,30],[112,6,88,4],[112,7,88,5],[113,4,89,2],[114,2,90,0],[114,3,90,1],[115,2,92,7],[115,8,92,13,"recognizeVideo"],[115,22,92,27],[115,25,92,30],[115,31,92,37,"videoUri"],[115,39,92,45],[115,43,92,50],[116,4,93,2],[116,8,93,6],[117,6,94,4,"console"],[117,13,94,11],[117,14,94,12,"log"],[117,17,94,15],[117,18,94,16],[117,47,94,45],[117,49,94,47,"videoUri"],[117,57,94,55],[117,58,94,56],[118,6,95,4,"console"],[118,13,95,11],[118,14,95,12,"log"],[118,17,95,15],[118,18,95,16],[118,28,95,26],[118,30,95,28],[118,33,95,31,"API_BASE_URL"],[118,45,95,43],[118,67,95,65],[118,68,95,66],[120,6,97,4],[121,6,98,4],[121,12,98,10,"formData"],[121,20,98,18],[121,23,98,21],[121,27,98,25,"FormData"],[121,35,98,33],[121,36,98,34],[121,37,98,35],[122,6,100,4],[122,12,100,10,"uriParts"],[122,20,100,18],[122,23,100,21,"videoUri"],[122,31,100,29],[122,32,100,30,"split"],[122,37,100,35],[122,38,100,36],[122,41,100,39],[122,42,100,40],[123,6,101,4],[123,12,101,10,"fileType"],[123,20,101,18],[123,23,101,21,"uriParts"],[123,31,101,29],[123,32,101,30,"uriParts"],[123,40,101,38],[123,41,101,39,"length"],[123,47,101,45],[123,50,101,48],[123,51,101,49],[123,52,101,50],[124,6,103,4,"formData"],[124,14,103,12],[124,15,103,13,"append"],[124,21,103,19],[124,22,103,20],[124,28,103,26],[124,30,103,28],[125,8,104,6,"uri"],[125,11,104,9],[125,13,104,11,"videoUri"],[125,21,104,19],[126,8,105,6,"name"],[126,12,105,10],[126,14,105,12],[126,23,105,21,"fileType"],[126,31,105,29],[126,33,105,31],[127,8,106,6,"type"],[127,12,106,10],[127,14,106,12],[127,23,106,21,"fileType"],[127,31,106,29],[128,6,107,4],[128,7,107,5],[128,8,107,6],[129,6,109,4],[129,12,109,10,"response"],[129,20,109,18],[129,23,109,21],[129,29,109,27,"fetch"],[129,34,109,32],[129,35,109,33],[129,38,109,36,"API_BASE_URL"],[129,50,109,48],[129,72,109,70],[129,74,109,72],[130,8,110,6,"method"],[130,14,110,12],[130,16,110,14],[130,22,110,20],[131,8,111,6,"body"],[131,12,111,10],[131,14,111,12,"formData"],[131,22,111,20],[132,8,112,6,"headers"],[132,15,112,13],[132,17,112,15],[133,10,113,8],[133,24,113,22],[133,26,113,24],[134,8,114,6],[135,6,115,4],[135,7,115,5],[135,8,115,6],[136,6,117,4],[136,12,117,10,"data"],[136,16,117,14],[136,19,117,17],[136,25,117,23,"response"],[136,33,117,31],[136,34,117,32,"json"],[136,38,117,36],[136,39,117,37],[136,40,117,38],[137,6,118,4,"console"],[137,13,118,11],[137,14,118,12,"log"],[137,17,118,15],[137,18,118,16],[137,47,118,45],[137,49,118,47,"data"],[137,53,118,51],[137,54,118,52],[138,6,119,4],[138,13,119,11,"data"],[138,17,119,15],[139,4,120,2],[139,5,120,3],[139,6,120,4],[139,13,120,11,"error"],[139,18,120,16],[139,20,120,18],[140,6,121,4,"console"],[140,13,121,11],[140,14,121,12,"error"],[140,19,121,17],[140,20,121,18],[140,46,121,44],[140,48,121,46,"error"],[140,53,121,51],[140,54,121,52],[141,6,122,4],[141,13,122,11],[142,8,123,6,"success"],[142,15,123,13],[142,17,123,15],[142,22,123,20],[143,8,124,6,"error"],[143,13,124,11],[143,15,124,13,"error"],[143,20,124,18],[143,21,124,19,"message"],[143,28,124,26],[143,32,124,30],[144,6,125,4],[144,7,125,5],[145,4,126,2],[146,2,127,0],[146,3,127,1],[147,2,129,7],[147,8,129,13,"searchMovie"],[147,19,129,24],[147,22,129,27],[147,28,129,34,"query"],[147,33,129,39],[147,37,129,44],[148,4,130,2],[148,8,130,6],[149,6,131,4],[149,12,131,10,"response"],[149,20,131,18],[149,23,131,21],[149,29,131,27,"api"],[149,32,131,30],[149,33,131,31,"post"],[149,37,131,35],[149,38,131,36],[149,51,131,49],[149,53,131,51],[150,8,131,53,"query"],[151,6,131,59],[151,7,131,60],[151,8,131,61],[152,6,132,4],[152,13,132,11,"response"],[152,21,132,19],[152,22,132,20,"data"],[152,26,132,24],[153,4,133,2],[153,5,133,3],[153,6,133,4],[153,13,133,11,"error"],[153,18,133,16],[153,20,133,18],[154,6,134,4,"console"],[154,13,134,11],[154,14,134,12,"error"],[154,19,134,17],[154,20,134,18],[154,35,134,33],[154,37,134,35,"error"],[154,42,134,40],[154,43,134,41],[155,6,135,4],[155,12,135,10,"error"],[155,17,135,15],[156,4,136,2],[157,2,137,0],[157,3,137,1],[158,0,137,2],[158,3]],"functionMap":{"names":["<global>","recognizeImage","recognizeAudio","recognizeVideo","searchMovie"],"mappings":"AAA;8BCgB;CDoC;8BEE;CFmC;8BGE;CHmC;2BIE;CJQ"},"hasCjsExports":false},"type":"js/module"}]}