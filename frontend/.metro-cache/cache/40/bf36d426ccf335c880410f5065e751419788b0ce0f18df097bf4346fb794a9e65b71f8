{"dependencies":[{"name":"../config","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":78},"end":{"line":6,"column":41,"index":119}}],"key":"pHqFJJBAh3HI9ZCkK8fFRwPv3x0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"trackEvent\", {\n    enumerable: true,\n    get: function () {\n      return trackEvent;\n    }\n  });\n  Object.defineProperty(exports, \"trackProductClick\", {\n    enumerable: true,\n    get: function () {\n      return trackProductClick;\n    }\n  });\n  Object.defineProperty(exports, \"trackOutfitView\", {\n    enumerable: true,\n    get: function () {\n      return trackOutfitView;\n    }\n  });\n  Object.defineProperty(exports, \"trackBeautyView\", {\n    enumerable: true,\n    get: function () {\n      return trackBeautyView;\n    }\n  });\n  Object.defineProperty(exports, \"trackCategoryView\", {\n    enumerable: true,\n    get: function () {\n      return trackCategoryView;\n    }\n  });\n  Object.defineProperty(exports, \"getAnalyticsDashboard\", {\n    enumerable: true,\n    get: function () {\n      return getAnalyticsDashboard;\n    }\n  });\n  var _config = require(_dependencyMap[0], \"../config\");\n  /**\n   * Analytics Service\n   * Tracks user events for monetization insights\n   */\n\n  // Generate a simple session ID (persists during app session)\n  let sessionId = `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n\n  /**\n   * Track analytics event\n   * @param {string} eventType - product_click, outfit_view, beauty_view, category_view\n   * @param {object} data - Event data\n   */\n  const trackEvent = async (eventType, data = {}) => {\n    try {\n      const event = Object.assign({\n        event_type: eventType,\n        session_id: sessionId,\n        referral_source: data.referral_source || 'app'\n      }, data);\n      const response = await fetch(`${_config.API_BASE_URL}/api/analytics/track`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(event)\n      });\n      const result = await response.json();\n      if (result.success) {\n        console.log(`âœ… Analytics tracked: ${eventType}`);\n      }\n    } catch (error) {\n      // Silently fail - don't disrupt user experience\n      console.log('Analytics tracking error:', error);\n    }\n  };\n\n  /**\n   * Track product click\n   */\n  const trackProductClick = (product, itemContext = {}) => {\n    trackEvent('product_click', {\n      product_name: product.name,\n      product_price: product.price,\n      product_affiliate_url: product.affiliate_url || '',\n      item_id: itemContext.item_id,\n      item_title: itemContext.item_title,\n      category: itemContext.category\n    });\n  };\n\n  /**\n   * Track outfit view\n   */\n  const trackOutfitView = outfit => {\n    trackEvent('outfit_view', {\n      item_id: outfit.id?.toString(),\n      item_title: outfit.title,\n      category: outfit.category\n    });\n  };\n\n  /**\n   * Track beauty look view\n   */\n  const trackBeautyView = beautyLook => {\n    trackEvent('beauty_view', {\n      item_id: beautyLook.id?.toString(),\n      item_title: beautyLook.title,\n      category: beautyLook.category\n    });\n  };\n\n  /**\n   * Track category view\n   */\n  const trackCategoryView = (category, type = 'outfit') => {\n    trackEvent('category_view', {\n      category: category,\n      item_title: `${type}_category_${category}`\n    });\n  };\n\n  /**\n   * Get analytics dashboard data\n   */\n  const getAnalyticsDashboard = async () => {\n    try {\n      const response = await fetch(`${_config.API_BASE_URL}/api/analytics/dashboard`);\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('Error fetching analytics:', error);\n      return null;\n    }\n  };\n});","lineCount":140,"map":[[7,2,16,0,"Object"],[7,8,16,0],[7,9,16,0,"defineProperty"],[7,23,16,0],[7,24,16,0,"exports"],[7,31,16,0],[8,4,16,0,"enumerable"],[8,14,16,0],[9,4,16,0,"get"],[9,7,16,0],[9,18,16,0,"get"],[9,19,16,0],[10,6,16,0],[10,13,16,0,"trackEvent"],[10,23,16,0],[11,4,16,0],[12,2,16,0],[13,2,47,0,"Object"],[13,8,47,0],[13,9,47,0,"defineProperty"],[13,23,47,0],[13,24,47,0,"exports"],[13,31,47,0],[14,4,47,0,"enumerable"],[14,14,47,0],[15,4,47,0,"get"],[15,7,47,0],[15,18,47,0,"get"],[15,19,47,0],[16,6,47,0],[16,13,47,0,"trackProductClick"],[16,30,47,0],[17,4,47,0],[18,2,47,0],[19,2,61,0,"Object"],[19,8,61,0],[19,9,61,0,"defineProperty"],[19,23,61,0],[19,24,61,0,"exports"],[19,31,61,0],[20,4,61,0,"enumerable"],[20,14,61,0],[21,4,61,0,"get"],[21,7,61,0],[21,18,61,0,"get"],[21,19,61,0],[22,6,61,0],[22,13,61,0,"trackOutfitView"],[22,28,61,0],[23,4,61,0],[24,2,61,0],[25,2,72,0,"Object"],[25,8,72,0],[25,9,72,0,"defineProperty"],[25,23,72,0],[25,24,72,0,"exports"],[25,31,72,0],[26,4,72,0,"enumerable"],[26,14,72,0],[27,4,72,0,"get"],[27,7,72,0],[27,18,72,0,"get"],[27,19,72,0],[28,6,72,0],[28,13,72,0,"trackBeautyView"],[28,28,72,0],[29,4,72,0],[30,2,72,0],[31,2,83,0,"Object"],[31,8,83,0],[31,9,83,0,"defineProperty"],[31,23,83,0],[31,24,83,0,"exports"],[31,31,83,0],[32,4,83,0,"enumerable"],[32,14,83,0],[33,4,83,0,"get"],[33,7,83,0],[33,18,83,0,"get"],[33,19,83,0],[34,6,83,0],[34,13,83,0,"trackCategoryView"],[34,30,83,0],[35,4,83,0],[36,2,83,0],[37,2,93,0,"Object"],[37,8,93,0],[37,9,93,0,"defineProperty"],[37,23,93,0],[37,24,93,0,"exports"],[37,31,93,0],[38,4,93,0,"enumerable"],[38,14,93,0],[39,4,93,0,"get"],[39,7,93,0],[39,18,93,0,"get"],[39,19,93,0],[40,6,93,0],[40,13,93,0,"getAnalyticsDashboard"],[40,34,93,0],[41,4,93,0],[42,2,93,0],[43,2,6,0],[43,6,6,0,"_config"],[43,13,6,0],[43,16,6,0,"require"],[43,23,6,0],[43,24,6,0,"_dependencyMap"],[43,38,6,0],[44,2,1,0],[45,0,2,0],[46,0,3,0],[47,0,4,0],[49,2,8,0],[50,2,9,0],[50,6,9,4,"sessionId"],[50,15,9,13],[50,18,9,16],[50,29,9,27,"Date"],[50,33,9,31],[50,34,9,32,"now"],[50,37,9,35],[50,38,9,36],[50,39,9,37],[50,43,9,41,"Math"],[50,47,9,45],[50,48,9,46,"random"],[50,54,9,52],[50,55,9,53],[50,56,9,54],[50,57,9,55,"toString"],[50,65,9,63],[50,66,9,64],[50,68,9,66],[50,69,9,67],[50,70,9,68,"substr"],[50,76,9,74],[50,77,9,75],[50,78,9,76],[50,80,9,78],[50,81,9,79],[50,82,9,80],[50,84,9,82],[52,2,11,0],[53,0,12,0],[54,0,13,0],[55,0,14,0],[56,0,15,0],[57,2,16,7],[57,8,16,13,"trackEvent"],[57,18,16,23],[57,21,16,26],[57,27,16,26,"trackEvent"],[57,28,16,33,"eventType"],[57,37,16,42],[57,39,16,44,"data"],[57,43,16,48],[57,46,16,51],[57,47,16,52],[57,48,16,53],[57,53,16,58],[58,4,17,2],[58,8,17,6],[59,6,18,4],[59,12,18,10,"event"],[59,17,18,15],[59,20,18,15,"Object"],[59,26,18,15],[59,27,18,15,"assign"],[59,33,18,15],[60,8,19,6,"event_type"],[60,18,19,16],[60,20,19,18,"eventType"],[60,29,19,27],[61,8,20,6,"session_id"],[61,18,20,16],[61,20,20,18,"sessionId"],[61,29,20,27],[62,8,21,6,"referral_source"],[62,23,21,21],[62,25,21,23,"data"],[62,29,21,27],[62,30,21,28,"referral_source"],[62,45,21,43],[62,49,21,47],[63,6,21,52],[63,9,22,9,"data"],[63,13,22,13],[63,14,23,5],[64,6,25,4],[64,12,25,10,"response"],[64,20,25,18],[64,23,25,21],[64,29,25,27,"fetch"],[64,34,25,32],[64,35,25,33],[64,38,25,36,"API_BASE_URL"],[64,45,25,48],[64,46,25,48,"API_BASE_URL"],[64,58,25,48],[64,80,25,70],[64,82,25,72],[65,8,26,6,"method"],[65,14,26,12],[65,16,26,14],[65,22,26,20],[66,8,27,6,"headers"],[66,15,27,13],[66,17,27,15],[67,10,28,8],[67,24,28,22],[67,26,28,24],[68,8,29,6],[68,9,29,7],[69,8,30,6,"body"],[69,12,30,10],[69,14,30,12,"JSON"],[69,18,30,16],[69,19,30,17,"stringify"],[69,28,30,26],[69,29,30,27,"event"],[69,34,30,32],[70,6,31,4],[70,7,31,5],[70,8,31,6],[71,6,33,4],[71,12,33,10,"result"],[71,18,33,16],[71,21,33,19],[71,27,33,25,"response"],[71,35,33,33],[71,36,33,34,"json"],[71,40,33,38],[71,41,33,39],[71,42,33,40],[72,6,35,4],[72,10,35,8,"result"],[72,16,35,14],[72,17,35,15,"success"],[72,24,35,22],[72,26,35,24],[73,8,36,6,"console"],[73,15,36,13],[73,16,36,14,"log"],[73,19,36,17],[73,20,36,18],[73,44,36,42,"eventType"],[73,53,36,51],[73,55,36,53],[73,56,36,54],[74,6,37,4],[75,4,38,2],[75,5,38,3],[75,6,38,4],[75,13,38,11,"error"],[75,18,38,16],[75,20,38,18],[76,6,39,4],[77,6,40,4,"console"],[77,13,40,11],[77,14,40,12,"log"],[77,17,40,15],[77,18,40,16],[77,45,40,43],[77,47,40,45,"error"],[77,52,40,50],[77,53,40,51],[78,4,41,2],[79,2,42,0],[79,3,42,1],[81,2,44,0],[82,0,45,0],[83,0,46,0],[84,2,47,7],[84,8,47,13,"trackProductClick"],[84,25,47,30],[84,28,47,33,"trackProductClick"],[84,29,47,34,"product"],[84,36,47,41],[84,38,47,43,"itemContext"],[84,49,47,54],[84,52,47,57],[84,53,47,58],[84,54,47,59],[84,59,47,64],[85,4,48,2,"trackEvent"],[85,14,48,12],[85,15,48,13],[85,30,48,28],[85,32,48,30],[86,6,49,4,"product_name"],[86,18,49,16],[86,20,49,18,"product"],[86,27,49,25],[86,28,49,26,"name"],[86,32,49,30],[87,6,50,4,"product_price"],[87,19,50,17],[87,21,50,19,"product"],[87,28,50,26],[87,29,50,27,"price"],[87,34,50,32],[88,6,51,4,"product_affiliate_url"],[88,27,51,25],[88,29,51,27,"product"],[88,36,51,34],[88,37,51,35,"affiliate_url"],[88,50,51,48],[88,54,51,52],[88,56,51,54],[89,6,52,4,"item_id"],[89,13,52,11],[89,15,52,13,"itemContext"],[89,26,52,24],[89,27,52,25,"item_id"],[89,34,52,32],[90,6,53,4,"item_title"],[90,16,53,14],[90,18,53,16,"itemContext"],[90,29,53,27],[90,30,53,28,"item_title"],[90,40,53,38],[91,6,54,4,"category"],[91,14,54,12],[91,16,54,14,"itemContext"],[91,27,54,25],[91,28,54,26,"category"],[92,4,55,2],[92,5,55,3],[92,6,55,4],[93,2,56,0],[93,3,56,1],[95,2,58,0],[96,0,59,0],[97,0,60,0],[98,2,61,7],[98,8,61,13,"trackOutfitView"],[98,23,61,28],[98,26,61,32,"outfit"],[98,32,61,38],[98,36,61,43],[99,4,62,2,"trackEvent"],[99,14,62,12],[99,15,62,13],[99,28,62,26],[99,30,62,28],[100,6,63,4,"item_id"],[100,13,63,11],[100,15,63,13,"outfit"],[100,21,63,19],[100,22,63,20,"id"],[100,24,63,22],[100,26,63,24,"toString"],[100,34,63,32],[100,35,63,33],[100,36,63,34],[101,6,64,4,"item_title"],[101,16,64,14],[101,18,64,16,"outfit"],[101,24,64,22],[101,25,64,23,"title"],[101,30,64,28],[102,6,65,4,"category"],[102,14,65,12],[102,16,65,14,"outfit"],[102,22,65,20],[102,23,65,21,"category"],[103,4,66,2],[103,5,66,3],[103,6,66,4],[104,2,67,0],[104,3,67,1],[106,2,69,0],[107,0,70,0],[108,0,71,0],[109,2,72,7],[109,8,72,13,"trackBeautyView"],[109,23,72,28],[109,26,72,32,"beautyLook"],[109,36,72,42],[109,40,72,47],[110,4,73,2,"trackEvent"],[110,14,73,12],[110,15,73,13],[110,28,73,26],[110,30,73,28],[111,6,74,4,"item_id"],[111,13,74,11],[111,15,74,13,"beautyLook"],[111,25,74,23],[111,26,74,24,"id"],[111,28,74,26],[111,30,74,28,"toString"],[111,38,74,36],[111,39,74,37],[111,40,74,38],[112,6,75,4,"item_title"],[112,16,75,14],[112,18,75,16,"beautyLook"],[112,28,75,26],[112,29,75,27,"title"],[112,34,75,32],[113,6,76,4,"category"],[113,14,76,12],[113,16,76,14,"beautyLook"],[113,26,76,24],[113,27,76,25,"category"],[114,4,77,2],[114,5,77,3],[114,6,77,4],[115,2,78,0],[115,3,78,1],[117,2,80,0],[118,0,81,0],[119,0,82,0],[120,2,83,7],[120,8,83,13,"trackCategoryView"],[120,25,83,30],[120,28,83,33,"trackCategoryView"],[120,29,83,34,"category"],[120,37,83,42],[120,39,83,44,"type"],[120,43,83,48],[120,46,83,51],[120,54,83,59],[120,59,83,64],[121,4,84,2,"trackEvent"],[121,14,84,12],[121,15,84,13],[121,30,84,28],[121,32,84,30],[122,6,85,4,"category"],[122,14,85,12],[122,16,85,14,"category"],[122,24,85,22],[123,6,86,4,"item_title"],[123,16,86,14],[123,18,86,16],[123,21,86,19,"type"],[123,25,86,23],[123,38,86,36,"category"],[123,46,86,44],[124,4,87,2],[124,5,87,3],[124,6,87,4],[125,2,88,0],[125,3,88,1],[127,2,90,0],[128,0,91,0],[129,0,92,0],[130,2,93,7],[130,8,93,13,"getAnalyticsDashboard"],[130,29,93,34],[130,32,93,37],[130,38,93,37,"getAnalyticsDashboard"],[130,39,93,37],[130,44,93,49],[131,4,94,2],[131,8,94,6],[132,6,95,4],[132,12,95,10,"response"],[132,20,95,18],[132,23,95,21],[132,29,95,27,"fetch"],[132,34,95,32],[132,35,95,33],[132,38,95,36,"API_BASE_URL"],[132,45,95,48],[132,46,95,48,"API_BASE_URL"],[132,58,95,48],[132,84,95,74],[132,85,95,75],[133,6,96,4],[133,12,96,10,"data"],[133,16,96,14],[133,19,96,17],[133,25,96,23,"response"],[133,33,96,31],[133,34,96,32,"json"],[133,38,96,36],[133,39,96,37],[133,40,96,38],[134,6,97,4],[134,13,97,11,"data"],[134,17,97,15],[135,4,98,2],[135,5,98,3],[135,6,98,4],[135,13,98,11,"error"],[135,18,98,16],[135,20,98,18],[136,6,99,4,"console"],[136,13,99,11],[136,14,99,12,"error"],[136,19,99,17],[136,20,99,18],[136,47,99,45],[136,49,99,47,"error"],[136,54,99,52],[136,55,99,53],[137,6,100,4],[137,13,100,11],[137,17,100,15],[138,4,101,2],[139,2,102,0],[139,3,102,1],[140,0,102,2],[140,3]],"functionMap":{"names":["<global>","trackEvent","trackProductClick","trackOutfitView","trackBeautyView","trackCategoryView","getAnalyticsDashboard"],"mappings":"AAA;0BCe;CD0B;iCEK;CFS;+BGK;CHM;+BIK;CJM;iCKK;CLK;qCMK;CNS"},"hasCjsExports":false},"type":"js/module"}]}