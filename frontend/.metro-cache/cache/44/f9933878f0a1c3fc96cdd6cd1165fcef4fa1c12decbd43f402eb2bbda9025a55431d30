{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-file-system","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":47,"index":74}}],"key":"6GyvFG3BsQPSqqu9QRKJ8hfZxPw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"recognizeImage\", {\n    enumerable: true,\n    get: function () {\n      return recognizeImage;\n    }\n  });\n  Object.defineProperty(exports, \"recognizeAudio\", {\n    enumerable: true,\n    get: function () {\n      return recognizeAudio;\n    }\n  });\n  Object.defineProperty(exports, \"recognizeVideo\", {\n    enumerable: true,\n    get: function () {\n      return recognizeVideo;\n    }\n  });\n  Object.defineProperty(exports, \"searchMovie\", {\n    enumerable: true,\n    get: function () {\n      return searchMovie;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  require(_dependencyMap[1], \"expo-file-system\");\n  // Use Render backend (accessible from mobile devices)\n  const API_BASE_URL = process.env.EXPO_PUBLIC_BACKEND_URL || 'https://cinescan-backend-1.onrender.com';\n  console.log('API_BASE_URL:', API_BASE_URL);\n  const api = axios.default.create({\n    baseURL: API_BASE_URL,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  const recognizeImage = async imageUri => {\n    try {\n      console.log('Recognizing image from URI:', imageUri);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-image`);\n\n      // Use fetch with FormData for file uploads\n      const formData = new FormData();\n\n      // Create a file object with proper structure for React Native\n      const uriParts = imageUri.split('.');\n      const fileType = uriParts[uriParts.length - 1];\n      formData.append('file', {\n        uri: imageUri,\n        name: `photo.${fileType}`,\n        type: `image/${fileType}`\n      });\n\n      // Don't set Content-Type header - let fetch set it with proper boundary\n      const response = await fetch(`${API_BASE_URL}/api/recognize-image`, {\n        method: 'POST',\n        body: formData\n      });\n      const data = await response.json();\n      console.log('Image recognition response:', data);\n      return data;\n    } catch (error) {\n      console.error('Image recognition error:', error);\n      return {\n        success: false,\n        error: error.message || 'Failed to process image'\n      };\n    }\n  };\n  const recognizeAudio = async audioUri => {\n    try {\n      console.log('Recognizing audio from URI:', audioUri);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-audio`);\n\n      // Use fetch with FormData for audio files\n      const formData = new FormData();\n      const uriParts = audioUri.split('.');\n      const fileType = uriParts[uriParts.length - 1];\n      formData.append('file', {\n        uri: audioUri,\n        name: `audio.${fileType}`,\n        type: `audio/${fileType}`\n      });\n\n      // Don't set Content-Type header - let fetch set it with proper boundary\n      const response = await fetch(`${API_BASE_URL}/api/recognize-audio`, {\n        method: 'POST',\n        body: formData\n      });\n      const data = await response.json();\n      console.log('Audio recognition response:', data);\n      return data;\n    } catch (error) {\n      console.error('Audio recognition error:', error);\n      return {\n        success: false,\n        error: error.message || 'Failed to process audio'\n      };\n    }\n  };\n  const recognizeVideo = async videoUri => {\n    try {\n      console.log('Recognizing video from URI:', videoUri);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-video`);\n\n      // Use fetch with FormData for video files\n      const formData = new FormData();\n      const uriParts = videoUri.split('.');\n      const fileType = uriParts[uriParts.length - 1];\n      formData.append('file', {\n        uri: videoUri,\n        name: `video.${fileType}`,\n        type: `video/${fileType}`\n      });\n\n      // Don't set Content-Type header - let fetch set it with proper boundary\n      const response = await fetch(`${API_BASE_URL}/api/recognize-video`, {\n        method: 'POST',\n        body: formData\n      });\n      const data = await response.json();\n      console.log('Video recognition response:', data);\n      return data;\n    } catch (error) {\n      console.error('Video recognition error:', error);\n      return {\n        success: false,\n        error: error.message || 'Failed to process video'\n      };\n    }\n  };\n  const searchMovie = async query => {\n    try {\n      const response = await api.post('/api/search', {\n        query\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Search error:', error);\n      throw error;\n    }\n  };\n});","lineCount":155,"map":[[12,2,17,0,"Object"],[12,8,17,0],[12,9,17,0,"defineProperty"],[12,23,17,0],[12,24,17,0,"exports"],[12,31,17,0],[13,4,17,0,"enumerable"],[13,14,17,0],[14,4,17,0,"get"],[14,7,17,0],[14,18,17,0,"get"],[14,19,17,0],[15,6,17,0],[15,13,17,0,"recognizeImage"],[15,27,17,0],[16,4,17,0],[17,2,17,0],[18,2,53,0,"Object"],[18,8,53,0],[18,9,53,0,"defineProperty"],[18,23,53,0],[18,24,53,0,"exports"],[18,31,53,0],[19,4,53,0,"enumerable"],[19,14,53,0],[20,4,53,0,"get"],[20,7,53,0],[20,18,53,0,"get"],[20,19,53,0],[21,6,53,0],[21,13,53,0,"recognizeAudio"],[21,27,53,0],[22,4,53,0],[23,2,53,0],[24,2,88,0,"Object"],[24,8,88,0],[24,9,88,0,"defineProperty"],[24,23,88,0],[24,24,88,0,"exports"],[24,31,88,0],[25,4,88,0,"enumerable"],[25,14,88,0],[26,4,88,0,"get"],[26,7,88,0],[26,18,88,0,"get"],[26,19,88,0],[27,6,88,0],[27,13,88,0,"recognizeVideo"],[27,27,88,0],[28,4,88,0],[29,2,88,0],[30,2,123,0,"Object"],[30,8,123,0],[30,9,123,0,"defineProperty"],[30,23,123,0],[30,24,123,0,"exports"],[30,31,123,0],[31,4,123,0,"enumerable"],[31,14,123,0],[32,4,123,0,"get"],[32,7,123,0],[32,18,123,0,"get"],[32,19,123,0],[33,6,123,0],[33,13,123,0,"searchMovie"],[33,24,123,0],[34,4,123,0],[35,2,123,0],[36,2,1,0],[36,6,1,0,"_axios"],[36,12,1,0],[36,15,1,0,"require"],[36,22,1,0],[36,23,1,0,"_dependencyMap"],[36,37,1,0],[37,2,1,0],[37,6,1,0,"axios"],[37,11,1,0],[37,14,1,0,"_interopDefault"],[37,29,1,0],[37,30,1,0,"_axios"],[37,36,1,0],[38,2,2,0,"require"],[38,9,2,0],[38,10,2,0,"_dependencyMap"],[38,24,2,0],[39,2,4,0],[40,2,5,0],[40,8,5,6,"API_BASE_URL"],[40,20,5,18],[40,23,5,21,"process"],[40,30,5,28],[40,31,5,29,"env"],[40,34,5,32],[40,35,5,33,"EXPO_PUBLIC_BACKEND_URL"],[40,58,5,56],[40,62,5,60],[40,103,5,101],[41,2,7,0,"console"],[41,9,7,7],[41,10,7,8,"log"],[41,13,7,11],[41,14,7,12],[41,29,7,27],[41,31,7,29,"API_BASE_URL"],[41,43,7,41],[41,44,7,42],[42,2,9,0],[42,8,9,6,"api"],[42,11,9,9],[42,14,9,12,"axios"],[42,19,9,17],[42,20,9,17,"default"],[42,27,9,17],[42,28,9,18,"create"],[42,34,9,24],[42,35,9,25],[43,4,10,2,"baseURL"],[43,11,10,9],[43,13,10,11,"API_BASE_URL"],[43,25,10,23],[44,4,11,2,"timeout"],[44,11,11,9],[44,13,11,11],[44,18,11,16],[45,4,12,2,"headers"],[45,11,12,9],[45,13,12,11],[46,6,13,4],[46,20,13,18],[46,22,13,20],[47,4,14,2],[48,2,15,0],[48,3,15,1],[48,4,15,2],[49,2,17,7],[49,8,17,13,"recognizeImage"],[49,22,17,27],[49,25,17,30],[49,31,17,37,"imageUri"],[49,39,17,45],[49,43,17,50],[50,4,18,2],[50,8,18,6],[51,6,19,4,"console"],[51,13,19,11],[51,14,19,12,"log"],[51,17,19,15],[51,18,19,16],[51,47,19,45],[51,49,19,47,"imageUri"],[51,57,19,55],[51,58,19,56],[52,6,20,4,"console"],[52,13,20,11],[52,14,20,12,"log"],[52,17,20,15],[52,18,20,16],[52,28,20,26],[52,30,20,28],[52,33,20,31,"API_BASE_URL"],[52,45,20,43],[52,67,20,65],[52,68,20,66],[54,6,22,4],[55,6,23,4],[55,12,23,10,"formData"],[55,20,23,18],[55,23,23,21],[55,27,23,25,"FormData"],[55,35,23,33],[55,36,23,34],[55,37,23,35],[57,6,25,4],[58,6,26,4],[58,12,26,10,"uriParts"],[58,20,26,18],[58,23,26,21,"imageUri"],[58,31,26,29],[58,32,26,30,"split"],[58,37,26,35],[58,38,26,36],[58,41,26,39],[58,42,26,40],[59,6,27,4],[59,12,27,10,"fileType"],[59,20,27,18],[59,23,27,21,"uriParts"],[59,31,27,29],[59,32,27,30,"uriParts"],[59,40,27,38],[59,41,27,39,"length"],[59,47,27,45],[59,50,27,48],[59,51,27,49],[59,52,27,50],[60,6,29,4,"formData"],[60,14,29,12],[60,15,29,13,"append"],[60,21,29,19],[60,22,29,20],[60,28,29,26],[60,30,29,28],[61,8,30,6,"uri"],[61,11,30,9],[61,13,30,11,"imageUri"],[61,21,30,19],[62,8,31,6,"name"],[62,12,31,10],[62,14,31,12],[62,23,31,21,"fileType"],[62,31,31,29],[62,33,31,31],[63,8,32,6,"type"],[63,12,32,10],[63,14,32,12],[63,23,32,21,"fileType"],[63,31,32,29],[64,6,33,4],[64,7,33,5],[64,8,33,6],[66,6,35,4],[67,6,36,4],[67,12,36,10,"response"],[67,20,36,18],[67,23,36,21],[67,29,36,27,"fetch"],[67,34,36,32],[67,35,36,33],[67,38,36,36,"API_BASE_URL"],[67,50,36,48],[67,72,36,70],[67,74,36,72],[68,8,37,6,"method"],[68,14,37,12],[68,16,37,14],[68,22,37,20],[69,8,38,6,"body"],[69,12,38,10],[69,14,38,12,"formData"],[70,6,39,4],[70,7,39,5],[70,8,39,6],[71,6,41,4],[71,12,41,10,"data"],[71,16,41,14],[71,19,41,17],[71,25,41,23,"response"],[71,33,41,31],[71,34,41,32,"json"],[71,38,41,36],[71,39,41,37],[71,40,41,38],[72,6,42,4,"console"],[72,13,42,11],[72,14,42,12,"log"],[72,17,42,15],[72,18,42,16],[72,47,42,45],[72,49,42,47,"data"],[72,53,42,51],[72,54,42,52],[73,6,43,4],[73,13,43,11,"data"],[73,17,43,15],[74,4,44,2],[74,5,44,3],[74,6,44,4],[74,13,44,11,"error"],[74,18,44,16],[74,20,44,18],[75,6,45,4,"console"],[75,13,45,11],[75,14,45,12,"error"],[75,19,45,17],[75,20,45,18],[75,46,45,44],[75,48,45,46,"error"],[75,53,45,51],[75,54,45,52],[76,6,46,4],[76,13,46,11],[77,8,47,6,"success"],[77,15,47,13],[77,17,47,15],[77,22,47,20],[78,8,48,6,"error"],[78,13,48,11],[78,15,48,13,"error"],[78,20,48,18],[78,21,48,19,"message"],[78,28,48,26],[78,32,48,30],[79,6,49,4],[79,7,49,5],[80,4,50,2],[81,2,51,0],[81,3,51,1],[82,2,53,7],[82,8,53,13,"recognizeAudio"],[82,22,53,27],[82,25,53,30],[82,31,53,37,"audioUri"],[82,39,53,45],[82,43,53,50],[83,4,54,2],[83,8,54,6],[84,6,55,4,"console"],[84,13,55,11],[84,14,55,12,"log"],[84,17,55,15],[84,18,55,16],[84,47,55,45],[84,49,55,47,"audioUri"],[84,57,55,55],[84,58,55,56],[85,6,56,4,"console"],[85,13,56,11],[85,14,56,12,"log"],[85,17,56,15],[85,18,56,16],[85,28,56,26],[85,30,56,28],[85,33,56,31,"API_BASE_URL"],[85,45,56,43],[85,67,56,65],[85,68,56,66],[87,6,58,4],[88,6,59,4],[88,12,59,10,"formData"],[88,20,59,18],[88,23,59,21],[88,27,59,25,"FormData"],[88,35,59,33],[88,36,59,34],[88,37,59,35],[89,6,61,4],[89,12,61,10,"uriParts"],[89,20,61,18],[89,23,61,21,"audioUri"],[89,31,61,29],[89,32,61,30,"split"],[89,37,61,35],[89,38,61,36],[89,41,61,39],[89,42,61,40],[90,6,62,4],[90,12,62,10,"fileType"],[90,20,62,18],[90,23,62,21,"uriParts"],[90,31,62,29],[90,32,62,30,"uriParts"],[90,40,62,38],[90,41,62,39,"length"],[90,47,62,45],[90,50,62,48],[90,51,62,49],[90,52,62,50],[91,6,64,4,"formData"],[91,14,64,12],[91,15,64,13,"append"],[91,21,64,19],[91,22,64,20],[91,28,64,26],[91,30,64,28],[92,8,65,6,"uri"],[92,11,65,9],[92,13,65,11,"audioUri"],[92,21,65,19],[93,8,66,6,"name"],[93,12,66,10],[93,14,66,12],[93,23,66,21,"fileType"],[93,31,66,29],[93,33,66,31],[94,8,67,6,"type"],[94,12,67,10],[94,14,67,12],[94,23,67,21,"fileType"],[94,31,67,29],[95,6,68,4],[95,7,68,5],[95,8,68,6],[97,6,70,4],[98,6,71,4],[98,12,71,10,"response"],[98,20,71,18],[98,23,71,21],[98,29,71,27,"fetch"],[98,34,71,32],[98,35,71,33],[98,38,71,36,"API_BASE_URL"],[98,50,71,48],[98,72,71,70],[98,74,71,72],[99,8,72,6,"method"],[99,14,72,12],[99,16,72,14],[99,22,72,20],[100,8,73,6,"body"],[100,12,73,10],[100,14,73,12,"formData"],[101,6,74,4],[101,7,74,5],[101,8,74,6],[102,6,76,4],[102,12,76,10,"data"],[102,16,76,14],[102,19,76,17],[102,25,76,23,"response"],[102,33,76,31],[102,34,76,32,"json"],[102,38,76,36],[102,39,76,37],[102,40,76,38],[103,6,77,4,"console"],[103,13,77,11],[103,14,77,12,"log"],[103,17,77,15],[103,18,77,16],[103,47,77,45],[103,49,77,47,"data"],[103,53,77,51],[103,54,77,52],[104,6,78,4],[104,13,78,11,"data"],[104,17,78,15],[105,4,79,2],[105,5,79,3],[105,6,79,4],[105,13,79,11,"error"],[105,18,79,16],[105,20,79,18],[106,6,80,4,"console"],[106,13,80,11],[106,14,80,12,"error"],[106,19,80,17],[106,20,80,18],[106,46,80,44],[106,48,80,46,"error"],[106,53,80,51],[106,54,80,52],[107,6,81,4],[107,13,81,11],[108,8,82,6,"success"],[108,15,82,13],[108,17,82,15],[108,22,82,20],[109,8,83,6,"error"],[109,13,83,11],[109,15,83,13,"error"],[109,20,83,18],[109,21,83,19,"message"],[109,28,83,26],[109,32,83,30],[110,6,84,4],[110,7,84,5],[111,4,85,2],[112,2,86,0],[112,3,86,1],[113,2,88,7],[113,8,88,13,"recognizeVideo"],[113,22,88,27],[113,25,88,30],[113,31,88,37,"videoUri"],[113,39,88,45],[113,43,88,50],[114,4,89,2],[114,8,89,6],[115,6,90,4,"console"],[115,13,90,11],[115,14,90,12,"log"],[115,17,90,15],[115,18,90,16],[115,47,90,45],[115,49,90,47,"videoUri"],[115,57,90,55],[115,58,90,56],[116,6,91,4,"console"],[116,13,91,11],[116,14,91,12,"log"],[116,17,91,15],[116,18,91,16],[116,28,91,26],[116,30,91,28],[116,33,91,31,"API_BASE_URL"],[116,45,91,43],[116,67,91,65],[116,68,91,66],[118,6,93,4],[119,6,94,4],[119,12,94,10,"formData"],[119,20,94,18],[119,23,94,21],[119,27,94,25,"FormData"],[119,35,94,33],[119,36,94,34],[119,37,94,35],[120,6,96,4],[120,12,96,10,"uriParts"],[120,20,96,18],[120,23,96,21,"videoUri"],[120,31,96,29],[120,32,96,30,"split"],[120,37,96,35],[120,38,96,36],[120,41,96,39],[120,42,96,40],[121,6,97,4],[121,12,97,10,"fileType"],[121,20,97,18],[121,23,97,21,"uriParts"],[121,31,97,29],[121,32,97,30,"uriParts"],[121,40,97,38],[121,41,97,39,"length"],[121,47,97,45],[121,50,97,48],[121,51,97,49],[121,52,97,50],[122,6,99,4,"formData"],[122,14,99,12],[122,15,99,13,"append"],[122,21,99,19],[122,22,99,20],[122,28,99,26],[122,30,99,28],[123,8,100,6,"uri"],[123,11,100,9],[123,13,100,11,"videoUri"],[123,21,100,19],[124,8,101,6,"name"],[124,12,101,10],[124,14,101,12],[124,23,101,21,"fileType"],[124,31,101,29],[124,33,101,31],[125,8,102,6,"type"],[125,12,102,10],[125,14,102,12],[125,23,102,21,"fileType"],[125,31,102,29],[126,6,103,4],[126,7,103,5],[126,8,103,6],[128,6,105,4],[129,6,106,4],[129,12,106,10,"response"],[129,20,106,18],[129,23,106,21],[129,29,106,27,"fetch"],[129,34,106,32],[129,35,106,33],[129,38,106,36,"API_BASE_URL"],[129,50,106,48],[129,72,106,70],[129,74,106,72],[130,8,107,6,"method"],[130,14,107,12],[130,16,107,14],[130,22,107,20],[131,8,108,6,"body"],[131,12,108,10],[131,14,108,12,"formData"],[132,6,109,4],[132,7,109,5],[132,8,109,6],[133,6,111,4],[133,12,111,10,"data"],[133,16,111,14],[133,19,111,17],[133,25,111,23,"response"],[133,33,111,31],[133,34,111,32,"json"],[133,38,111,36],[133,39,111,37],[133,40,111,38],[134,6,112,4,"console"],[134,13,112,11],[134,14,112,12,"log"],[134,17,112,15],[134,18,112,16],[134,47,112,45],[134,49,112,47,"data"],[134,53,112,51],[134,54,112,52],[135,6,113,4],[135,13,113,11,"data"],[135,17,113,15],[136,4,114,2],[136,5,114,3],[136,6,114,4],[136,13,114,11,"error"],[136,18,114,16],[136,20,114,18],[137,6,115,4,"console"],[137,13,115,11],[137,14,115,12,"error"],[137,19,115,17],[137,20,115,18],[137,46,115,44],[137,48,115,46,"error"],[137,53,115,51],[137,54,115,52],[138,6,116,4],[138,13,116,11],[139,8,117,6,"success"],[139,15,117,13],[139,17,117,15],[139,22,117,20],[140,8,118,6,"error"],[140,13,118,11],[140,15,118,13,"error"],[140,20,118,18],[140,21,118,19,"message"],[140,28,118,26],[140,32,118,30],[141,6,119,4],[141,7,119,5],[142,4,120,2],[143,2,121,0],[143,3,121,1],[144,2,123,7],[144,8,123,13,"searchMovie"],[144,19,123,24],[144,22,123,27],[144,28,123,34,"query"],[144,33,123,39],[144,37,123,44],[145,4,124,2],[145,8,124,6],[146,6,125,4],[146,12,125,10,"response"],[146,20,125,18],[146,23,125,21],[146,29,125,27,"api"],[146,32,125,30],[146,33,125,31,"post"],[146,37,125,35],[146,38,125,36],[146,51,125,49],[146,53,125,51],[147,8,125,53,"query"],[148,6,125,59],[148,7,125,60],[148,8,125,61],[149,6,126,4],[149,13,126,11,"response"],[149,21,126,19],[149,22,126,20,"data"],[149,26,126,24],[150,4,127,2],[150,5,127,3],[150,6,127,4],[150,13,127,11,"error"],[150,18,127,16],[150,20,127,18],[151,6,128,4,"console"],[151,13,128,11],[151,14,128,12,"error"],[151,19,128,17],[151,20,128,18],[151,35,128,33],[151,37,128,35,"error"],[151,42,128,40],[151,43,128,41],[152,6,129,4],[152,12,129,10,"error"],[152,17,129,15],[153,4,130,2],[154,2,131,0],[154,3,131,1],[155,0,131,2],[155,3]],"functionMap":{"names":["<global>","recognizeImage","recognizeAudio","recognizeVideo","searchMovie"],"mappings":"AAA;8BCgB;CDkC;8BEE;CFiC;8BGE;CHiC;2BIE;CJQ"},"hasCjsExports":false},"type":"js/module"}]}