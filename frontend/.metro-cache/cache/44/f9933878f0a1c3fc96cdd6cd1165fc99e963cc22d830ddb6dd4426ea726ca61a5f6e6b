{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-file-system","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":47,"index":74}}],"key":"6GyvFG3BsQPSqqu9QRKJ8hfZxPw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"recognizeImage\", {\n    enumerable: true,\n    get: function () {\n      return recognizeImage;\n    }\n  });\n  Object.defineProperty(exports, \"recognizeAudio\", {\n    enumerable: true,\n    get: function () {\n      return recognizeAudio;\n    }\n  });\n  Object.defineProperty(exports, \"recognizeVideo\", {\n    enumerable: true,\n    get: function () {\n      return recognizeVideo;\n    }\n  });\n  Object.defineProperty(exports, \"searchMovie\", {\n    enumerable: true,\n    get: function () {\n      return searchMovie;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoFileSystem = require(_dependencyMap[1], \"expo-file-system\");\n  var FileSystem = _interopNamespace(_expoFileSystem);\n  // Use Render backend (accessible from mobile devices)\n  const API_BASE_URL = process.env.EXPO_PUBLIC_BACKEND_URL || 'https://cinescan-backend-1.onrender.com';\n  console.log('API_BASE_URL:', API_BASE_URL);\n  const api = axios.default.create({\n    baseURL: API_BASE_URL,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  const recognizeImage = async imageUri => {\n    try {\n      console.log('Recognizing image from URI:', imageUri);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-image`);\n\n      // Read image file as base64\n      const base64 = await FileSystem.readAsStringAsync(imageUri, {\n        encoding: FileSystem.EncodingType.Base64\n      });\n      console.log('Image base64 length:', base64.length);\n\n      // Send as base64 instead of FormData\n      const response = await api.post('/api/recognize-image', {\n        image_base64: `data:image/jpeg;base64,${base64}`\n      });\n      console.log('Image recognition response:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Image recognition error:', error);\n      console.error('Error response:', error.response?.data);\n      return {\n        success: false,\n        error: error.response?.data?.error || error.message || 'Failed to process image'\n      };\n    }\n  };\n  const recognizeAudio = async audioUri => {\n    try {\n      console.log('Recognizing audio from URI:', audioUri);\n\n      // Read audio file as base64\n      const base64 = await FileSystem.readAsStringAsync(audioUri, {\n        encoding: FileSystem.EncodingType.Base64\n      });\n      console.log('Audio base64 length:', base64.length);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-audio`);\n      const response = await api.post('/api/recognize-audio', {\n        audio_base64: `data:audio/m4a;base64,${base64}`\n      });\n      console.log('Audio recognition response:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Audio recognition error:', error);\n      console.error('Error response:', error.response?.data);\n      return {\n        success: false,\n        error: error.response?.data?.error || error.message || 'Failed to process audio'\n      };\n    }\n  };\n  const recognizeVideo = async videoUri => {\n    try {\n      console.log('Recognizing video from URI:', videoUri);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-video`);\n\n      // Read video file as base64\n      const base64 = await FileSystem.readAsStringAsync(videoUri, {\n        encoding: FileSystem.EncodingType.Base64\n      });\n      console.log('Video base64 length:', base64.length);\n\n      // Send as base64 instead of FormData\n      const response = await api.post('/api/recognize-video', {\n        video_base64: `data:video/mp4;base64,${base64}`\n      });\n      console.log('Video recognition response:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Video recognition error:', error);\n      console.error('Error response:', error.response?.data);\n      return {\n        success: false,\n        error: error.response?.data?.error || error.message || 'Failed to process video'\n      };\n    }\n  };\n  const searchMovie = async query => {\n    try {\n      const response = await api.post('/api/search', {\n        query\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Search error:', error);\n      throw error;\n    }\n  };\n});","lineCount":152,"map":[[27,2,17,0,"Object"],[27,8,17,0],[27,9,17,0,"defineProperty"],[27,23,17,0],[27,24,17,0,"exports"],[27,31,17,0],[28,4,17,0,"enumerable"],[28,14,17,0],[29,4,17,0,"get"],[29,7,17,0],[29,18,17,0,"get"],[29,19,17,0],[30,6,17,0],[30,13,17,0,"recognizeImage"],[30,27,17,0],[31,4,17,0],[32,2,17,0],[33,2,46,0,"Object"],[33,8,46,0],[33,9,46,0,"defineProperty"],[33,23,46,0],[33,24,46,0,"exports"],[33,31,46,0],[34,4,46,0,"enumerable"],[34,14,46,0],[35,4,46,0,"get"],[35,7,46,0],[35,18,46,0,"get"],[35,19,46,0],[36,6,46,0],[36,13,46,0,"recognizeAudio"],[36,27,46,0],[37,4,46,0],[38,2,46,0],[39,2,74,0,"Object"],[39,8,74,0],[39,9,74,0,"defineProperty"],[39,23,74,0],[39,24,74,0,"exports"],[39,31,74,0],[40,4,74,0,"enumerable"],[40,14,74,0],[41,4,74,0,"get"],[41,7,74,0],[41,18,74,0,"get"],[41,19,74,0],[42,6,74,0],[42,13,74,0,"recognizeVideo"],[42,27,74,0],[43,4,74,0],[44,2,74,0],[45,2,103,0,"Object"],[45,8,103,0],[45,9,103,0,"defineProperty"],[45,23,103,0],[45,24,103,0,"exports"],[45,31,103,0],[46,4,103,0,"enumerable"],[46,14,103,0],[47,4,103,0,"get"],[47,7,103,0],[47,18,103,0,"get"],[47,19,103,0],[48,6,103,0],[48,13,103,0,"searchMovie"],[48,24,103,0],[49,4,103,0],[50,2,103,0],[51,2,1,0],[51,6,1,0,"_axios"],[51,12,1,0],[51,15,1,0,"require"],[51,22,1,0],[51,23,1,0,"_dependencyMap"],[51,37,1,0],[52,2,1,0],[52,6,1,0,"axios"],[52,11,1,0],[52,14,1,0,"_interopDefault"],[52,29,1,0],[52,30,1,0,"_axios"],[52,36,1,0],[53,2,2,0],[53,6,2,0,"_expoFileSystem"],[53,21,2,0],[53,24,2,0,"require"],[53,31,2,0],[53,32,2,0,"_dependencyMap"],[53,46,2,0],[54,2,2,0],[54,6,2,0,"FileSystem"],[54,16,2,0],[54,19,2,0,"_interopNamespace"],[54,36,2,0],[54,37,2,0,"_expoFileSystem"],[54,52,2,0],[55,2,4,0],[56,2,5,0],[56,8,5,6,"API_BASE_URL"],[56,20,5,18],[56,23,5,21,"process"],[56,30,5,28],[56,31,5,29,"env"],[56,34,5,32],[56,35,5,33,"EXPO_PUBLIC_BACKEND_URL"],[56,58,5,56],[56,62,5,60],[56,103,5,101],[57,2,7,0,"console"],[57,9,7,7],[57,10,7,8,"log"],[57,13,7,11],[57,14,7,12],[57,29,7,27],[57,31,7,29,"API_BASE_URL"],[57,43,7,41],[57,44,7,42],[58,2,9,0],[58,8,9,6,"api"],[58,11,9,9],[58,14,9,12,"axios"],[58,19,9,17],[58,20,9,17,"default"],[58,27,9,17],[58,28,9,18,"create"],[58,34,9,24],[58,35,9,25],[59,4,10,2,"baseURL"],[59,11,10,9],[59,13,10,11,"API_BASE_URL"],[59,25,10,23],[60,4,11,2,"timeout"],[60,11,11,9],[60,13,11,11],[60,18,11,16],[61,4,12,2,"headers"],[61,11,12,9],[61,13,12,11],[62,6,13,4],[62,20,13,18],[62,22,13,20],[63,4,14,2],[64,2,15,0],[64,3,15,1],[64,4,15,2],[65,2,17,7],[65,8,17,13,"recognizeImage"],[65,22,17,27],[65,25,17,30],[65,31,17,37,"imageUri"],[65,39,17,45],[65,43,17,50],[66,4,18,2],[66,8,18,6],[67,6,19,4,"console"],[67,13,19,11],[67,14,19,12,"log"],[67,17,19,15],[67,18,19,16],[67,47,19,45],[67,49,19,47,"imageUri"],[67,57,19,55],[67,58,19,56],[68,6,20,4,"console"],[68,13,20,11],[68,14,20,12,"log"],[68,17,20,15],[68,18,20,16],[68,28,20,26],[68,30,20,28],[68,33,20,31,"API_BASE_URL"],[68,45,20,43],[68,67,20,65],[68,68,20,66],[70,6,22,4],[71,6,23,4],[71,12,23,10,"base64"],[71,18,23,16],[71,21,23,19],[71,27,23,25,"FileSystem"],[71,37,23,35],[71,38,23,36,"readAsStringAsync"],[71,55,23,53],[71,56,23,54,"imageUri"],[71,64,23,62],[71,66,23,64],[72,8,24,6,"encoding"],[72,16,24,14],[72,18,24,16,"FileSystem"],[72,28,24,26],[72,29,24,27,"EncodingType"],[72,41,24,39],[72,42,24,40,"Base64"],[73,6,25,4],[73,7,25,5],[73,8,25,6],[74,6,27,4,"console"],[74,13,27,11],[74,14,27,12,"log"],[74,17,27,15],[74,18,27,16],[74,40,27,38],[74,42,27,40,"base64"],[74,48,27,46],[74,49,27,47,"length"],[74,55,27,53],[74,56,27,54],[76,6,29,4],[77,6,30,4],[77,12,30,10,"response"],[77,20,30,18],[77,23,30,21],[77,29,30,27,"api"],[77,32,30,30],[77,33,30,31,"post"],[77,37,30,35],[77,38,30,36],[77,60,30,58],[77,62,30,60],[78,8,31,6,"image_base64"],[78,20,31,18],[78,22,31,20],[78,48,31,46,"base64"],[78,54,31,52],[79,6,32,4],[79,7,32,5],[79,8,32,6],[80,6,34,4,"console"],[80,13,34,11],[80,14,34,12,"log"],[80,17,34,15],[80,18,34,16],[80,47,34,45],[80,49,34,47,"response"],[80,57,34,55],[80,58,34,56,"data"],[80,62,34,60],[80,63,34,61],[81,6,35,4],[81,13,35,11,"response"],[81,21,35,19],[81,22,35,20,"data"],[81,26,35,24],[82,4,36,2],[82,5,36,3],[82,6,36,4],[82,13,36,11,"error"],[82,18,36,16],[82,20,36,18],[83,6,37,4,"console"],[83,13,37,11],[83,14,37,12,"error"],[83,19,37,17],[83,20,37,18],[83,46,37,44],[83,48,37,46,"error"],[83,53,37,51],[83,54,37,52],[84,6,38,4,"console"],[84,13,38,11],[84,14,38,12,"error"],[84,19,38,17],[84,20,38,18],[84,37,38,35],[84,39,38,37,"error"],[84,44,38,42],[84,45,38,43,"response"],[84,53,38,51],[84,55,38,53,"data"],[84,59,38,57],[84,60,38,58],[85,6,39,4],[85,13,39,11],[86,8,40,6,"success"],[86,15,40,13],[86,17,40,15],[86,22,40,20],[87,8,41,6,"error"],[87,13,41,11],[87,15,41,13,"error"],[87,20,41,18],[87,21,41,19,"response"],[87,29,41,27],[87,31,41,29,"data"],[87,35,41,33],[87,37,41,35,"error"],[87,42,41,40],[87,46,41,44,"error"],[87,51,41,49],[87,52,41,50,"message"],[87,59,41,57],[87,63,41,61],[88,6,42,4],[88,7,42,5],[89,4,43,2],[90,2,44,0],[90,3,44,1],[91,2,46,7],[91,8,46,13,"recognizeAudio"],[91,22,46,27],[91,25,46,30],[91,31,46,37,"audioUri"],[91,39,46,45],[91,43,46,50],[92,4,47,2],[92,8,47,6],[93,6,48,4,"console"],[93,13,48,11],[93,14,48,12,"log"],[93,17,48,15],[93,18,48,16],[93,47,48,45],[93,49,48,47,"audioUri"],[93,57,48,55],[93,58,48,56],[95,6,50,4],[96,6,51,4],[96,12,51,10,"base64"],[96,18,51,16],[96,21,51,19],[96,27,51,25,"FileSystem"],[96,37,51,35],[96,38,51,36,"readAsStringAsync"],[96,55,51,53],[96,56,51,54,"audioUri"],[96,64,51,62],[96,66,51,64],[97,8,52,6,"encoding"],[97,16,52,14],[97,18,52,16,"FileSystem"],[97,28,52,26],[97,29,52,27,"EncodingType"],[97,41,52,39],[97,42,52,40,"Base64"],[98,6,53,4],[98,7,53,5],[98,8,53,6],[99,6,55,4,"console"],[99,13,55,11],[99,14,55,12,"log"],[99,17,55,15],[99,18,55,16],[99,40,55,38],[99,42,55,40,"base64"],[99,48,55,46],[99,49,55,47,"length"],[99,55,55,53],[99,56,55,54],[100,6,56,4,"console"],[100,13,56,11],[100,14,56,12,"log"],[100,17,56,15],[100,18,56,16],[100,28,56,26],[100,30,56,28],[100,33,56,31,"API_BASE_URL"],[100,45,56,43],[100,67,56,65],[100,68,56,66],[101,6,58,4],[101,12,58,10,"response"],[101,20,58,18],[101,23,58,21],[101,29,58,27,"api"],[101,32,58,30],[101,33,58,31,"post"],[101,37,58,35],[101,38,58,36],[101,60,58,58],[101,62,58,60],[102,8,59,6,"audio_base64"],[102,20,59,18],[102,22,59,20],[102,47,59,45,"base64"],[102,53,59,51],[103,6,60,4],[103,7,60,5],[103,8,60,6],[104,6,62,4,"console"],[104,13,62,11],[104,14,62,12,"log"],[104,17,62,15],[104,18,62,16],[104,47,62,45],[104,49,62,47,"response"],[104,57,62,55],[104,58,62,56,"data"],[104,62,62,60],[104,63,62,61],[105,6,63,4],[105,13,63,11,"response"],[105,21,63,19],[105,22,63,20,"data"],[105,26,63,24],[106,4,64,2],[106,5,64,3],[106,6,64,4],[106,13,64,11,"error"],[106,18,64,16],[106,20,64,18],[107,6,65,4,"console"],[107,13,65,11],[107,14,65,12,"error"],[107,19,65,17],[107,20,65,18],[107,46,65,44],[107,48,65,46,"error"],[107,53,65,51],[107,54,65,52],[108,6,66,4,"console"],[108,13,66,11],[108,14,66,12,"error"],[108,19,66,17],[108,20,66,18],[108,37,66,35],[108,39,66,37,"error"],[108,44,66,42],[108,45,66,43,"response"],[108,53,66,51],[108,55,66,53,"data"],[108,59,66,57],[108,60,66,58],[109,6,67,4],[109,13,67,11],[110,8,68,6,"success"],[110,15,68,13],[110,17,68,15],[110,22,68,20],[111,8,69,6,"error"],[111,13,69,11],[111,15,69,13,"error"],[111,20,69,18],[111,21,69,19,"response"],[111,29,69,27],[111,31,69,29,"data"],[111,35,69,33],[111,37,69,35,"error"],[111,42,69,40],[111,46,69,44,"error"],[111,51,69,49],[111,52,69,50,"message"],[111,59,69,57],[111,63,69,61],[112,6,70,4],[112,7,70,5],[113,4,71,2],[114,2,72,0],[114,3,72,1],[115,2,74,7],[115,8,74,13,"recognizeVideo"],[115,22,74,27],[115,25,74,30],[115,31,74,37,"videoUri"],[115,39,74,45],[115,43,74,50],[116,4,75,2],[116,8,75,6],[117,6,76,4,"console"],[117,13,76,11],[117,14,76,12,"log"],[117,17,76,15],[117,18,76,16],[117,47,76,45],[117,49,76,47,"videoUri"],[117,57,76,55],[117,58,76,56],[118,6,77,4,"console"],[118,13,77,11],[118,14,77,12,"log"],[118,17,77,15],[118,18,77,16],[118,28,77,26],[118,30,77,28],[118,33,77,31,"API_BASE_URL"],[118,45,77,43],[118,67,77,65],[118,68,77,66],[120,6,79,4],[121,6,80,4],[121,12,80,10,"base64"],[121,18,80,16],[121,21,80,19],[121,27,80,25,"FileSystem"],[121,37,80,35],[121,38,80,36,"readAsStringAsync"],[121,55,80,53],[121,56,80,54,"videoUri"],[121,64,80,62],[121,66,80,64],[122,8,81,6,"encoding"],[122,16,81,14],[122,18,81,16,"FileSystem"],[122,28,81,26],[122,29,81,27,"EncodingType"],[122,41,81,39],[122,42,81,40,"Base64"],[123,6,82,4],[123,7,82,5],[123,8,82,6],[124,6,84,4,"console"],[124,13,84,11],[124,14,84,12,"log"],[124,17,84,15],[124,18,84,16],[124,40,84,38],[124,42,84,40,"base64"],[124,48,84,46],[124,49,84,47,"length"],[124,55,84,53],[124,56,84,54],[126,6,86,4],[127,6,87,4],[127,12,87,10,"response"],[127,20,87,18],[127,23,87,21],[127,29,87,27,"api"],[127,32,87,30],[127,33,87,31,"post"],[127,37,87,35],[127,38,87,36],[127,60,87,58],[127,62,87,60],[128,8,88,6,"video_base64"],[128,20,88,18],[128,22,88,20],[128,47,88,45,"base64"],[128,53,88,51],[129,6,89,4],[129,7,89,5],[129,8,89,6],[130,6,91,4,"console"],[130,13,91,11],[130,14,91,12,"log"],[130,17,91,15],[130,18,91,16],[130,47,91,45],[130,49,91,47,"response"],[130,57,91,55],[130,58,91,56,"data"],[130,62,91,60],[130,63,91,61],[131,6,92,4],[131,13,92,11,"response"],[131,21,92,19],[131,22,92,20,"data"],[131,26,92,24],[132,4,93,2],[132,5,93,3],[132,6,93,4],[132,13,93,11,"error"],[132,18,93,16],[132,20,93,18],[133,6,94,4,"console"],[133,13,94,11],[133,14,94,12,"error"],[133,19,94,17],[133,20,94,18],[133,46,94,44],[133,48,94,46,"error"],[133,53,94,51],[133,54,94,52],[134,6,95,4,"console"],[134,13,95,11],[134,14,95,12,"error"],[134,19,95,17],[134,20,95,18],[134,37,95,35],[134,39,95,37,"error"],[134,44,95,42],[134,45,95,43,"response"],[134,53,95,51],[134,55,95,53,"data"],[134,59,95,57],[134,60,95,58],[135,6,96,4],[135,13,96,11],[136,8,97,6,"success"],[136,15,97,13],[136,17,97,15],[136,22,97,20],[137,8,98,6,"error"],[137,13,98,11],[137,15,98,13,"error"],[137,20,98,18],[137,21,98,19,"response"],[137,29,98,27],[137,31,98,29,"data"],[137,35,98,33],[137,37,98,35,"error"],[137,42,98,40],[137,46,98,44,"error"],[137,51,98,49],[137,52,98,50,"message"],[137,59,98,57],[137,63,98,61],[138,6,99,4],[138,7,99,5],[139,4,100,2],[140,2,101,0],[140,3,101,1],[141,2,103,7],[141,8,103,13,"searchMovie"],[141,19,103,24],[141,22,103,27],[141,28,103,34,"query"],[141,33,103,39],[141,37,103,44],[142,4,104,2],[142,8,104,6],[143,6,105,4],[143,12,105,10,"response"],[143,20,105,18],[143,23,105,21],[143,29,105,27,"api"],[143,32,105,30],[143,33,105,31,"post"],[143,37,105,35],[143,38,105,36],[143,51,105,49],[143,53,105,51],[144,8,105,53,"query"],[145,6,105,59],[145,7,105,60],[145,8,105,61],[146,6,106,4],[146,13,106,11,"response"],[146,21,106,19],[146,22,106,20,"data"],[146,26,106,24],[147,4,107,2],[147,5,107,3],[147,6,107,4],[147,13,107,11,"error"],[147,18,107,16],[147,20,107,18],[148,6,108,4,"console"],[148,13,108,11],[148,14,108,12,"error"],[148,19,108,17],[148,20,108,18],[148,35,108,33],[148,37,108,35,"error"],[148,42,108,40],[148,43,108,41],[149,6,109,4],[149,12,109,10,"error"],[149,17,109,15],[150,4,110,2],[151,2,111,0],[151,3,111,1],[152,0,111,2],[152,3]],"functionMap":{"names":["<global>","recognizeImage","recognizeAudio","recognizeVideo","searchMovie"],"mappings":"AAA;8BCgB;CD2B;8BEE;CF0B;8BGE;CH2B;2BIE;CJQ"},"hasCjsExports":false},"type":"js/module"}]}