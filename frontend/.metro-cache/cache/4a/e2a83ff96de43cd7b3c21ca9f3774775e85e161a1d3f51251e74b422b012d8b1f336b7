{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-file-system","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":47,"index":74}}],"key":"6GyvFG3BsQPSqqu9QRKJ8hfZxPw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"recognizeImage\", {\n    enumerable: true,\n    get: function () {\n      return recognizeImage;\n    }\n  });\n  Object.defineProperty(exports, \"recognizeAudio\", {\n    enumerable: true,\n    get: function () {\n      return recognizeAudio;\n    }\n  });\n  Object.defineProperty(exports, \"recognizeVideo\", {\n    enumerable: true,\n    get: function () {\n      return recognizeVideo;\n    }\n  });\n  Object.defineProperty(exports, \"searchMovie\", {\n    enumerable: true,\n    get: function () {\n      return searchMovie;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoFileSystem = require(_dependencyMap[2], \"expo-file-system\");\n  var FileSystem = _interopNamespace(_expoFileSystem);\n  const API_BASE_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'https://cinescan-app-1.preview.emergentagent.com';\n  const api = axios.default.create({\n    baseURL: API_BASE_URL,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  const recognizeImage = async imageUri => {\n    try {\n      const formData = new FormData();\n      formData.append('file', {\n        uri: imageUri,\n        type: 'image/jpeg',\n        name: 'photo.jpg'\n      });\n      const response = await axios.default.post(`${API_BASE_URL}/api/recognize-image`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        timeout: 30000\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Image recognition error:', error);\n      throw error;\n    }\n  };\n  const recognizeAudio = async audioUri => {\n    try {\n      // Read audio file as base64\n      const base64 = await FileSystem.readAsStringAsync(audioUri, {\n        encoding: FileSystem.EncodingType.Base64\n      });\n      const response = await api.post('/api/recognize-audio', {\n        audio_base64: `data:audio/m4a;base64,${base64}`\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Audio recognition error:', error);\n      throw error;\n    }\n  };\n  const recognizeVideo = async videoUri => {\n    try {\n      const formData = new FormData();\n      formData.append('file', {\n        uri: videoUri,\n        type: 'video/mp4',\n        name: 'video.mp4'\n      });\n      const response = await axios.default.post(`${API_BASE_URL}/api/recognize-video`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        timeout: 30000\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Video recognition error:', error);\n      throw error;\n    }\n  };\n  const searchMovie = async query => {\n    try {\n      const response = await api.post('/api/search', {\n        query\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Search error:', error);\n      throw error;\n    }\n  };\n});","lineCount":130,"map":[[27,2,14,0,"Object"],[27,8,14,0],[27,9,14,0,"defineProperty"],[27,23,14,0],[27,24,14,0,"exports"],[27,31,14,0],[28,4,14,0,"enumerable"],[28,14,14,0],[29,4,14,0,"get"],[29,7,14,0],[29,18,14,0,"get"],[29,19,14,0],[30,6,14,0],[30,13,14,0,"recognizeImage"],[30,27,14,0],[31,4,14,0],[32,2,14,0],[33,2,41,0,"Object"],[33,8,41,0],[33,9,41,0,"defineProperty"],[33,23,41,0],[33,24,41,0,"exports"],[33,31,41,0],[34,4,41,0,"enumerable"],[34,14,41,0],[35,4,41,0,"get"],[35,7,41,0],[35,18,41,0,"get"],[35,19,41,0],[36,6,41,0],[36,13,41,0,"recognizeAudio"],[36,27,41,0],[37,4,41,0],[38,2,41,0],[39,2,59,0,"Object"],[39,8,59,0],[39,9,59,0,"defineProperty"],[39,23,59,0],[39,24,59,0,"exports"],[39,31,59,0],[40,4,59,0,"enumerable"],[40,14,59,0],[41,4,59,0,"get"],[41,7,59,0],[41,18,59,0,"get"],[41,19,59,0],[42,6,59,0],[42,13,59,0,"recognizeVideo"],[42,27,59,0],[43,4,59,0],[44,2,59,0],[45,2,86,0,"Object"],[45,8,86,0],[45,9,86,0,"defineProperty"],[45,23,86,0],[45,24,86,0,"exports"],[45,31,86,0],[46,4,86,0,"enumerable"],[46,14,86,0],[47,4,86,0,"get"],[47,7,86,0],[47,18,86,0,"get"],[47,19,86,0],[48,6,86,0],[48,13,86,0,"searchMovie"],[48,24,86,0],[49,4,86,0],[50,2,86,0],[51,2,94,2],[51,6,94,2,"_expoVirtualEnv"],[51,21,94,2],[51,24,94,2,"require"],[51,31,94,2],[51,32,94,2,"_dependencyMap"],[51,46,94,2],[52,2,1,0],[52,6,1,0,"_axios"],[52,12,1,0],[52,15,1,0,"require"],[52,22,1,0],[52,23,1,0,"_dependencyMap"],[52,37,1,0],[53,2,1,0],[53,6,1,0,"axios"],[53,11,1,0],[53,14,1,0,"_interopDefault"],[53,29,1,0],[53,30,1,0,"_axios"],[53,36,1,0],[54,2,2,0],[54,6,2,0,"_expoFileSystem"],[54,21,2,0],[54,24,2,0,"require"],[54,31,2,0],[54,32,2,0,"_dependencyMap"],[54,46,2,0],[55,2,2,0],[55,6,2,0,"FileSystem"],[55,16,2,0],[55,19,2,0,"_interopNamespace"],[55,36,2,0],[55,37,2,0,"_expoFileSystem"],[55,52,2,0],[56,2,4,0],[56,8,4,6,"API_BASE_URL"],[56,20,4,18],[56,23,4,21,"_expoVirtualEnv"],[56,38,4,21],[56,39,4,21,"env"],[56,42,4,21],[56,43,4,21,"EXPO_PUBLIC_BACKEND_URL"],[56,66,4,21],[56,70,4,60],[56,120,4,110],[57,2,6,0],[57,8,6,6,"api"],[57,11,6,9],[57,14,6,12,"axios"],[57,19,6,17],[57,20,6,17,"default"],[57,27,6,17],[57,28,6,18,"create"],[57,34,6,24],[57,35,6,25],[58,4,7,2,"baseURL"],[58,11,7,9],[58,13,7,11,"API_BASE_URL"],[58,25,7,23],[59,4,8,2,"timeout"],[59,11,8,9],[59,13,8,11],[59,18,8,16],[60,4,9,2,"headers"],[60,11,9,9],[60,13,9,11],[61,6,10,4],[61,20,10,18],[61,22,10,20],[62,4,11,2],[63,2,12,0],[63,3,12,1],[63,4,12,2],[64,2,14,7],[64,8,14,13,"recognizeImage"],[64,22,14,27],[64,25,14,30],[64,31,14,37,"imageUri"],[64,39,14,45],[64,43,14,50],[65,4,15,2],[65,8,15,6],[66,6,16,4],[66,12,16,10,"formData"],[66,20,16,18],[66,23,16,21],[66,27,16,25,"FormData"],[66,35,16,33],[66,36,16,34],[66,37,16,35],[67,6,17,4,"formData"],[67,14,17,12],[67,15,17,13,"append"],[67,21,17,19],[67,22,17,20],[67,28,17,26],[67,30,17,28],[68,8,18,6,"uri"],[68,11,18,9],[68,13,18,11,"imageUri"],[68,21,18,19],[69,8,19,6,"type"],[69,12,19,10],[69,14,19,12],[69,26,19,24],[70,8,20,6,"name"],[70,12,20,10],[70,14,20,12],[71,6,21,4],[71,7,21,5],[71,8,21,6],[72,6,23,4],[72,12,23,10,"response"],[72,20,23,18],[72,23,23,21],[72,29,23,27,"axios"],[72,34,23,32],[72,35,23,32,"default"],[72,42,23,32],[72,43,23,33,"post"],[72,47,23,37],[72,48,24,6],[72,51,24,9,"API_BASE_URL"],[72,63,24,21],[72,85,24,43],[72,87,25,6,"formData"],[72,95,25,14],[72,97,26,6],[73,8,27,8,"headers"],[73,15,27,15],[73,17,27,17],[74,10,28,10],[74,24,28,24],[74,26,28,26],[75,8,29,8],[75,9,29,9],[76,8,30,8,"timeout"],[76,15,30,15],[76,17,30,17],[77,6,31,6],[77,7,32,4],[77,8,32,5],[78,6,34,4],[78,13,34,11,"response"],[78,21,34,19],[78,22,34,20,"data"],[78,26,34,24],[79,4,35,2],[79,5,35,3],[79,6,35,4],[79,13,35,11,"error"],[79,18,35,16],[79,20,35,18],[80,6,36,4,"console"],[80,13,36,11],[80,14,36,12,"error"],[80,19,36,17],[80,20,36,18],[80,46,36,44],[80,48,36,46,"error"],[80,53,36,51],[80,54,36,52],[81,6,37,4],[81,12,37,10,"error"],[81,17,37,15],[82,4,38,2],[83,2,39,0],[83,3,39,1],[84,2,41,7],[84,8,41,13,"recognizeAudio"],[84,22,41,27],[84,25,41,30],[84,31,41,37,"audioUri"],[84,39,41,45],[84,43,41,50],[85,4,42,2],[85,8,42,6],[86,6,43,4],[87,6,44,4],[87,12,44,10,"base64"],[87,18,44,16],[87,21,44,19],[87,27,44,25,"FileSystem"],[87,37,44,35],[87,38,44,36,"readAsStringAsync"],[87,55,44,53],[87,56,44,54,"audioUri"],[87,64,44,62],[87,66,44,64],[88,8,45,6,"encoding"],[88,16,45,14],[88,18,45,16,"FileSystem"],[88,28,45,26],[88,29,45,27,"EncodingType"],[88,41,45,39],[88,42,45,40,"Base64"],[89,6,46,4],[89,7,46,5],[89,8,46,6],[90,6,48,4],[90,12,48,10,"response"],[90,20,48,18],[90,23,48,21],[90,29,48,27,"api"],[90,32,48,30],[90,33,48,31,"post"],[90,37,48,35],[90,38,48,36],[90,60,48,58],[90,62,48,60],[91,8,49,6,"audio_base64"],[91,20,49,18],[91,22,49,20],[91,47,49,45,"base64"],[91,53,49,51],[92,6,50,4],[92,7,50,5],[92,8,50,6],[93,6,52,4],[93,13,52,11,"response"],[93,21,52,19],[93,22,52,20,"data"],[93,26,52,24],[94,4,53,2],[94,5,53,3],[94,6,53,4],[94,13,53,11,"error"],[94,18,53,16],[94,20,53,18],[95,6,54,4,"console"],[95,13,54,11],[95,14,54,12,"error"],[95,19,54,17],[95,20,54,18],[95,46,54,44],[95,48,54,46,"error"],[95,53,54,51],[95,54,54,52],[96,6,55,4],[96,12,55,10,"error"],[96,17,55,15],[97,4,56,2],[98,2,57,0],[98,3,57,1],[99,2,59,7],[99,8,59,13,"recognizeVideo"],[99,22,59,27],[99,25,59,30],[99,31,59,37,"videoUri"],[99,39,59,45],[99,43,59,50],[100,4,60,2],[100,8,60,6],[101,6,61,4],[101,12,61,10,"formData"],[101,20,61,18],[101,23,61,21],[101,27,61,25,"FormData"],[101,35,61,33],[101,36,61,34],[101,37,61,35],[102,6,62,4,"formData"],[102,14,62,12],[102,15,62,13,"append"],[102,21,62,19],[102,22,62,20],[102,28,62,26],[102,30,62,28],[103,8,63,6,"uri"],[103,11,63,9],[103,13,63,11,"videoUri"],[103,21,63,19],[104,8,64,6,"type"],[104,12,64,10],[104,14,64,12],[104,25,64,23],[105,8,65,6,"name"],[105,12,65,10],[105,14,65,12],[106,6,66,4],[106,7,66,5],[106,8,66,6],[107,6,68,4],[107,12,68,10,"response"],[107,20,68,18],[107,23,68,21],[107,29,68,27,"axios"],[107,34,68,32],[107,35,68,32,"default"],[107,42,68,32],[107,43,68,33,"post"],[107,47,68,37],[107,48,69,6],[107,51,69,9,"API_BASE_URL"],[107,63,69,21],[107,85,69,43],[107,87,70,6,"formData"],[107,95,70,14],[107,97,71,6],[108,8,72,8,"headers"],[108,15,72,15],[108,17,72,17],[109,10,73,10],[109,24,73,24],[109,26,73,26],[110,8,74,8],[110,9,74,9],[111,8,75,8,"timeout"],[111,15,75,15],[111,17,75,17],[112,6,76,6],[112,7,77,4],[112,8,77,5],[113,6,79,4],[113,13,79,11,"response"],[113,21,79,19],[113,22,79,20,"data"],[113,26,79,24],[114,4,80,2],[114,5,80,3],[114,6,80,4],[114,13,80,11,"error"],[114,18,80,16],[114,20,80,18],[115,6,81,4,"console"],[115,13,81,11],[115,14,81,12,"error"],[115,19,81,17],[115,20,81,18],[115,46,81,44],[115,48,81,46,"error"],[115,53,81,51],[115,54,81,52],[116,6,82,4],[116,12,82,10,"error"],[116,17,82,15],[117,4,83,2],[118,2,84,0],[118,3,84,1],[119,2,86,7],[119,8,86,13,"searchMovie"],[119,19,86,24],[119,22,86,27],[119,28,86,34,"query"],[119,33,86,39],[119,37,86,44],[120,4,87,2],[120,8,87,6],[121,6,88,4],[121,12,88,10,"response"],[121,20,88,18],[121,23,88,21],[121,29,88,27,"api"],[121,32,88,30],[121,33,88,31,"post"],[121,37,88,35],[121,38,88,36],[121,51,88,49],[121,53,88,51],[122,8,88,53,"query"],[123,6,88,59],[123,7,88,60],[123,8,88,61],[124,6,89,4],[124,13,89,11,"response"],[124,21,89,19],[124,22,89,20,"data"],[124,26,89,24],[125,4,90,2],[125,5,90,3],[125,6,90,4],[125,13,90,11,"error"],[125,18,90,16],[125,20,90,18],[126,6,91,4,"console"],[126,13,91,11],[126,14,91,12,"error"],[126,19,91,17],[126,20,91,18],[126,35,91,33],[126,37,91,35,"error"],[126,42,91,40],[126,43,91,41],[127,6,92,4],[127,12,92,10,"error"],[127,17,92,15],[128,4,93,2],[129,2,94,0],[129,3,94,1],[130,0,94,2],[130,3]],"functionMap":{"names":["<global>","recognizeImage","recognizeAudio","recognizeVideo","searchMovie"],"mappings":"AAA;8BCa;CDyB;8BEE;CFgB;8BGE;CHyB;2BIE;CJQ"},"hasCjsExports":false},"type":"js/module"}]}