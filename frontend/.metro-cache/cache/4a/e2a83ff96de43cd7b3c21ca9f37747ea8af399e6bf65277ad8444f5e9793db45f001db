{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-file-system","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":47,"index":74}}],"key":"6GyvFG3BsQPSqqu9QRKJ8hfZxPw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"recognizeImage\", {\n    enumerable: true,\n    get: function () {\n      return recognizeImage;\n    }\n  });\n  Object.defineProperty(exports, \"recognizeAudio\", {\n    enumerable: true,\n    get: function () {\n      return recognizeAudio;\n    }\n  });\n  Object.defineProperty(exports, \"recognizeVideo\", {\n    enumerable: true,\n    get: function () {\n      return recognizeVideo;\n    }\n  });\n  Object.defineProperty(exports, \"searchMovie\", {\n    enumerable: true,\n    get: function () {\n      return searchMovie;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoFileSystem = require(_dependencyMap[2], \"expo-file-system\");\n  var FileSystem = _interopNamespace(_expoFileSystem);\n  // Use Render backend (accessible from mobile devices)\n  const API_BASE_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'https://cinescan-backend-1.onrender.com';\n  console.log('API_BASE_URL:', API_BASE_URL);\n  const api = axios.default.create({\n    baseURL: API_BASE_URL,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  const recognizeImage = async imageUri => {\n    try {\n      console.log('Recognizing image from URI:', imageUri);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-image`);\n      const formData = new FormData();\n      formData.append('file', {\n        uri: imageUri,\n        type: 'image/jpeg',\n        name: 'photo.jpg'\n      });\n      const response = await axios.default.post(`${API_BASE_URL}/api/recognize-image`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        timeout: 30000\n      });\n      console.log('Image recognition response:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Image recognition error:', error);\n      console.error('Error response:', error.response?.data);\n      return {\n        success: false,\n        error: error.response?.data?.error || error.message || 'Failed to process image'\n      };\n    }\n  };\n  const recognizeAudio = async audioUri => {\n    try {\n      console.log('Recognizing audio from URI:', audioUri);\n\n      // Read audio file as base64\n      const base64 = await FileSystem.readAsStringAsync(audioUri, {\n        encoding: FileSystem.EncodingType.Base64\n      });\n      console.log('Audio base64 length:', base64.length);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-audio`);\n      const response = await api.post('/api/recognize-audio', {\n        audio_base64: `data:audio/m4a;base64,${base64}`\n      });\n      console.log('Audio recognition response:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Audio recognition error:', error);\n      console.error('Error response:', error.response?.data);\n      return {\n        success: false,\n        error: error.response?.data?.error || error.message || 'Failed to process audio'\n      };\n    }\n  };\n  const recognizeVideo = async videoUri => {\n    try {\n      console.log('Recognizing video from URI:', videoUri);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-video`);\n      const formData = new FormData();\n      formData.append('file', {\n        uri: videoUri,\n        type: 'video/mp4',\n        name: 'video.mp4'\n      });\n      const response = await axios.default.post(`${API_BASE_URL}/api/recognize-video`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        timeout: 30000\n      });\n      console.log('Video recognition response:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Video recognition error:', error);\n      console.error('Error response:', error.response?.data);\n      return {\n        success: false,\n        error: error.response?.data?.error || error.message || 'Failed to process video'\n      };\n    }\n  };\n  const searchMovie = async query => {\n    try {\n      const response = await api.post('/api/search', {\n        query\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Search error:', error);\n      throw error;\n    }\n  };\n});","lineCount":155,"map":[[27,2,17,0,"Object"],[27,8,17,0],[27,9,17,0,"defineProperty"],[27,23,17,0],[27,24,17,0,"exports"],[27,31,17,0],[28,4,17,0,"enumerable"],[28,14,17,0],[29,4,17,0,"get"],[29,7,17,0],[29,18,17,0,"get"],[29,19,17,0],[30,6,17,0],[30,13,17,0,"recognizeImage"],[30,27,17,0],[31,4,17,0],[32,2,17,0],[33,2,52,0,"Object"],[33,8,52,0],[33,9,52,0,"defineProperty"],[33,23,52,0],[33,24,52,0,"exports"],[33,31,52,0],[34,4,52,0,"enumerable"],[34,14,52,0],[35,4,52,0,"get"],[35,7,52,0],[35,18,52,0,"get"],[35,19,52,0],[36,6,52,0],[36,13,52,0,"recognizeAudio"],[36,27,52,0],[37,4,52,0],[38,2,52,0],[39,2,80,0,"Object"],[39,8,80,0],[39,9,80,0,"defineProperty"],[39,23,80,0],[39,24,80,0,"exports"],[39,31,80,0],[40,4,80,0,"enumerable"],[40,14,80,0],[41,4,80,0,"get"],[41,7,80,0],[41,18,80,0,"get"],[41,19,80,0],[42,6,80,0],[42,13,80,0,"recognizeVideo"],[42,27,80,0],[43,4,80,0],[44,2,80,0],[45,2,115,0,"Object"],[45,8,115,0],[45,9,115,0,"defineProperty"],[45,23,115,0],[45,24,115,0,"exports"],[45,31,115,0],[46,4,115,0,"enumerable"],[46,14,115,0],[47,4,115,0,"get"],[47,7,115,0],[47,18,115,0,"get"],[47,19,115,0],[48,6,115,0],[48,13,115,0,"searchMovie"],[48,24,115,0],[49,4,115,0],[50,2,115,0],[51,2,123,2],[51,6,123,2,"_expoVirtualEnv"],[51,21,123,2],[51,24,123,2,"require"],[51,31,123,2],[51,32,123,2,"_dependencyMap"],[51,46,123,2],[52,2,1,0],[52,6,1,0,"_axios"],[52,12,1,0],[52,15,1,0,"require"],[52,22,1,0],[52,23,1,0,"_dependencyMap"],[52,37,1,0],[53,2,1,0],[53,6,1,0,"axios"],[53,11,1,0],[53,14,1,0,"_interopDefault"],[53,29,1,0],[53,30,1,0,"_axios"],[53,36,1,0],[54,2,2,0],[54,6,2,0,"_expoFileSystem"],[54,21,2,0],[54,24,2,0,"require"],[54,31,2,0],[54,32,2,0,"_dependencyMap"],[54,46,2,0],[55,2,2,0],[55,6,2,0,"FileSystem"],[55,16,2,0],[55,19,2,0,"_interopNamespace"],[55,36,2,0],[55,37,2,0,"_expoFileSystem"],[55,52,2,0],[56,2,4,0],[57,2,5,0],[57,8,5,6,"API_BASE_URL"],[57,20,5,18],[57,23,5,21,"_expoVirtualEnv"],[57,38,5,21],[57,39,5,21,"env"],[57,42,5,21],[57,43,5,21,"EXPO_PUBLIC_BACKEND_URL"],[57,66,5,21],[57,70,5,60],[57,111,5,101],[58,2,7,0,"console"],[58,9,7,7],[58,10,7,8,"log"],[58,13,7,11],[58,14,7,12],[58,29,7,27],[58,31,7,29,"API_BASE_URL"],[58,43,7,41],[58,44,7,42],[59,2,9,0],[59,8,9,6,"api"],[59,11,9,9],[59,14,9,12,"axios"],[59,19,9,17],[59,20,9,17,"default"],[59,27,9,17],[59,28,9,18,"create"],[59,34,9,24],[59,35,9,25],[60,4,10,2,"baseURL"],[60,11,10,9],[60,13,10,11,"API_BASE_URL"],[60,25,10,23],[61,4,11,2,"timeout"],[61,11,11,9],[61,13,11,11],[61,18,11,16],[62,4,12,2,"headers"],[62,11,12,9],[62,13,12,11],[63,6,13,4],[63,20,13,18],[63,22,13,20],[64,4,14,2],[65,2,15,0],[65,3,15,1],[65,4,15,2],[66,2,17,7],[66,8,17,13,"recognizeImage"],[66,22,17,27],[66,25,17,30],[66,31,17,37,"imageUri"],[66,39,17,45],[66,43,17,50],[67,4,18,2],[67,8,18,6],[68,6,19,4,"console"],[68,13,19,11],[68,14,19,12,"log"],[68,17,19,15],[68,18,19,16],[68,47,19,45],[68,49,19,47,"imageUri"],[68,57,19,55],[68,58,19,56],[69,6,20,4,"console"],[69,13,20,11],[69,14,20,12,"log"],[69,17,20,15],[69,18,20,16],[69,28,20,26],[69,30,20,28],[69,33,20,31,"API_BASE_URL"],[69,45,20,43],[69,67,20,65],[69,68,20,66],[70,6,22,4],[70,12,22,10,"formData"],[70,20,22,18],[70,23,22,21],[70,27,22,25,"FormData"],[70,35,22,33],[70,36,22,34],[70,37,22,35],[71,6,23,4,"formData"],[71,14,23,12],[71,15,23,13,"append"],[71,21,23,19],[71,22,23,20],[71,28,23,26],[71,30,23,28],[72,8,24,6,"uri"],[72,11,24,9],[72,13,24,11,"imageUri"],[72,21,24,19],[73,8,25,6,"type"],[73,12,25,10],[73,14,25,12],[73,26,25,24],[74,8,26,6,"name"],[74,12,26,10],[74,14,26,12],[75,6,27,4],[75,7,27,5],[75,8,27,6],[76,6,29,4],[76,12,29,10,"response"],[76,20,29,18],[76,23,29,21],[76,29,29,27,"axios"],[76,34,29,32],[76,35,29,32,"default"],[76,42,29,32],[76,43,29,33,"post"],[76,47,29,37],[76,48,30,6],[76,51,30,9,"API_BASE_URL"],[76,63,30,21],[76,85,30,43],[76,87,31,6,"formData"],[76,95,31,14],[76,97,32,6],[77,8,33,8,"headers"],[77,15,33,15],[77,17,33,17],[78,10,34,10],[78,24,34,24],[78,26,34,26],[79,8,35,8],[79,9,35,9],[80,8,36,8,"timeout"],[80,15,36,15],[80,17,36,17],[81,6,37,6],[81,7,38,4],[81,8,38,5],[82,6,40,4,"console"],[82,13,40,11],[82,14,40,12,"log"],[82,17,40,15],[82,18,40,16],[82,47,40,45],[82,49,40,47,"response"],[82,57,40,55],[82,58,40,56,"data"],[82,62,40,60],[82,63,40,61],[83,6,41,4],[83,13,41,11,"response"],[83,21,41,19],[83,22,41,20,"data"],[83,26,41,24],[84,4,42,2],[84,5,42,3],[84,6,42,4],[84,13,42,11,"error"],[84,18,42,16],[84,20,42,18],[85,6,43,4,"console"],[85,13,43,11],[85,14,43,12,"error"],[85,19,43,17],[85,20,43,18],[85,46,43,44],[85,48,43,46,"error"],[85,53,43,51],[85,54,43,52],[86,6,44,4,"console"],[86,13,44,11],[86,14,44,12,"error"],[86,19,44,17],[86,20,44,18],[86,37,44,35],[86,39,44,37,"error"],[86,44,44,42],[86,45,44,43,"response"],[86,53,44,51],[86,55,44,53,"data"],[86,59,44,57],[86,60,44,58],[87,6,45,4],[87,13,45,11],[88,8,46,6,"success"],[88,15,46,13],[88,17,46,15],[88,22,46,20],[89,8,47,6,"error"],[89,13,47,11],[89,15,47,13,"error"],[89,20,47,18],[89,21,47,19,"response"],[89,29,47,27],[89,31,47,29,"data"],[89,35,47,33],[89,37,47,35,"error"],[89,42,47,40],[89,46,47,44,"error"],[89,51,47,49],[89,52,47,50,"message"],[89,59,47,57],[89,63,47,61],[90,6,48,4],[90,7,48,5],[91,4,49,2],[92,2,50,0],[92,3,50,1],[93,2,52,7],[93,8,52,13,"recognizeAudio"],[93,22,52,27],[93,25,52,30],[93,31,52,37,"audioUri"],[93,39,52,45],[93,43,52,50],[94,4,53,2],[94,8,53,6],[95,6,54,4,"console"],[95,13,54,11],[95,14,54,12,"log"],[95,17,54,15],[95,18,54,16],[95,47,54,45],[95,49,54,47,"audioUri"],[95,57,54,55],[95,58,54,56],[97,6,56,4],[98,6,57,4],[98,12,57,10,"base64"],[98,18,57,16],[98,21,57,19],[98,27,57,25,"FileSystem"],[98,37,57,35],[98,38,57,36,"readAsStringAsync"],[98,55,57,53],[98,56,57,54,"audioUri"],[98,64,57,62],[98,66,57,64],[99,8,58,6,"encoding"],[99,16,58,14],[99,18,58,16,"FileSystem"],[99,28,58,26],[99,29,58,27,"EncodingType"],[99,41,58,39],[99,42,58,40,"Base64"],[100,6,59,4],[100,7,59,5],[100,8,59,6],[101,6,61,4,"console"],[101,13,61,11],[101,14,61,12,"log"],[101,17,61,15],[101,18,61,16],[101,40,61,38],[101,42,61,40,"base64"],[101,48,61,46],[101,49,61,47,"length"],[101,55,61,53],[101,56,61,54],[102,6,62,4,"console"],[102,13,62,11],[102,14,62,12,"log"],[102,17,62,15],[102,18,62,16],[102,28,62,26],[102,30,62,28],[102,33,62,31,"API_BASE_URL"],[102,45,62,43],[102,67,62,65],[102,68,62,66],[103,6,64,4],[103,12,64,10,"response"],[103,20,64,18],[103,23,64,21],[103,29,64,27,"api"],[103,32,64,30],[103,33,64,31,"post"],[103,37,64,35],[103,38,64,36],[103,60,64,58],[103,62,64,60],[104,8,65,6,"audio_base64"],[104,20,65,18],[104,22,65,20],[104,47,65,45,"base64"],[104,53,65,51],[105,6,66,4],[105,7,66,5],[105,8,66,6],[106,6,68,4,"console"],[106,13,68,11],[106,14,68,12,"log"],[106,17,68,15],[106,18,68,16],[106,47,68,45],[106,49,68,47,"response"],[106,57,68,55],[106,58,68,56,"data"],[106,62,68,60],[106,63,68,61],[107,6,69,4],[107,13,69,11,"response"],[107,21,69,19],[107,22,69,20,"data"],[107,26,69,24],[108,4,70,2],[108,5,70,3],[108,6,70,4],[108,13,70,11,"error"],[108,18,70,16],[108,20,70,18],[109,6,71,4,"console"],[109,13,71,11],[109,14,71,12,"error"],[109,19,71,17],[109,20,71,18],[109,46,71,44],[109,48,71,46,"error"],[109,53,71,51],[109,54,71,52],[110,6,72,4,"console"],[110,13,72,11],[110,14,72,12,"error"],[110,19,72,17],[110,20,72,18],[110,37,72,35],[110,39,72,37,"error"],[110,44,72,42],[110,45,72,43,"response"],[110,53,72,51],[110,55,72,53,"data"],[110,59,72,57],[110,60,72,58],[111,6,73,4],[111,13,73,11],[112,8,74,6,"success"],[112,15,74,13],[112,17,74,15],[112,22,74,20],[113,8,75,6,"error"],[113,13,75,11],[113,15,75,13,"error"],[113,20,75,18],[113,21,75,19,"response"],[113,29,75,27],[113,31,75,29,"data"],[113,35,75,33],[113,37,75,35,"error"],[113,42,75,40],[113,46,75,44,"error"],[113,51,75,49],[113,52,75,50,"message"],[113,59,75,57],[113,63,75,61],[114,6,76,4],[114,7,76,5],[115,4,77,2],[116,2,78,0],[116,3,78,1],[117,2,80,7],[117,8,80,13,"recognizeVideo"],[117,22,80,27],[117,25,80,30],[117,31,80,37,"videoUri"],[117,39,80,45],[117,43,80,50],[118,4,81,2],[118,8,81,6],[119,6,82,4,"console"],[119,13,82,11],[119,14,82,12,"log"],[119,17,82,15],[119,18,82,16],[119,47,82,45],[119,49,82,47,"videoUri"],[119,57,82,55],[119,58,82,56],[120,6,83,4,"console"],[120,13,83,11],[120,14,83,12,"log"],[120,17,83,15],[120,18,83,16],[120,28,83,26],[120,30,83,28],[120,33,83,31,"API_BASE_URL"],[120,45,83,43],[120,67,83,65],[120,68,83,66],[121,6,85,4],[121,12,85,10,"formData"],[121,20,85,18],[121,23,85,21],[121,27,85,25,"FormData"],[121,35,85,33],[121,36,85,34],[121,37,85,35],[122,6,86,4,"formData"],[122,14,86,12],[122,15,86,13,"append"],[122,21,86,19],[122,22,86,20],[122,28,86,26],[122,30,86,28],[123,8,87,6,"uri"],[123,11,87,9],[123,13,87,11,"videoUri"],[123,21,87,19],[124,8,88,6,"type"],[124,12,88,10],[124,14,88,12],[124,25,88,23],[125,8,89,6,"name"],[125,12,89,10],[125,14,89,12],[126,6,90,4],[126,7,90,5],[126,8,90,6],[127,6,92,4],[127,12,92,10,"response"],[127,20,92,18],[127,23,92,21],[127,29,92,27,"axios"],[127,34,92,32],[127,35,92,32,"default"],[127,42,92,32],[127,43,92,33,"post"],[127,47,92,37],[127,48,93,6],[127,51,93,9,"API_BASE_URL"],[127,63,93,21],[127,85,93,43],[127,87,94,6,"formData"],[127,95,94,14],[127,97,95,6],[128,8,96,8,"headers"],[128,15,96,15],[128,17,96,17],[129,10,97,10],[129,24,97,24],[129,26,97,26],[130,8,98,8],[130,9,98,9],[131,8,99,8,"timeout"],[131,15,99,15],[131,17,99,17],[132,6,100,6],[132,7,101,4],[132,8,101,5],[133,6,103,4,"console"],[133,13,103,11],[133,14,103,12,"log"],[133,17,103,15],[133,18,103,16],[133,47,103,45],[133,49,103,47,"response"],[133,57,103,55],[133,58,103,56,"data"],[133,62,103,60],[133,63,103,61],[134,6,104,4],[134,13,104,11,"response"],[134,21,104,19],[134,22,104,20,"data"],[134,26,104,24],[135,4,105,2],[135,5,105,3],[135,6,105,4],[135,13,105,11,"error"],[135,18,105,16],[135,20,105,18],[136,6,106,4,"console"],[136,13,106,11],[136,14,106,12,"error"],[136,19,106,17],[136,20,106,18],[136,46,106,44],[136,48,106,46,"error"],[136,53,106,51],[136,54,106,52],[137,6,107,4,"console"],[137,13,107,11],[137,14,107,12,"error"],[137,19,107,17],[137,20,107,18],[137,37,107,35],[137,39,107,37,"error"],[137,44,107,42],[137,45,107,43,"response"],[137,53,107,51],[137,55,107,53,"data"],[137,59,107,57],[137,60,107,58],[138,6,108,4],[138,13,108,11],[139,8,109,6,"success"],[139,15,109,13],[139,17,109,15],[139,22,109,20],[140,8,110,6,"error"],[140,13,110,11],[140,15,110,13,"error"],[140,20,110,18],[140,21,110,19,"response"],[140,29,110,27],[140,31,110,29,"data"],[140,35,110,33],[140,37,110,35,"error"],[140,42,110,40],[140,46,110,44,"error"],[140,51,110,49],[140,52,110,50,"message"],[140,59,110,57],[140,63,110,61],[141,6,111,4],[141,7,111,5],[142,4,112,2],[143,2,113,0],[143,3,113,1],[144,2,115,7],[144,8,115,13,"searchMovie"],[144,19,115,24],[144,22,115,27],[144,28,115,34,"query"],[144,33,115,39],[144,37,115,44],[145,4,116,2],[145,8,116,6],[146,6,117,4],[146,12,117,10,"response"],[146,20,117,18],[146,23,117,21],[146,29,117,27,"api"],[146,32,117,30],[146,33,117,31,"post"],[146,37,117,35],[146,38,117,36],[146,51,117,49],[146,53,117,51],[147,8,117,53,"query"],[148,6,117,59],[148,7,117,60],[148,8,117,61],[149,6,118,4],[149,13,118,11,"response"],[149,21,118,19],[149,22,118,20,"data"],[149,26,118,24],[150,4,119,2],[150,5,119,3],[150,6,119,4],[150,13,119,11,"error"],[150,18,119,16],[150,20,119,18],[151,6,120,4,"console"],[151,13,120,11],[151,14,120,12,"error"],[151,19,120,17],[151,20,120,18],[151,35,120,33],[151,37,120,35,"error"],[151,42,120,40],[151,43,120,41],[152,6,121,4],[152,12,121,10,"error"],[152,17,121,15],[153,4,122,2],[154,2,123,0],[154,3,123,1],[155,0,123,2],[155,3]],"functionMap":{"names":["<global>","recognizeImage","recognizeAudio","recognizeVideo","searchMovie"],"mappings":"AAA;8BCgB;CDiC;8BEE;CF0B;8BGE;CHiC;2BIE;CJQ"},"hasCjsExports":false},"type":"js/module"}]}