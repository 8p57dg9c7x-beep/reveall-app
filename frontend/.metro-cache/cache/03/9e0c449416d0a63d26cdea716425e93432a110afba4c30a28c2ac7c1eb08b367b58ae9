{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-file-system","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":47,"index":74}}],"key":"6GyvFG3BsQPSqqu9QRKJ8hfZxPw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"recognizeImage\", {\n    enumerable: true,\n    get: function () {\n      return recognizeImage;\n    }\n  });\n  Object.defineProperty(exports, \"recognizeAudio\", {\n    enumerable: true,\n    get: function () {\n      return recognizeAudio;\n    }\n  });\n  Object.defineProperty(exports, \"recognizeVideo\", {\n    enumerable: true,\n    get: function () {\n      return recognizeVideo;\n    }\n  });\n  Object.defineProperty(exports, \"searchMovie\", {\n    enumerable: true,\n    get: function () {\n      return searchMovie;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoFileSystem = require(_dependencyMap[2], \"expo-file-system\");\n  var FileSystem = _interopNamespace(_expoFileSystem);\n  const API_BASE_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'https://cinescan-backend-1.onrender.com';\n  console.log('API_BASE_URL:', API_BASE_URL);\n  const api = axios.default.create({\n    baseURL: API_BASE_URL,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  const recognizeImage = async imageUri => {\n    try {\n      console.log('Recognizing image from URI:', imageUri);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-image`);\n      const formData = new FormData();\n      formData.append('file', {\n        uri: imageUri,\n        type: 'image/jpeg',\n        name: 'photo.jpg'\n      });\n      const response = await axios.default.post(`${API_BASE_URL}/api/recognize-image`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        timeout: 30000\n      });\n      console.log('Image recognition response:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Image recognition error:', error);\n      console.error('Error response:', error.response?.data);\n      return {\n        success: false,\n        error: error.response?.data?.error || error.message || 'Failed to process image'\n      };\n    }\n  };\n  const recognizeAudio = async audioUri => {\n    try {\n      console.log('Recognizing audio from URI:', audioUri);\n\n      // Read audio file as base64\n      const base64 = await FileSystem.readAsStringAsync(audioUri, {\n        encoding: FileSystem.EncodingType.Base64\n      });\n      console.log('Audio base64 length:', base64.length);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-audio`);\n      const response = await api.post('/api/recognize-audio', {\n        audio_base64: `data:audio/m4a;base64,${base64}`\n      });\n      console.log('Audio recognition response:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Audio recognition error:', error);\n      console.error('Error response:', error.response?.data);\n      return {\n        success: false,\n        error: error.response?.data?.error || error.message || 'Failed to process audio'\n      };\n    }\n  };\n  const recognizeVideo = async videoUri => {\n    try {\n      console.log('Recognizing video from URI:', videoUri);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-video`);\n      const formData = new FormData();\n      formData.append('file', {\n        uri: videoUri,\n        type: 'video/mp4',\n        name: 'video.mp4'\n      });\n      const response = await axios.default.post(`${API_BASE_URL}/api/recognize-video`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        timeout: 30000\n      });\n      console.log('Video recognition response:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Video recognition error:', error);\n      console.error('Error response:', error.response?.data);\n      return {\n        success: false,\n        error: error.response?.data?.error || error.message || 'Failed to process video'\n      };\n    }\n  };\n  const searchMovie = async query => {\n    try {\n      const response = await api.post('/api/search', {\n        query\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Search error:', error);\n      throw error;\n    }\n  };\n});","lineCount":154,"map":[[27,2,16,0,"Object"],[27,8,16,0],[27,9,16,0,"defineProperty"],[27,23,16,0],[27,24,16,0,"exports"],[27,31,16,0],[28,4,16,0,"enumerable"],[28,14,16,0],[29,4,16,0,"get"],[29,7,16,0],[29,18,16,0,"get"],[29,19,16,0],[30,6,16,0],[30,13,16,0,"recognizeImage"],[30,27,16,0],[31,4,16,0],[32,2,16,0],[33,2,51,0,"Object"],[33,8,51,0],[33,9,51,0,"defineProperty"],[33,23,51,0],[33,24,51,0,"exports"],[33,31,51,0],[34,4,51,0,"enumerable"],[34,14,51,0],[35,4,51,0,"get"],[35,7,51,0],[35,18,51,0,"get"],[35,19,51,0],[36,6,51,0],[36,13,51,0,"recognizeAudio"],[36,27,51,0],[37,4,51,0],[38,2,51,0],[39,2,79,0,"Object"],[39,8,79,0],[39,9,79,0,"defineProperty"],[39,23,79,0],[39,24,79,0,"exports"],[39,31,79,0],[40,4,79,0,"enumerable"],[40,14,79,0],[41,4,79,0,"get"],[41,7,79,0],[41,18,79,0,"get"],[41,19,79,0],[42,6,79,0],[42,13,79,0,"recognizeVideo"],[42,27,79,0],[43,4,79,0],[44,2,79,0],[45,2,114,0,"Object"],[45,8,114,0],[45,9,114,0,"defineProperty"],[45,23,114,0],[45,24,114,0,"exports"],[45,31,114,0],[46,4,114,0,"enumerable"],[46,14,114,0],[47,4,114,0,"get"],[47,7,114,0],[47,18,114,0,"get"],[47,19,114,0],[48,6,114,0],[48,13,114,0,"searchMovie"],[48,24,114,0],[49,4,114,0],[50,2,114,0],[51,2,122,2],[51,6,122,2,"_expoVirtualEnv"],[51,21,122,2],[51,24,122,2,"require"],[51,31,122,2],[51,32,122,2,"_dependencyMap"],[51,46,122,2],[52,2,1,0],[52,6,1,0,"_axios"],[52,12,1,0],[52,15,1,0,"require"],[52,22,1,0],[52,23,1,0,"_dependencyMap"],[52,37,1,0],[53,2,1,0],[53,6,1,0,"axios"],[53,11,1,0],[53,14,1,0,"_interopDefault"],[53,29,1,0],[53,30,1,0,"_axios"],[53,36,1,0],[54,2,2,0],[54,6,2,0,"_expoFileSystem"],[54,21,2,0],[54,24,2,0,"require"],[54,31,2,0],[54,32,2,0,"_dependencyMap"],[54,46,2,0],[55,2,2,0],[55,6,2,0,"FileSystem"],[55,16,2,0],[55,19,2,0,"_interopNamespace"],[55,36,2,0],[55,37,2,0,"_expoFileSystem"],[55,52,2,0],[56,2,4,0],[56,8,4,6,"API_BASE_URL"],[56,20,4,18],[56,23,4,21,"_expoVirtualEnv"],[56,38,4,21],[56,39,4,21,"env"],[56,42,4,21],[56,43,4,21,"EXPO_PUBLIC_BACKEND_URL"],[56,66,4,21],[56,70,4,60],[56,111,4,101],[57,2,6,0,"console"],[57,9,6,7],[57,10,6,8,"log"],[57,13,6,11],[57,14,6,12],[57,29,6,27],[57,31,6,29,"API_BASE_URL"],[57,43,6,41],[57,44,6,42],[58,2,8,0],[58,8,8,6,"api"],[58,11,8,9],[58,14,8,12,"axios"],[58,19,8,17],[58,20,8,17,"default"],[58,27,8,17],[58,28,8,18,"create"],[58,34,8,24],[58,35,8,25],[59,4,9,2,"baseURL"],[59,11,9,9],[59,13,9,11,"API_BASE_URL"],[59,25,9,23],[60,4,10,2,"timeout"],[60,11,10,9],[60,13,10,11],[60,18,10,16],[61,4,11,2,"headers"],[61,11,11,9],[61,13,11,11],[62,6,12,4],[62,20,12,18],[62,22,12,20],[63,4,13,2],[64,2,14,0],[64,3,14,1],[64,4,14,2],[65,2,16,7],[65,8,16,13,"recognizeImage"],[65,22,16,27],[65,25,16,30],[65,31,16,37,"imageUri"],[65,39,16,45],[65,43,16,50],[66,4,17,2],[66,8,17,6],[67,6,18,4,"console"],[67,13,18,11],[67,14,18,12,"log"],[67,17,18,15],[67,18,18,16],[67,47,18,45],[67,49,18,47,"imageUri"],[67,57,18,55],[67,58,18,56],[68,6,19,4,"console"],[68,13,19,11],[68,14,19,12,"log"],[68,17,19,15],[68,18,19,16],[68,28,19,26],[68,30,19,28],[68,33,19,31,"API_BASE_URL"],[68,45,19,43],[68,67,19,65],[68,68,19,66],[69,6,21,4],[69,12,21,10,"formData"],[69,20,21,18],[69,23,21,21],[69,27,21,25,"FormData"],[69,35,21,33],[69,36,21,34],[69,37,21,35],[70,6,22,4,"formData"],[70,14,22,12],[70,15,22,13,"append"],[70,21,22,19],[70,22,22,20],[70,28,22,26],[70,30,22,28],[71,8,23,6,"uri"],[71,11,23,9],[71,13,23,11,"imageUri"],[71,21,23,19],[72,8,24,6,"type"],[72,12,24,10],[72,14,24,12],[72,26,24,24],[73,8,25,6,"name"],[73,12,25,10],[73,14,25,12],[74,6,26,4],[74,7,26,5],[74,8,26,6],[75,6,28,4],[75,12,28,10,"response"],[75,20,28,18],[75,23,28,21],[75,29,28,27,"axios"],[75,34,28,32],[75,35,28,32,"default"],[75,42,28,32],[75,43,28,33,"post"],[75,47,28,37],[75,48,29,6],[75,51,29,9,"API_BASE_URL"],[75,63,29,21],[75,85,29,43],[75,87,30,6,"formData"],[75,95,30,14],[75,97,31,6],[76,8,32,8,"headers"],[76,15,32,15],[76,17,32,17],[77,10,33,10],[77,24,33,24],[77,26,33,26],[78,8,34,8],[78,9,34,9],[79,8,35,8,"timeout"],[79,15,35,15],[79,17,35,17],[80,6,36,6],[80,7,37,4],[80,8,37,5],[81,6,39,4,"console"],[81,13,39,11],[81,14,39,12,"log"],[81,17,39,15],[81,18,39,16],[81,47,39,45],[81,49,39,47,"response"],[81,57,39,55],[81,58,39,56,"data"],[81,62,39,60],[81,63,39,61],[82,6,40,4],[82,13,40,11,"response"],[82,21,40,19],[82,22,40,20,"data"],[82,26,40,24],[83,4,41,2],[83,5,41,3],[83,6,41,4],[83,13,41,11,"error"],[83,18,41,16],[83,20,41,18],[84,6,42,4,"console"],[84,13,42,11],[84,14,42,12,"error"],[84,19,42,17],[84,20,42,18],[84,46,42,44],[84,48,42,46,"error"],[84,53,42,51],[84,54,42,52],[85,6,43,4,"console"],[85,13,43,11],[85,14,43,12,"error"],[85,19,43,17],[85,20,43,18],[85,37,43,35],[85,39,43,37,"error"],[85,44,43,42],[85,45,43,43,"response"],[85,53,43,51],[85,55,43,53,"data"],[85,59,43,57],[85,60,43,58],[86,6,44,4],[86,13,44,11],[87,8,45,6,"success"],[87,15,45,13],[87,17,45,15],[87,22,45,20],[88,8,46,6,"error"],[88,13,46,11],[88,15,46,13,"error"],[88,20,46,18],[88,21,46,19,"response"],[88,29,46,27],[88,31,46,29,"data"],[88,35,46,33],[88,37,46,35,"error"],[88,42,46,40],[88,46,46,44,"error"],[88,51,46,49],[88,52,46,50,"message"],[88,59,46,57],[88,63,46,61],[89,6,47,4],[89,7,47,5],[90,4,48,2],[91,2,49,0],[91,3,49,1],[92,2,51,7],[92,8,51,13,"recognizeAudio"],[92,22,51,27],[92,25,51,30],[92,31,51,37,"audioUri"],[92,39,51,45],[92,43,51,50],[93,4,52,2],[93,8,52,6],[94,6,53,4,"console"],[94,13,53,11],[94,14,53,12,"log"],[94,17,53,15],[94,18,53,16],[94,47,53,45],[94,49,53,47,"audioUri"],[94,57,53,55],[94,58,53,56],[96,6,55,4],[97,6,56,4],[97,12,56,10,"base64"],[97,18,56,16],[97,21,56,19],[97,27,56,25,"FileSystem"],[97,37,56,35],[97,38,56,36,"readAsStringAsync"],[97,55,56,53],[97,56,56,54,"audioUri"],[97,64,56,62],[97,66,56,64],[98,8,57,6,"encoding"],[98,16,57,14],[98,18,57,16,"FileSystem"],[98,28,57,26],[98,29,57,27,"EncodingType"],[98,41,57,39],[98,42,57,40,"Base64"],[99,6,58,4],[99,7,58,5],[99,8,58,6],[100,6,60,4,"console"],[100,13,60,11],[100,14,60,12,"log"],[100,17,60,15],[100,18,60,16],[100,40,60,38],[100,42,60,40,"base64"],[100,48,60,46],[100,49,60,47,"length"],[100,55,60,53],[100,56,60,54],[101,6,61,4,"console"],[101,13,61,11],[101,14,61,12,"log"],[101,17,61,15],[101,18,61,16],[101,28,61,26],[101,30,61,28],[101,33,61,31,"API_BASE_URL"],[101,45,61,43],[101,67,61,65],[101,68,61,66],[102,6,63,4],[102,12,63,10,"response"],[102,20,63,18],[102,23,63,21],[102,29,63,27,"api"],[102,32,63,30],[102,33,63,31,"post"],[102,37,63,35],[102,38,63,36],[102,60,63,58],[102,62,63,60],[103,8,64,6,"audio_base64"],[103,20,64,18],[103,22,64,20],[103,47,64,45,"base64"],[103,53,64,51],[104,6,65,4],[104,7,65,5],[104,8,65,6],[105,6,67,4,"console"],[105,13,67,11],[105,14,67,12,"log"],[105,17,67,15],[105,18,67,16],[105,47,67,45],[105,49,67,47,"response"],[105,57,67,55],[105,58,67,56,"data"],[105,62,67,60],[105,63,67,61],[106,6,68,4],[106,13,68,11,"response"],[106,21,68,19],[106,22,68,20,"data"],[106,26,68,24],[107,4,69,2],[107,5,69,3],[107,6,69,4],[107,13,69,11,"error"],[107,18,69,16],[107,20,69,18],[108,6,70,4,"console"],[108,13,70,11],[108,14,70,12,"error"],[108,19,70,17],[108,20,70,18],[108,46,70,44],[108,48,70,46,"error"],[108,53,70,51],[108,54,70,52],[109,6,71,4,"console"],[109,13,71,11],[109,14,71,12,"error"],[109,19,71,17],[109,20,71,18],[109,37,71,35],[109,39,71,37,"error"],[109,44,71,42],[109,45,71,43,"response"],[109,53,71,51],[109,55,71,53,"data"],[109,59,71,57],[109,60,71,58],[110,6,72,4],[110,13,72,11],[111,8,73,6,"success"],[111,15,73,13],[111,17,73,15],[111,22,73,20],[112,8,74,6,"error"],[112,13,74,11],[112,15,74,13,"error"],[112,20,74,18],[112,21,74,19,"response"],[112,29,74,27],[112,31,74,29,"data"],[112,35,74,33],[112,37,74,35,"error"],[112,42,74,40],[112,46,74,44,"error"],[112,51,74,49],[112,52,74,50,"message"],[112,59,74,57],[112,63,74,61],[113,6,75,4],[113,7,75,5],[114,4,76,2],[115,2,77,0],[115,3,77,1],[116,2,79,7],[116,8,79,13,"recognizeVideo"],[116,22,79,27],[116,25,79,30],[116,31,79,37,"videoUri"],[116,39,79,45],[116,43,79,50],[117,4,80,2],[117,8,80,6],[118,6,81,4,"console"],[118,13,81,11],[118,14,81,12,"log"],[118,17,81,15],[118,18,81,16],[118,47,81,45],[118,49,81,47,"videoUri"],[118,57,81,55],[118,58,81,56],[119,6,82,4,"console"],[119,13,82,11],[119,14,82,12,"log"],[119,17,82,15],[119,18,82,16],[119,28,82,26],[119,30,82,28],[119,33,82,31,"API_BASE_URL"],[119,45,82,43],[119,67,82,65],[119,68,82,66],[120,6,84,4],[120,12,84,10,"formData"],[120,20,84,18],[120,23,84,21],[120,27,84,25,"FormData"],[120,35,84,33],[120,36,84,34],[120,37,84,35],[121,6,85,4,"formData"],[121,14,85,12],[121,15,85,13,"append"],[121,21,85,19],[121,22,85,20],[121,28,85,26],[121,30,85,28],[122,8,86,6,"uri"],[122,11,86,9],[122,13,86,11,"videoUri"],[122,21,86,19],[123,8,87,6,"type"],[123,12,87,10],[123,14,87,12],[123,25,87,23],[124,8,88,6,"name"],[124,12,88,10],[124,14,88,12],[125,6,89,4],[125,7,89,5],[125,8,89,6],[126,6,91,4],[126,12,91,10,"response"],[126,20,91,18],[126,23,91,21],[126,29,91,27,"axios"],[126,34,91,32],[126,35,91,32,"default"],[126,42,91,32],[126,43,91,33,"post"],[126,47,91,37],[126,48,92,6],[126,51,92,9,"API_BASE_URL"],[126,63,92,21],[126,85,92,43],[126,87,93,6,"formData"],[126,95,93,14],[126,97,94,6],[127,8,95,8,"headers"],[127,15,95,15],[127,17,95,17],[128,10,96,10],[128,24,96,24],[128,26,96,26],[129,8,97,8],[129,9,97,9],[130,8,98,8,"timeout"],[130,15,98,15],[130,17,98,17],[131,6,99,6],[131,7,100,4],[131,8,100,5],[132,6,102,4,"console"],[132,13,102,11],[132,14,102,12,"log"],[132,17,102,15],[132,18,102,16],[132,47,102,45],[132,49,102,47,"response"],[132,57,102,55],[132,58,102,56,"data"],[132,62,102,60],[132,63,102,61],[133,6,103,4],[133,13,103,11,"response"],[133,21,103,19],[133,22,103,20,"data"],[133,26,103,24],[134,4,104,2],[134,5,104,3],[134,6,104,4],[134,13,104,11,"error"],[134,18,104,16],[134,20,104,18],[135,6,105,4,"console"],[135,13,105,11],[135,14,105,12,"error"],[135,19,105,17],[135,20,105,18],[135,46,105,44],[135,48,105,46,"error"],[135,53,105,51],[135,54,105,52],[136,6,106,4,"console"],[136,13,106,11],[136,14,106,12,"error"],[136,19,106,17],[136,20,106,18],[136,37,106,35],[136,39,106,37,"error"],[136,44,106,42],[136,45,106,43,"response"],[136,53,106,51],[136,55,106,53,"data"],[136,59,106,57],[136,60,106,58],[137,6,107,4],[137,13,107,11],[138,8,108,6,"success"],[138,15,108,13],[138,17,108,15],[138,22,108,20],[139,8,109,6,"error"],[139,13,109,11],[139,15,109,13,"error"],[139,20,109,18],[139,21,109,19,"response"],[139,29,109,27],[139,31,109,29,"data"],[139,35,109,33],[139,37,109,35,"error"],[139,42,109,40],[139,46,109,44,"error"],[139,51,109,49],[139,52,109,50,"message"],[139,59,109,57],[139,63,109,61],[140,6,110,4],[140,7,110,5],[141,4,111,2],[142,2,112,0],[142,3,112,1],[143,2,114,7],[143,8,114,13,"searchMovie"],[143,19,114,24],[143,22,114,27],[143,28,114,34,"query"],[143,33,114,39],[143,37,114,44],[144,4,115,2],[144,8,115,6],[145,6,116,4],[145,12,116,10,"response"],[145,20,116,18],[145,23,116,21],[145,29,116,27,"api"],[145,32,116,30],[145,33,116,31,"post"],[145,37,116,35],[145,38,116,36],[145,51,116,49],[145,53,116,51],[146,8,116,53,"query"],[147,6,116,59],[147,7,116,60],[147,8,116,61],[148,6,117,4],[148,13,117,11,"response"],[148,21,117,19],[148,22,117,20,"data"],[148,26,117,24],[149,4,118,2],[149,5,118,3],[149,6,118,4],[149,13,118,11,"error"],[149,18,118,16],[149,20,118,18],[150,6,119,4,"console"],[150,13,119,11],[150,14,119,12,"error"],[150,19,119,17],[150,20,119,18],[150,35,119,33],[150,37,119,35,"error"],[150,42,119,40],[150,43,119,41],[151,6,120,4],[151,12,120,10,"error"],[151,17,120,15],[152,4,121,2],[153,2,122,0],[153,3,122,1],[154,0,122,2],[154,3]],"functionMap":{"names":["<global>","recognizeImage","recognizeAudio","recognizeVideo","searchMovie"],"mappings":"AAA;8BCe;CDiC;8BEE;CF0B;8BGE;CHiC;2BIE;CJQ"},"hasCjsExports":false},"type":"js/module"}]}