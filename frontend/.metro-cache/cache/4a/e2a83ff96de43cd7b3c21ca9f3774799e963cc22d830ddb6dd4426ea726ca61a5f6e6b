{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-file-system","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":47,"index":74}}],"key":"6GyvFG3BsQPSqqu9QRKJ8hfZxPw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"recognizeImage\", {\n    enumerable: true,\n    get: function () {\n      return recognizeImage;\n    }\n  });\n  Object.defineProperty(exports, \"recognizeAudio\", {\n    enumerable: true,\n    get: function () {\n      return recognizeAudio;\n    }\n  });\n  Object.defineProperty(exports, \"recognizeVideo\", {\n    enumerable: true,\n    get: function () {\n      return recognizeVideo;\n    }\n  });\n  Object.defineProperty(exports, \"searchMovie\", {\n    enumerable: true,\n    get: function () {\n      return searchMovie;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoFileSystem = require(_dependencyMap[2], \"expo-file-system\");\n  var FileSystem = _interopNamespace(_expoFileSystem);\n  // Use Render backend (accessible from mobile devices)\n  const API_BASE_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'https://cinescan-backend-1.onrender.com';\n  console.log('API_BASE_URL:', API_BASE_URL);\n  const api = axios.default.create({\n    baseURL: API_BASE_URL,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  const recognizeImage = async imageUri => {\n    try {\n      console.log('Recognizing image from URI:', imageUri);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-image`);\n\n      // Read image file as base64\n      const base64 = await FileSystem.readAsStringAsync(imageUri, {\n        encoding: FileSystem.EncodingType.Base64\n      });\n      console.log('Image base64 length:', base64.length);\n\n      // Send as base64 instead of FormData\n      const response = await api.post('/api/recognize-image', {\n        image_base64: `data:image/jpeg;base64,${base64}`\n      });\n      console.log('Image recognition response:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Image recognition error:', error);\n      console.error('Error response:', error.response?.data);\n      return {\n        success: false,\n        error: error.response?.data?.error || error.message || 'Failed to process image'\n      };\n    }\n  };\n  const recognizeAudio = async audioUri => {\n    try {\n      console.log('Recognizing audio from URI:', audioUri);\n\n      // Read audio file as base64\n      const base64 = await FileSystem.readAsStringAsync(audioUri, {\n        encoding: FileSystem.EncodingType.Base64\n      });\n      console.log('Audio base64 length:', base64.length);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-audio`);\n      const response = await api.post('/api/recognize-audio', {\n        audio_base64: `data:audio/m4a;base64,${base64}`\n      });\n      console.log('Audio recognition response:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Audio recognition error:', error);\n      console.error('Error response:', error.response?.data);\n      return {\n        success: false,\n        error: error.response?.data?.error || error.message || 'Failed to process audio'\n      };\n    }\n  };\n  const recognizeVideo = async videoUri => {\n    try {\n      console.log('Recognizing video from URI:', videoUri);\n      console.log('API URL:', `${API_BASE_URL}/api/recognize-video`);\n\n      // Read video file as base64\n      const base64 = await FileSystem.readAsStringAsync(videoUri, {\n        encoding: FileSystem.EncodingType.Base64\n      });\n      console.log('Video base64 length:', base64.length);\n\n      // Send as base64 instead of FormData\n      const response = await api.post('/api/recognize-video', {\n        video_base64: `data:video/mp4;base64,${base64}`\n      });\n      console.log('Video recognition response:', response.data);\n      return response.data;\n    } catch (error) {\n      console.error('Video recognition error:', error);\n      console.error('Error response:', error.response?.data);\n      return {\n        success: false,\n        error: error.response?.data?.error || error.message || 'Failed to process video'\n      };\n    }\n  };\n  const searchMovie = async query => {\n    try {\n      const response = await api.post('/api/search', {\n        query\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Search error:', error);\n      throw error;\n    }\n  };\n});","lineCount":153,"map":[[27,2,17,0,"Object"],[27,8,17,0],[27,9,17,0,"defineProperty"],[27,23,17,0],[27,24,17,0,"exports"],[27,31,17,0],[28,4,17,0,"enumerable"],[28,14,17,0],[29,4,17,0,"get"],[29,7,17,0],[29,18,17,0,"get"],[29,19,17,0],[30,6,17,0],[30,13,17,0,"recognizeImage"],[30,27,17,0],[31,4,17,0],[32,2,17,0],[33,2,46,0,"Object"],[33,8,46,0],[33,9,46,0,"defineProperty"],[33,23,46,0],[33,24,46,0,"exports"],[33,31,46,0],[34,4,46,0,"enumerable"],[34,14,46,0],[35,4,46,0,"get"],[35,7,46,0],[35,18,46,0,"get"],[35,19,46,0],[36,6,46,0],[36,13,46,0,"recognizeAudio"],[36,27,46,0],[37,4,46,0],[38,2,46,0],[39,2,74,0,"Object"],[39,8,74,0],[39,9,74,0,"defineProperty"],[39,23,74,0],[39,24,74,0,"exports"],[39,31,74,0],[40,4,74,0,"enumerable"],[40,14,74,0],[41,4,74,0,"get"],[41,7,74,0],[41,18,74,0,"get"],[41,19,74,0],[42,6,74,0],[42,13,74,0,"recognizeVideo"],[42,27,74,0],[43,4,74,0],[44,2,74,0],[45,2,103,0,"Object"],[45,8,103,0],[45,9,103,0,"defineProperty"],[45,23,103,0],[45,24,103,0,"exports"],[45,31,103,0],[46,4,103,0,"enumerable"],[46,14,103,0],[47,4,103,0,"get"],[47,7,103,0],[47,18,103,0,"get"],[47,19,103,0],[48,6,103,0],[48,13,103,0,"searchMovie"],[48,24,103,0],[49,4,103,0],[50,2,103,0],[51,2,111,2],[51,6,111,2,"_expoVirtualEnv"],[51,21,111,2],[51,24,111,2,"require"],[51,31,111,2],[51,32,111,2,"_dependencyMap"],[51,46,111,2],[52,2,1,0],[52,6,1,0,"_axios"],[52,12,1,0],[52,15,1,0,"require"],[52,22,1,0],[52,23,1,0,"_dependencyMap"],[52,37,1,0],[53,2,1,0],[53,6,1,0,"axios"],[53,11,1,0],[53,14,1,0,"_interopDefault"],[53,29,1,0],[53,30,1,0,"_axios"],[53,36,1,0],[54,2,2,0],[54,6,2,0,"_expoFileSystem"],[54,21,2,0],[54,24,2,0,"require"],[54,31,2,0],[54,32,2,0,"_dependencyMap"],[54,46,2,0],[55,2,2,0],[55,6,2,0,"FileSystem"],[55,16,2,0],[55,19,2,0,"_interopNamespace"],[55,36,2,0],[55,37,2,0,"_expoFileSystem"],[55,52,2,0],[56,2,4,0],[57,2,5,0],[57,8,5,6,"API_BASE_URL"],[57,20,5,18],[57,23,5,21,"_expoVirtualEnv"],[57,38,5,21],[57,39,5,21,"env"],[57,42,5,21],[57,43,5,21,"EXPO_PUBLIC_BACKEND_URL"],[57,66,5,21],[57,70,5,60],[57,111,5,101],[58,2,7,0,"console"],[58,9,7,7],[58,10,7,8,"log"],[58,13,7,11],[58,14,7,12],[58,29,7,27],[58,31,7,29,"API_BASE_URL"],[58,43,7,41],[58,44,7,42],[59,2,9,0],[59,8,9,6,"api"],[59,11,9,9],[59,14,9,12,"axios"],[59,19,9,17],[59,20,9,17,"default"],[59,27,9,17],[59,28,9,18,"create"],[59,34,9,24],[59,35,9,25],[60,4,10,2,"baseURL"],[60,11,10,9],[60,13,10,11,"API_BASE_URL"],[60,25,10,23],[61,4,11,2,"timeout"],[61,11,11,9],[61,13,11,11],[61,18,11,16],[62,4,12,2,"headers"],[62,11,12,9],[62,13,12,11],[63,6,13,4],[63,20,13,18],[63,22,13,20],[64,4,14,2],[65,2,15,0],[65,3,15,1],[65,4,15,2],[66,2,17,7],[66,8,17,13,"recognizeImage"],[66,22,17,27],[66,25,17,30],[66,31,17,37,"imageUri"],[66,39,17,45],[66,43,17,50],[67,4,18,2],[67,8,18,6],[68,6,19,4,"console"],[68,13,19,11],[68,14,19,12,"log"],[68,17,19,15],[68,18,19,16],[68,47,19,45],[68,49,19,47,"imageUri"],[68,57,19,55],[68,58,19,56],[69,6,20,4,"console"],[69,13,20,11],[69,14,20,12,"log"],[69,17,20,15],[69,18,20,16],[69,28,20,26],[69,30,20,28],[69,33,20,31,"API_BASE_URL"],[69,45,20,43],[69,67,20,65],[69,68,20,66],[71,6,22,4],[72,6,23,4],[72,12,23,10,"base64"],[72,18,23,16],[72,21,23,19],[72,27,23,25,"FileSystem"],[72,37,23,35],[72,38,23,36,"readAsStringAsync"],[72,55,23,53],[72,56,23,54,"imageUri"],[72,64,23,62],[72,66,23,64],[73,8,24,6,"encoding"],[73,16,24,14],[73,18,24,16,"FileSystem"],[73,28,24,26],[73,29,24,27,"EncodingType"],[73,41,24,39],[73,42,24,40,"Base64"],[74,6,25,4],[74,7,25,5],[74,8,25,6],[75,6,27,4,"console"],[75,13,27,11],[75,14,27,12,"log"],[75,17,27,15],[75,18,27,16],[75,40,27,38],[75,42,27,40,"base64"],[75,48,27,46],[75,49,27,47,"length"],[75,55,27,53],[75,56,27,54],[77,6,29,4],[78,6,30,4],[78,12,30,10,"response"],[78,20,30,18],[78,23,30,21],[78,29,30,27,"api"],[78,32,30,30],[78,33,30,31,"post"],[78,37,30,35],[78,38,30,36],[78,60,30,58],[78,62,30,60],[79,8,31,6,"image_base64"],[79,20,31,18],[79,22,31,20],[79,48,31,46,"base64"],[79,54,31,52],[80,6,32,4],[80,7,32,5],[80,8,32,6],[81,6,34,4,"console"],[81,13,34,11],[81,14,34,12,"log"],[81,17,34,15],[81,18,34,16],[81,47,34,45],[81,49,34,47,"response"],[81,57,34,55],[81,58,34,56,"data"],[81,62,34,60],[81,63,34,61],[82,6,35,4],[82,13,35,11,"response"],[82,21,35,19],[82,22,35,20,"data"],[82,26,35,24],[83,4,36,2],[83,5,36,3],[83,6,36,4],[83,13,36,11,"error"],[83,18,36,16],[83,20,36,18],[84,6,37,4,"console"],[84,13,37,11],[84,14,37,12,"error"],[84,19,37,17],[84,20,37,18],[84,46,37,44],[84,48,37,46,"error"],[84,53,37,51],[84,54,37,52],[85,6,38,4,"console"],[85,13,38,11],[85,14,38,12,"error"],[85,19,38,17],[85,20,38,18],[85,37,38,35],[85,39,38,37,"error"],[85,44,38,42],[85,45,38,43,"response"],[85,53,38,51],[85,55,38,53,"data"],[85,59,38,57],[85,60,38,58],[86,6,39,4],[86,13,39,11],[87,8,40,6,"success"],[87,15,40,13],[87,17,40,15],[87,22,40,20],[88,8,41,6,"error"],[88,13,41,11],[88,15,41,13,"error"],[88,20,41,18],[88,21,41,19,"response"],[88,29,41,27],[88,31,41,29,"data"],[88,35,41,33],[88,37,41,35,"error"],[88,42,41,40],[88,46,41,44,"error"],[88,51,41,49],[88,52,41,50,"message"],[88,59,41,57],[88,63,41,61],[89,6,42,4],[89,7,42,5],[90,4,43,2],[91,2,44,0],[91,3,44,1],[92,2,46,7],[92,8,46,13,"recognizeAudio"],[92,22,46,27],[92,25,46,30],[92,31,46,37,"audioUri"],[92,39,46,45],[92,43,46,50],[93,4,47,2],[93,8,47,6],[94,6,48,4,"console"],[94,13,48,11],[94,14,48,12,"log"],[94,17,48,15],[94,18,48,16],[94,47,48,45],[94,49,48,47,"audioUri"],[94,57,48,55],[94,58,48,56],[96,6,50,4],[97,6,51,4],[97,12,51,10,"base64"],[97,18,51,16],[97,21,51,19],[97,27,51,25,"FileSystem"],[97,37,51,35],[97,38,51,36,"readAsStringAsync"],[97,55,51,53],[97,56,51,54,"audioUri"],[97,64,51,62],[97,66,51,64],[98,8,52,6,"encoding"],[98,16,52,14],[98,18,52,16,"FileSystem"],[98,28,52,26],[98,29,52,27,"EncodingType"],[98,41,52,39],[98,42,52,40,"Base64"],[99,6,53,4],[99,7,53,5],[99,8,53,6],[100,6,55,4,"console"],[100,13,55,11],[100,14,55,12,"log"],[100,17,55,15],[100,18,55,16],[100,40,55,38],[100,42,55,40,"base64"],[100,48,55,46],[100,49,55,47,"length"],[100,55,55,53],[100,56,55,54],[101,6,56,4,"console"],[101,13,56,11],[101,14,56,12,"log"],[101,17,56,15],[101,18,56,16],[101,28,56,26],[101,30,56,28],[101,33,56,31,"API_BASE_URL"],[101,45,56,43],[101,67,56,65],[101,68,56,66],[102,6,58,4],[102,12,58,10,"response"],[102,20,58,18],[102,23,58,21],[102,29,58,27,"api"],[102,32,58,30],[102,33,58,31,"post"],[102,37,58,35],[102,38,58,36],[102,60,58,58],[102,62,58,60],[103,8,59,6,"audio_base64"],[103,20,59,18],[103,22,59,20],[103,47,59,45,"base64"],[103,53,59,51],[104,6,60,4],[104,7,60,5],[104,8,60,6],[105,6,62,4,"console"],[105,13,62,11],[105,14,62,12,"log"],[105,17,62,15],[105,18,62,16],[105,47,62,45],[105,49,62,47,"response"],[105,57,62,55],[105,58,62,56,"data"],[105,62,62,60],[105,63,62,61],[106,6,63,4],[106,13,63,11,"response"],[106,21,63,19],[106,22,63,20,"data"],[106,26,63,24],[107,4,64,2],[107,5,64,3],[107,6,64,4],[107,13,64,11,"error"],[107,18,64,16],[107,20,64,18],[108,6,65,4,"console"],[108,13,65,11],[108,14,65,12,"error"],[108,19,65,17],[108,20,65,18],[108,46,65,44],[108,48,65,46,"error"],[108,53,65,51],[108,54,65,52],[109,6,66,4,"console"],[109,13,66,11],[109,14,66,12,"error"],[109,19,66,17],[109,20,66,18],[109,37,66,35],[109,39,66,37,"error"],[109,44,66,42],[109,45,66,43,"response"],[109,53,66,51],[109,55,66,53,"data"],[109,59,66,57],[109,60,66,58],[110,6,67,4],[110,13,67,11],[111,8,68,6,"success"],[111,15,68,13],[111,17,68,15],[111,22,68,20],[112,8,69,6,"error"],[112,13,69,11],[112,15,69,13,"error"],[112,20,69,18],[112,21,69,19,"response"],[112,29,69,27],[112,31,69,29,"data"],[112,35,69,33],[112,37,69,35,"error"],[112,42,69,40],[112,46,69,44,"error"],[112,51,69,49],[112,52,69,50,"message"],[112,59,69,57],[112,63,69,61],[113,6,70,4],[113,7,70,5],[114,4,71,2],[115,2,72,0],[115,3,72,1],[116,2,74,7],[116,8,74,13,"recognizeVideo"],[116,22,74,27],[116,25,74,30],[116,31,74,37,"videoUri"],[116,39,74,45],[116,43,74,50],[117,4,75,2],[117,8,75,6],[118,6,76,4,"console"],[118,13,76,11],[118,14,76,12,"log"],[118,17,76,15],[118,18,76,16],[118,47,76,45],[118,49,76,47,"videoUri"],[118,57,76,55],[118,58,76,56],[119,6,77,4,"console"],[119,13,77,11],[119,14,77,12,"log"],[119,17,77,15],[119,18,77,16],[119,28,77,26],[119,30,77,28],[119,33,77,31,"API_BASE_URL"],[119,45,77,43],[119,67,77,65],[119,68,77,66],[121,6,79,4],[122,6,80,4],[122,12,80,10,"base64"],[122,18,80,16],[122,21,80,19],[122,27,80,25,"FileSystem"],[122,37,80,35],[122,38,80,36,"readAsStringAsync"],[122,55,80,53],[122,56,80,54,"videoUri"],[122,64,80,62],[122,66,80,64],[123,8,81,6,"encoding"],[123,16,81,14],[123,18,81,16,"FileSystem"],[123,28,81,26],[123,29,81,27,"EncodingType"],[123,41,81,39],[123,42,81,40,"Base64"],[124,6,82,4],[124,7,82,5],[124,8,82,6],[125,6,84,4,"console"],[125,13,84,11],[125,14,84,12,"log"],[125,17,84,15],[125,18,84,16],[125,40,84,38],[125,42,84,40,"base64"],[125,48,84,46],[125,49,84,47,"length"],[125,55,84,53],[125,56,84,54],[127,6,86,4],[128,6,87,4],[128,12,87,10,"response"],[128,20,87,18],[128,23,87,21],[128,29,87,27,"api"],[128,32,87,30],[128,33,87,31,"post"],[128,37,87,35],[128,38,87,36],[128,60,87,58],[128,62,87,60],[129,8,88,6,"video_base64"],[129,20,88,18],[129,22,88,20],[129,47,88,45,"base64"],[129,53,88,51],[130,6,89,4],[130,7,89,5],[130,8,89,6],[131,6,91,4,"console"],[131,13,91,11],[131,14,91,12,"log"],[131,17,91,15],[131,18,91,16],[131,47,91,45],[131,49,91,47,"response"],[131,57,91,55],[131,58,91,56,"data"],[131,62,91,60],[131,63,91,61],[132,6,92,4],[132,13,92,11,"response"],[132,21,92,19],[132,22,92,20,"data"],[132,26,92,24],[133,4,93,2],[133,5,93,3],[133,6,93,4],[133,13,93,11,"error"],[133,18,93,16],[133,20,93,18],[134,6,94,4,"console"],[134,13,94,11],[134,14,94,12,"error"],[134,19,94,17],[134,20,94,18],[134,46,94,44],[134,48,94,46,"error"],[134,53,94,51],[134,54,94,52],[135,6,95,4,"console"],[135,13,95,11],[135,14,95,12,"error"],[135,19,95,17],[135,20,95,18],[135,37,95,35],[135,39,95,37,"error"],[135,44,95,42],[135,45,95,43,"response"],[135,53,95,51],[135,55,95,53,"data"],[135,59,95,57],[135,60,95,58],[136,6,96,4],[136,13,96,11],[137,8,97,6,"success"],[137,15,97,13],[137,17,97,15],[137,22,97,20],[138,8,98,6,"error"],[138,13,98,11],[138,15,98,13,"error"],[138,20,98,18],[138,21,98,19,"response"],[138,29,98,27],[138,31,98,29,"data"],[138,35,98,33],[138,37,98,35,"error"],[138,42,98,40],[138,46,98,44,"error"],[138,51,98,49],[138,52,98,50,"message"],[138,59,98,57],[138,63,98,61],[139,6,99,4],[139,7,99,5],[140,4,100,2],[141,2,101,0],[141,3,101,1],[142,2,103,7],[142,8,103,13,"searchMovie"],[142,19,103,24],[142,22,103,27],[142,28,103,34,"query"],[142,33,103,39],[142,37,103,44],[143,4,104,2],[143,8,104,6],[144,6,105,4],[144,12,105,10,"response"],[144,20,105,18],[144,23,105,21],[144,29,105,27,"api"],[144,32,105,30],[144,33,105,31,"post"],[144,37,105,35],[144,38,105,36],[144,51,105,49],[144,53,105,51],[145,8,105,53,"query"],[146,6,105,59],[146,7,105,60],[146,8,105,61],[147,6,106,4],[147,13,106,11,"response"],[147,21,106,19],[147,22,106,20,"data"],[147,26,106,24],[148,4,107,2],[148,5,107,3],[148,6,107,4],[148,13,107,11,"error"],[148,18,107,16],[148,20,107,18],[149,6,108,4,"console"],[149,13,108,11],[149,14,108,12,"error"],[149,19,108,17],[149,20,108,18],[149,35,108,33],[149,37,108,35,"error"],[149,42,108,40],[149,43,108,41],[150,6,109,4],[150,12,109,10,"error"],[150,17,109,15],[151,4,110,2],[152,2,111,0],[152,3,111,1],[153,0,111,2],[153,3]],"functionMap":{"names":["<global>","recognizeImage","recognizeAudio","recognizeVideo","searchMovie"],"mappings":"AAA;8BCgB;CD2B;8BEE;CF0B;8BGE;CH2B;2BIE;CJQ"},"hasCjsExports":false},"type":"js/module"}]}