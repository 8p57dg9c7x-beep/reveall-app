{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.generateDatabaseId = generateDatabaseId;\n  exports.generateFirestoreId = generateFirestoreId;\n  var PUSH_CHARS = '-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz';\n  var AUTO_ID_CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n  // timestamp of last push, used to prevent local collisions if you push twice in one ms.\n  var lastPushTime = 0;\n\n  // we generate 72-bits of randomness which get turned into 12 characters and appended to the\n  // timestamp to prevent collisions with other clients.  We store the last characters we\n  // generated because in the event of a collision, we'll use those same characters except\n  // \"incremented\" by one.\n  var lastRandChars = [];\n\n  /**\n   * Generate a firebase id - for use with ref().push(val, cb) - e.g. -KXMr7k2tXUFQqiaZRY4'\n   * @param serverTimeOffset - pass in server time offset from native side\n   * @returns {string}\n   */\n  function generateDatabaseId() {\n    var serverTimeOffset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var timeStampChars = new Array(8);\n    var now = new Date().getTime() + serverTimeOffset;\n    var duplicateTime = now === lastPushTime;\n    lastPushTime = now;\n    for (var i = 7; i >= 0; i -= 1) {\n      timeStampChars[i] = PUSH_CHARS.charAt(now % 64);\n      now = Math.floor(now / 64);\n    }\n    if (now !== 0) {\n      throw new Error('We should have converted the entire timestamp.');\n    }\n    var id = timeStampChars.join('');\n    if (!duplicateTime) {\n      for (var _i = 0; _i < 12; _i += 1) {\n        lastRandChars[_i] = Math.floor(Math.random() * 64);\n      }\n    } else {\n      // if the timestamp hasn't changed since last push,\n      // use the same random number, but increment it by 1.\n      var _i2;\n      for (_i2 = 11; _i2 >= 0 && lastRandChars[_i2] === 63; _i2 -= 1) {\n        lastRandChars[_i2] = 0;\n      }\n      lastRandChars[_i2] += 1;\n    }\n    for (var _i3 = 0; _i3 < 12; _i3++) {\n      id += PUSH_CHARS.charAt(lastRandChars[_i3]);\n    }\n    if (id.length !== 20) {\n      throw new Error('Length should be 20.');\n    }\n    return id;\n  }\n\n  /**\n   * Generate a firestore auto id for use with collection/document .add()\n   * @return {string}\n   */\n  function generateFirestoreId() {\n    var autoId = '';\n    for (var i = 0; i < 20; i++) {\n      autoId += AUTO_ID_CHARS.charAt(Math.floor(Math.random() * AUTO_ID_CHARS.length));\n    }\n    return autoId;\n  }\n});","lineCount":73,"map":[[7,2,19,0,"exports"],[7,9,19,0],[7,10,19,0,"generateDatabaseId"],[7,28,19,0],[7,31,19,0,"generateDatabaseId"],[7,49,19,0],[8,2,67,0,"exports"],[8,9,67,0],[8,10,67,0,"generateFirestoreId"],[8,29,67,0],[8,32,67,0,"generateFirestoreId"],[8,51,67,0],[9,2,1,0],[9,6,1,6,"PUSH_CHARS"],[9,16,1,16],[9,19,1,19],[9,85,1,85],[10,2,3,0],[10,6,3,6,"AUTO_ID_CHARS"],[10,19,3,19],[10,22,3,22],[10,86,3,86],[12,2,5,0],[13,2,6,0],[13,6,6,4,"lastPushTime"],[13,18,6,16],[13,21,6,19],[13,22,6,20],[15,2,8,0],[16,2,9,0],[17,2,10,0],[18,2,11,0],[19,2,12,0],[19,6,12,6,"lastRandChars"],[19,19,12,19],[19,22,12,22],[19,24,12,24],[21,2,14,0],[22,0,15,0],[23,0,16,0],[24,0,17,0],[25,0,18,0],[26,2,19,7],[26,11,19,16,"generateDatabaseId"],[26,29,19,34,"generateDatabaseId"],[26,30,19,34],[26,32,19,57],[27,4,19,57],[27,8,19,35,"serverTimeOffset"],[27,24,19,51],[27,27,19,51,"arguments"],[27,36,19,51],[27,37,19,51,"length"],[27,43,19,51],[27,51,19,51,"arguments"],[27,60,19,51],[27,68,19,51,"undefined"],[27,77,19,51],[27,80,19,51,"arguments"],[27,89,19,51],[27,95,19,54],[27,96,19,55],[28,4,20,2],[28,8,20,8,"timeStampChars"],[28,22,20,22],[28,25,20,25],[28,29,20,29,"Array"],[28,34,20,34],[28,35,20,35],[28,36,20,36],[28,37,20,37],[29,4,21,2],[29,8,21,6,"now"],[29,11,21,9],[29,14,21,12],[29,18,21,16,"Date"],[29,22,21,20],[29,23,21,21],[29,24,21,22],[29,25,21,23,"getTime"],[29,32,21,30],[29,33,21,31],[29,34,21,32],[29,37,21,35,"serverTimeOffset"],[29,53,21,51],[30,4,22,2],[30,8,22,8,"duplicateTime"],[30,21,22,21],[30,24,22,24,"now"],[30,27,22,27],[30,32,22,32,"lastPushTime"],[30,44,22,44],[31,4,24,2,"lastPushTime"],[31,16,24,14],[31,19,24,17,"now"],[31,22,24,20],[32,4,26,2],[32,9,26,7],[32,13,26,11,"i"],[32,14,26,12],[32,17,26,15],[32,18,26,16],[32,20,26,18,"i"],[32,21,26,19],[32,25,26,23],[32,26,26,24],[32,28,26,26,"i"],[32,29,26,27],[32,33,26,31],[32,34,26,32],[32,36,26,34],[33,6,27,4,"timeStampChars"],[33,20,27,18],[33,21,27,19,"i"],[33,22,27,20],[33,23,27,21],[33,26,27,24,"PUSH_CHARS"],[33,36,27,34],[33,37,27,35,"charAt"],[33,43,27,41],[33,44,27,42,"now"],[33,47,27,45],[33,50,27,48],[33,52,27,50],[33,53,27,51],[34,6,28,4,"now"],[34,9,28,7],[34,12,28,10,"Math"],[34,16,28,14],[34,17,28,15,"floor"],[34,22,28,20],[34,23,28,21,"now"],[34,26,28,24],[34,29,28,27],[34,31,28,29],[34,32,28,30],[35,4,29,2],[36,4,31,2],[36,8,31,6,"now"],[36,11,31,9],[36,16,31,14],[36,17,31,15],[36,19,31,17],[37,6,32,4],[37,12,32,10],[37,16,32,14,"Error"],[37,21,32,19],[37,22,32,20],[37,70,32,68],[37,71,32,69],[38,4,33,2],[39,4,35,2],[39,8,35,6,"id"],[39,10,35,8],[39,13,35,11,"timeStampChars"],[39,27,35,25],[39,28,35,26,"join"],[39,32,35,30],[39,33,35,31],[39,35,35,33],[39,36,35,34],[40,4,37,2],[40,8,37,6],[40,9,37,7,"duplicateTime"],[40,22,37,20],[40,24,37,22],[41,6,38,4],[41,11,38,9],[41,15,38,13,"i"],[41,17,38,14],[41,20,38,17],[41,21,38,18],[41,23,38,20,"i"],[41,25,38,21],[41,28,38,24],[41,30,38,26],[41,32,38,28,"i"],[41,34,38,29],[41,38,38,33],[41,39,38,34],[41,41,38,36],[42,8,39,6,"lastRandChars"],[42,21,39,19],[42,22,39,20,"i"],[42,24,39,21],[42,25,39,22],[42,28,39,25,"Math"],[42,32,39,29],[42,33,39,30,"floor"],[42,38,39,35],[42,39,39,36,"Math"],[42,43,39,40],[42,44,39,41,"random"],[42,50,39,47],[42,51,39,48],[42,52,39,49],[42,55,39,52],[42,57,39,54],[42,58,39,55],[43,6,40,4],[44,4,41,2],[44,5,41,3],[44,11,41,9],[45,6,42,4],[46,6,43,4],[47,6,44,4],[47,10,44,8,"i"],[47,13,44,9],[48,6,45,4],[48,11,45,9,"i"],[48,14,45,10],[48,17,45,13],[48,19,45,15],[48,21,45,17,"i"],[48,24,45,18],[48,28,45,22],[48,29,45,23],[48,33,45,27,"lastRandChars"],[48,46,45,40],[48,47,45,41,"i"],[48,50,45,42],[48,51,45,43],[48,56,45,48],[48,58,45,50],[48,60,45,52,"i"],[48,63,45,53],[48,67,45,57],[48,68,45,58],[48,70,45,60],[49,8,46,6,"lastRandChars"],[49,21,46,19],[49,22,46,20,"i"],[49,25,46,21],[49,26,46,22],[49,29,46,25],[49,30,46,26],[50,6,47,4],[51,6,49,4,"lastRandChars"],[51,19,49,17],[51,20,49,18,"i"],[51,23,49,19],[51,24,49,20],[51,28,49,24],[51,29,49,25],[52,4,50,2],[53,4,52,2],[53,9,52,7],[53,13,52,11,"i"],[53,16,52,12],[53,19,52,15],[53,20,52,16],[53,22,52,18,"i"],[53,25,52,19],[53,28,52,22],[53,30,52,24],[53,32,52,26,"i"],[53,35,52,27],[53,37,52,29],[53,39,52,31],[54,6,53,4,"id"],[54,8,53,6],[54,12,53,10,"PUSH_CHARS"],[54,22,53,20],[54,23,53,21,"charAt"],[54,29,53,27],[54,30,53,28,"lastRandChars"],[54,43,53,41],[54,44,53,42,"i"],[54,47,53,43],[54,48,53,44],[54,49,53,45],[55,4,54,2],[56,4,56,2],[56,8,56,6,"id"],[56,10,56,8],[56,11,56,9,"length"],[56,17,56,15],[56,22,56,20],[56,24,56,22],[56,26,56,24],[57,6,57,4],[57,12,57,10],[57,16,57,14,"Error"],[57,21,57,19],[57,22,57,20],[57,44,57,42],[57,45,57,43],[58,4,58,2],[59,4,60,2],[59,11,60,9,"id"],[59,13,60,11],[60,2,61,0],[62,2,63,0],[63,0,64,0],[64,0,65,0],[65,0,66,0],[66,2,67,7],[66,11,67,16,"generateFirestoreId"],[66,30,67,35,"generateFirestoreId"],[66,31,67,35],[66,33,67,38],[67,4,68,2],[67,8,68,6,"autoId"],[67,14,68,12],[67,17,68,15],[67,19,68,17],[68,4,70,2],[68,9,70,7],[68,13,70,11,"i"],[68,14,70,12],[68,17,70,15],[68,18,70,16],[68,20,70,18,"i"],[68,21,70,19],[68,24,70,22],[68,26,70,24],[68,28,70,26,"i"],[68,29,70,27],[68,31,70,29],[68,33,70,31],[69,6,71,4,"autoId"],[69,12,71,10],[69,16,71,14,"AUTO_ID_CHARS"],[69,29,71,27],[69,30,71,28,"charAt"],[69,36,71,34],[69,37,71,35,"Math"],[69,41,71,39],[69,42,71,40,"floor"],[69,47,71,45],[69,48,71,46,"Math"],[69,52,71,50],[69,53,71,51,"random"],[69,59,71,57],[69,60,71,58],[69,61,71,59],[69,64,71,62,"AUTO_ID_CHARS"],[69,77,71,75],[69,78,71,76,"length"],[69,84,71,82],[69,85,71,83],[69,86,71,84],[70,4,72,2],[71,4,73,2],[71,11,73,9,"autoId"],[71,17,73,15],[72,2,74,0],[73,0,74,1],[73,3]],"functionMap":{"names":["<global>","generateDatabaseId","generateFirestoreId"],"mappings":"AAA;OCkB;CD0C;OEM;CFO"},"hasCjsExports":false},"type":"js/module"}]}